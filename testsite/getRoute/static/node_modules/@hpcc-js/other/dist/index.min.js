!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@hpcc-js/common"),require("@hpcc-js/layout")):"function"==typeof define&&define.amd?define(["exports","@hpcc-js/common","@hpcc-js/layout"],e):e((t=t||self)["@hpcc-js/other"]={},t["@hpcc-js/common"],t["@hpcc-js/layout"])}(this,function(t,e,r){"use strict";var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function n(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var i,a,s=0,l=0,c=0,u=1e3,p=0,h=0,d=0,f="object"==typeof performance&&performance.now?performance:Date,g="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function y(){return h||(g(m),h=f.now()+d)}function m(){h=0}function v(){this._call=this._time=this._next=null}function _(t,e,r){var o=new v;return o.restart(t,e,r),o}function b(){h=(p=f.now())+d,s=l=0;try{!function(){y(),++s;for(var t,e=i;e;)(t=h-e._time)>=0&&e._call.call(null,t),e=e._next;--s}()}finally{s=0,function(){var t,e,r=i,o=1/0;for(;r;)r._call?(o>r._time&&(o=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:i=e);a=t,x(o)}(),h=0}}function w(){var t=f.now(),e=t-p;e>u&&(d-=e,p=t)}function x(t){if(!s){l&&(l=clearTimeout(l));var e=t-h;e>24?(t<1/0&&(l=setTimeout(b,e)),c&&(c=clearInterval(c))):(c||(p=h,c=setInterval(w,u)),s=1,g(b))}}v.prototype=_.prototype={constructor:v,restart:function(t,e,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?y():+r)+(null==e?0:+e),this._next||a===this||(a?a._next=this:i=this,a=this),this._call=t,this._time=r,x()},stop:function(){this._call&&(this._call=null,this._time=1/0,x())}};var C=function(t){function e(){var e=t.call(this)||this;return e._tag="audio",e._sections={},e}return n(e,t),e.prototype.section=function(t,e,r,o){return arguments.length?1===arguments.length?this._sections[t]:(this._sections[t]={label:t,offset:e,beatLength:r,beatCount:o,endOffset:e+o*r},this):this._sections},e.prototype.getType=function(t){switch(t){case"mp3":return"audio/mpeg; codecs='mp3'";case"ogg":return"audio/ogg; codecs='vorbis'"}return""},e.prototype.enter=function(t,e){var r=this;e.on("play",function(t){r.onPlay(t)})},e.prototype.update=function(t,e){e.selectAll("source").data(this.source(),function(t){return t}).enter().append("source").attr("src",function(t){return t})},e.prototype.createTimer=function(t,e,r){var o=this;_(function(){return o.onTick(t.label,r,t),!0},r*t.beatLength,e+t.offset)},e.prototype.onTick=function(t,e,r){},e.prototype.onPlay=function(t){var e=Date.now();for(var r in this._sections)for(var o=this._sections[r],n=0;n<o.beatCount;++n)this.createTimer(o,e,n)},e.prototype.play=function(t){var e=this;this._element.on("canplaythrough",function(t){e.node().play()}),this.node().load()},e}(e.HTMLWidget);function T(t,e){return t(e={exports:{}},e.exports),e.exports}C.prototype._class+=" other_Audio",C.prototype.publish("source","","string","Audio Source");var S=T(function(t){var e=function(){return function(t){if(document.querySelector){var e={selector:0,source:0,minChars:3,delay:150,offsetLeft:0,offsetTop:1,cache:1,menuClass:"",renderItem:function(t,e){e=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var r=new RegExp("("+e.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+t+'">'+t.replace(r,"<b>$1</b>")+"</div>"},onSelect:function(t,e,r){}};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);for(var o="object"==typeof e.selector?[e.selector]:document.querySelectorAll(e.selector),n=0;n<o.length;n++){var i=o[n];i.sc=document.createElement("div"),i.sc.className="autocomplete-suggestions "+e.menuClass,i.autocompleteAttr=i.getAttribute("autocomplete"),i.setAttribute("autocomplete","off"),i.cache={},i.last_val="",i.updateSC=function(t,r){var o=i.getBoundingClientRect();if(i.sc.style.left=Math.round(o.left+(window.pageXOffset||document.documentElement.scrollLeft)+e.offsetLeft)+"px",i.sc.style.top=Math.round(o.bottom+(window.pageYOffset||document.documentElement.scrollTop)+e.offsetTop)+"px",i.sc.style.width=Math.round(o.right-o.left)+"px",!t&&(i.sc.style.display="block",i.sc.classList.remove("hide"),i.sc.maxHeight||(i.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(i.sc,null):i.sc.currentStyle).maxHeight)),i.sc.suggestionHeight||(i.sc.suggestionHeight=i.sc.querySelector(".autocomplete-suggestion").offsetHeight),i.sc.suggestionHeight))if(r){var n=i.sc.scrollTop,a=r.getBoundingClientRect().top-i.sc.getBoundingClientRect().top;a+i.sc.suggestionHeight-i.sc.maxHeight>0?i.sc.scrollTop=a+i.sc.suggestionHeight+n-i.sc.maxHeight:a<0&&(i.sc.scrollTop=a+n)}else i.sc.scrollTop=0},l(window,"resize",i.updateSC),document.body.appendChild(i.sc),u("autocomplete-suggestion","mouseleave",function(t){var e=i.sc.querySelector(".autocomplete-suggestion.selected");e&&setTimeout(function(){e.className=e.className.replace("selected","")},20)},i.sc),u("autocomplete-suggestion","mouseover",function(t){var e=i.sc.querySelector(".autocomplete-suggestion.selected");e&&(e.className=e.className.replace("selected","")),this.className+=" selected"},i.sc),u("autocomplete-suggestion","mousedown",function(t){if(s(this,"autocomplete-suggestion")){var r=this.getAttribute("data-val");i.value=r,e.onSelect(t,r,this),i.sc.style.display="none",i.sc.classList.add("hide")}},i.sc),i.blurHandler=function(){try{var t=document.querySelector(".autocomplete-suggestions:hover")}catch(e){t=0}t?i!==document.activeElement&&setTimeout(function(){i.focus()},20):(i.last_val=i.value,i.sc.style.display="none",i.sc.classList.add("hide"),setTimeout(function(){i.sc.style.display="none",i.sc.classList.add("hide")},350))},l(i,"blur",i.blurHandler);var a=function(t,r){if(r||(r=i.value),i.cache[r]=t,t.length&&r.length>=e.minChars){for(var o="",n=0;n<t.length;n++)o+=e.renderItem(t[n],r);i.sc.innerHTML=o,i.updateSC(0)}else i.sc.style.display="none";i.sc.classList.add("hide")};i.keydownHandler=function(t){var r,o=window.event?t.keyCode:t.which;if((40==o||38==o)&&i.sc.innerHTML)return(n=i.sc.querySelector(".autocomplete-suggestion.selected"))?(r=40==o?n.nextSibling:n.previousSibling)?(n.className=n.className.replace("selected",""),r.className+=" selected",i.value=r.getAttribute("data-val")):(n.className=n.className.replace("selected",""),i.value=i.last_val,r=0):((r=40==o?i.sc.querySelector(".autocomplete-suggestion"):i.sc.childNodes[i.sc.childNodes.length-1]).className+=" selected",i.value=r.getAttribute("data-val")),i.updateSC(0,r),!1;if(27==o)i.value=i.last_val,i.sc.style.display="none",i.sc.classList.add("hide");else if(13==o||9==o){var n;"none"!==i.sc.style.display&&t.preventDefault(),(n=i.sc.querySelector(".autocomplete-suggestion.selected"))&&"none"!=i.sc.style.display&&(e.onSelect(t,n.getAttribute("data-val"),n),setTimeout(function(){i.sc.style.display="none",i.sc.classList.add("hide")},20))}},l(i,"keydown",i.keydownHandler),i.keyupHandler=function(t){var r=window.event?t.keyCode:t.which;if(!r||(r<35||r>40)&&13!=r&&27!=r){var o=i.value;if(o.length>=e.minChars){if(o!=i.last_val){if(i.last_val=o,clearTimeout(i.timer),e.cache){if(o in i.cache)return void a(i.cache[o]);for(var n=1;n<o.length-e.minChars;n++){var s=o.slice(0,o.length-n);if(s in i.cache&&!i.cache[s].length)return void a([])}}i.timer=setTimeout(function(){e.source(o,a)},e.delay)}}else i.last_val=o,i.sc.style.display="none",i.sc.classList.add("hide")}},l(i,"keyup",i.keyupHandler),i.focusHandler=function(t){i.last_val="\n",i.keyupHandler(t)},e.minChars||l(i,"focus",i.focusHandler)}this.destroy=function(){for(var t=0;t<o.length;t++){var e=o[t];c(window,"resize",e.updateSC),c(e,"blur",e.blurHandler),c(e,"focus",e.focusHandler),c(e,"keydown",e.keydownHandler),c(e,"keyup",e.keyupHandler),e.autocompleteAttr?e.setAttribute("autocomplete",e.autocompleteAttr):e.removeAttribute("autocomplete"),document.body.removeChild(e.sc),e=null}}}function s(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function l(t,e,r){t.attachEvent?t.attachEvent("on"+e,r):t.addEventListener(e,r)}function c(t,e,r){t.detachEvent?t.detachEvent("on"+e,r):t.removeEventListener(e,r)}function u(t,e,r,o){l(o||document,e,function(e){for(var o,n=e.target||e.srcElement;n&&!(o=s(n,t));)n=n.parentElement;o&&r.call(n,e)})}}}();t.exports?t.exports=e:window.autoComplete=e}),k=Object.freeze({default:S,__moduleExports:S});function P(t,e){void 0===e&&(e={});var r=e.insertAt;if(t&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===r&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}}P(".other_autoCompleteText label{display:inline-block;vertical-align:top}.other_autoCompleteText input{width:100%;max-width:600px;outline:0;border-radius:100}.autocomplete-suggestions{text-align:left;cursor:default;border:1px solid #ccc;border-top:0;background:#fff;box-shadow:-1px 1px 3px rgba(0,0,0,.1);position:absolute;display:none;z-index:9999;max-height:254px;overflow:hidden;overflow-y:auto;box-sizing:border-box}.autocomplete-suggestion{position:relative;padding:0 .6em;line-height:23px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:1.02em;color:#333}.autocomplete-suggestion b{font-weight:400;color:#1f8dd6}.autocomplete-suggestion.selected{background:#f0f0f0}");var E=function(t){function e(){var e=t.call(this)||this;return e._tag="div",e}return n(e,t),e.prototype.autoCompleteTextData=function(){return 0===this.data().length?[]:this._db.rollupView([this.textColumn(),this.valueColumn()]).entries().map(function(t,e){return{idx:e,text:t.key,value:t.values.length?t.values[0].key:"",origRow:t.values.length&&t.values[0].value.length?t.values[0].value[0]:[]}},this)},e.prototype.enter=function(e,r){t.prototype.enter.call(this,e,r),this._span=r.append("span"),this._prompt=this._span.append("label").attr("for",this.id()+"_input"),this._input=this._span.append("input").attr("id",this.id()+"_input").attr("name",this.id()+"_input_name").attr("type","text").attr("placeholder",this.placeholder())},e.prototype.update=function(e,r){if(t.prototype.update.call(this,e,r),this._prompt.text(this.label()),this._input.style("width",this.textboxWidth_exists()?this.textboxWidth()+"px":null),this._prevMinCharsText!==this.minCharsText()){this._prevMinCharsText=this.minCharsText(),this._autoComplete&&this._autoComplete.destroy();var o=this;this._autoComplete=new k({selector:"#"+this.id()+"_input",minChars:this.minCharsText(),delay:150,offsetLeft:0,offsetTop:1,source:function(t,e){var r=o._db.fieldByLabel(o.textColumn());r&&(t=t.toLowerCase(),e(o.autoCompleteTextData().filter(function(e){return e.origRow[r.idx].toLowerCase().indexOf(t)>=0}).map(function(t){return{text:t.origRow[r.idx],rowIdx:t.idx}})))},renderItem:function(t,e){e=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var r=new RegExp("("+e.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+t.text+'" data-row-idx="'+t.rowIdx+'">'+t.text.replace(r,"<b>$1</b>")+"</div>"},onSelect:function(t,e,r){var n=+r.getAttribute("data-row-idx"),i=o.autoCompleteTextData()[n];o.click(o.rowToObj(i.origRow),o.valueColumn(),!0)}})}},e.prototype.exit=function(e,r){this._autoComplete&&this._autoComplete.destroy(),this._span.remove(),t.prototype.exit.call(this,e,r)},e.prototype.click=function(t,e,r){console.log("Click:  "+JSON.stringify(t)+", "+e+", "+r)},e}(e.HTMLWidget);function R(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}E.prototype._class+=" other_AutoCompleteText",E.prototype.publish("label","Label: ","string","Label for AutoCompleteText"),E.prototype.publish("textboxWidth",null,"number","width of textbox",null,{optional:!0}),E.prototype.publish("placeholder","Search...","string","Placeholder for AutoCompleteText"),E.prototype.publish("valueColumn",null,"set","Select column for autocomplete",function(){return this.columns()},{optional:!0}),E.prototype.publish("textColumn",null,"set","Select value(s)",function(){return this.columns()},{optional:!0}),E.prototype.publish("minCharsText",1,"number","Size of multiAutoCompleteText box");var I,W;1===(I=R).length&&(W=I,I=function(t,e){return R(W(t),e)});function D(t,e){var r,o,n,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(r=t[a])&&r>=r)for(o=n=r;++a<i;)null!=(r=t[a])&&(o>r&&(o=r),n<r&&(n=r))}else for(;++a<i;)if(null!=(r=e(t[a],a,t))&&r>=r)for(o=n=r;++a<i;)null!=(r=e(t[a],a,t))&&(o>r&&(o=r),n<r&&(n=r));return[o,n]}function A(){}function N(t,e){var r=new A;if(t instanceof A)t.each(function(t,e){r.set(e,t)});else if(Array.isArray(t)){var o,n=-1,i=t.length;if(null==e)for(;++n<i;)r.set(n,t[n]);else for(;++n<i;)r.set(e(o=t[n],n,t),o)}else if(t)for(var a in t)r.set(a,t[a]);return r}function M(){}A.prototype=N.prototype={constructor:A,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var B=N.prototype;function O(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,o=t.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+t.slice(r+1)]}M.prototype=function(t,e){var r=new M;if(t instanceof M)t.each(function(t){r.add(t)});else if(t){var o=-1,n=t.length;if(null==e)for(;++o<n;)r.add(t[o]);else for(;++o<n;)r.add(e(t[o],o,t))}return r}.prototype={constructor:M,has:B.has,add:function(t){return this["$"+(t+="")]=t,this},remove:B.remove,clear:B.clear,values:B.keys,size:B.size,empty:B.empty,each:B.each};var H,L=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function U(t){return new z(t)}function z(t){if(!(e=L.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function F(t,e){var r=O(t,e);if(!r)return t+"";var o=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+o:o.length>n+1?o.slice(0,n+1)+"."+o.slice(n+1):o+new Array(n-o.length+2).join("0")}U.prototype=z.prototype,z.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var j={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return F(100*t,e)},r:F,s:function(t,e){var r=O(t,e);if(!r)return t+"";var o=r[0],n=r[1],i=n-(H=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,a=o.length;return i===a?o:i>a?o+new Array(i-a+1).join("0"):i>0?o.slice(0,i)+"."+o.slice(i):"0."+new Array(1-i).join("0")+O(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function V(t){return t}var q,Y,X=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function G(t){var e,r,o=t.grouping&&t.thousands?(e=t.grouping,r=t.thousands,function(t,o){for(var n=t.length,i=[],a=0,s=e[0],l=0;n>0&&s>0&&(l+s+1>o&&(s=Math.max(1,o-l)),i.push(t.substring(n-=s,n+s)),!((l+=s+1)>o));)s=e[a=(a+1)%e.length];return i.reverse().join(r)}):V,n=t.currency,i=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):V,s=t.percent||"%";function l(t){var e=(t=U(t)).fill,r=t.align,l=t.sign,c=t.symbol,u=t.zero,p=t.width,h=t.comma,d=t.precision,f=t.trim,g=t.type;"n"===g?(h=!0,g="g"):j[g]||(null==d&&(d=12),f=!0,g="g"),(u||"0"===e&&"="===r)&&(u=!0,e="0",r="=");var y="$"===c?n[0]:"#"===c&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",m="$"===c?n[1]:/[%p]/.test(g)?s:"",v=j[g],_=/[defgprs%]/.test(g);function b(t){var n,s,c,b=y,w=m;if("c"===g)w=v(t)+w,t="";else{var x=(t=+t)<0;if(t=v(Math.abs(t),d),f&&(t=function(t){t:for(var e,r=t.length,o=1,n=-1;o<r;++o)switch(t[o]){case".":n=e=o;break;case"0":0===n&&(n=o),e=o;break;default:if(n>0){if(!+t[o])break t;n=0}}return n>0?t.slice(0,n)+t.slice(e+1):t}(t)),x&&0==+t&&(x=!1),b=(x?"("===l?l:"-":"-"===l||"("===l?"":l)+b,w=("s"===g?X[8+H/3]:"")+w+(x&&"("===l?")":""),_)for(n=-1,s=t.length;++n<s;)if(48>(c=t.charCodeAt(n))||c>57){w=(46===c?i+t.slice(n+1):t.slice(n))+w,t=t.slice(0,n);break}}h&&!u&&(t=o(t,1/0));var C=b.length+t.length+w.length,T=C<p?new Array(p-C+1).join(e):"";switch(h&&u&&(t=o(T+t,T.length?p-w.length:1/0),T=""),r){case"<":t=b+t+w+T;break;case"=":t=b+T+t+w;break;case"^":t=T.slice(0,C=T.length>>1)+b+t+w+T.slice(C);break;default:t=T+b+t+w}return a(t)}return d=null==d?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),b.toString=function(){return t+""},b}return{format:l,formatPrefix:function(t,e){var r,o=l(((t=U(t)).type="f",t)),n=3*Math.max(-8,Math.min(8,Math.floor((r=e,((r=O(Math.abs(r)))?r[1]:NaN)/3)))),i=Math.pow(10,-n),a=X[8+n/3];return function(t){return o(i*t)+a}}}}q=G({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Y=q.format,q.formatPrefix;var J="http://www.w3.org/1999/xhtml",$={svg:"http://www.w3.org/2000/svg",xhtml:J,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Q(t){var e=t+="",r=e.indexOf(":");return r>=0&&"xmlns"!==(e=t.slice(0,r))&&(t=t.slice(r+1)),$.hasOwnProperty(e)?{space:$[e],local:t}:t}function Z(t){var e=Q(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===J&&e.documentElement.namespaceURI===J?e.createElement(t):e.createElementNS(r,t)}})(e)}function K(){}function tt(t){return null==t?K:function(){return this.querySelector(t)}}function et(){return[]}function rt(t){return new Array(t.length)}function ot(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ot.prototype={constructor:ot,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var nt="$";function it(t,e,r,o,n,i){for(var a,s=0,l=e.length,c=i.length;s<c;++s)(a=e[s])?(a.__data__=i[s],o[s]=a):r[s]=new ot(t,i[s]);for(;s<l;++s)(a=e[s])&&(n[s]=a)}function at(t,e,r,o,n,i,a){var s,l,c,u={},p=e.length,h=i.length,d=new Array(p);for(s=0;s<p;++s)(l=e[s])&&(d[s]=c=nt+a.call(l,l.__data__,s,e),c in u?n[s]=l:u[c]=l);for(s=0;s<h;++s)(l=u[c=nt+a.call(t,i[s],s,i)])?(o[s]=l,l.__data__=i[s],u[c]=null):r[s]=new ot(t,i[s]);for(s=0;s<p;++s)(l=e[s])&&u[d[s]]===l&&(n[s]=l)}function st(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function lt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ct(t){return t.trim().split(/^|\s+/)}function ut(t){return t.classList||new pt(t)}function pt(t){this._node=t,this._names=ct(t.getAttribute("class")||"")}function ht(t,e){for(var r=ut(t),o=-1,n=e.length;++o<n;)r.add(e[o])}function dt(t,e){for(var r=ut(t),o=-1,n=e.length;++o<n;)r.remove(e[o])}function ft(){this.textContent=""}function gt(){this.innerHTML=""}function yt(){this.nextSibling&&this.parentNode.appendChild(this)}function mt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vt(){return null}function _t(){var t=this.parentNode;t&&t.removeChild(this)}function bt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function wt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}pt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var xt={},Ct=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(xt={mouseenter:"mouseover",mouseleave:"mouseout"}));function Tt(t,e,r){return t=St(t,e,r),function(e){var r=e.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,e)}}function St(t,e,r){return function(o){var n=Ct;Ct=o;try{t.call(this,this.__data__,e,r)}finally{Ct=n}}}function kt(t){return function(){var e=this.__on;if(e){for(var r,o=0,n=-1,i=e.length;o<i;++o)r=e[o],t.type&&r.type!==t.type||r.name!==t.name?e[++n]=r:this.removeEventListener(r.type,r.listener,r.capture);++n?e.length=n:delete this.__on}}}function Pt(t,e,r){var o=xt.hasOwnProperty(t.type)?Tt:St;return function(n,i,a){var s,l=this.__on,c=o(e,i,a);if(l)for(var u=0,p=l.length;u<p;++u)if((s=l[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=r),void(s.value=e);this.addEventListener(t.type,c,r),s={type:t.type,name:t.name,value:e,listener:c,capture:r},l?l.push(s):this.__on=[s]}}function Et(t,e,r){var o=lt(t),n=o.CustomEvent;"function"==typeof n?n=new n(e,r):(n=o.document.createEvent("Event"),r?(n.initEvent(e,r.bubbles,r.cancelable),n.detail=r.detail):n.initEvent(e,!1,!1)),t.dispatchEvent(n)}var Rt=[null];function It(t,e){this._groups=t,this._parents=e}function Wt(t){return"string"==typeof t?new It([[document.querySelector(t)]],[document.documentElement]):new It([[t]],Rt)}It.prototype=function(){return new It([[document.documentElement]],Rt)}.prototype={constructor:It,select:function(t){"function"!=typeof t&&(t=tt(t));for(var e=this._groups,r=e.length,o=new Array(r),n=0;n<r;++n)for(var i,a,s=e[n],l=s.length,c=o[n]=new Array(l),u=0;u<l;++u)(i=s[u])&&(a=t.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),c[u]=a);return new It(o,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?et:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,r=e.length,o=[],n=[],i=0;i<r;++i)for(var a,s=e[i],l=s.length,c=0;c<l;++c)(a=s[c])&&(o.push(t.call(a,a.__data__,c,s)),n.push(a));return new It(o,n)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,r=e.length,o=new Array(r),n=0;n<r;++n)for(var i,a=e[n],s=a.length,l=o[n]=[],c=0;c<s;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&l.push(i);return new It(o,this._parents)},data:function(t,e){if(!t)return f=new Array(this.size()),u=-1,this.each(function(t){f[++u]=t}),f;var r,o=e?at:it,n=this._parents,i=this._groups;"function"!=typeof t&&(r=t,t=function(){return r});for(var a=i.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var p=n[u],h=i[u],d=h.length,f=t.call(p,p&&p.__data__,u,n),g=f.length,y=l[u]=new Array(g),m=s[u]=new Array(g);o(p,h,y,m,c[u]=new Array(d),f,e);for(var v,_,b=0,w=0;b<g;++b)if(v=y[b]){for(b>=w&&(w=b+1);!(_=m[w])&&++w<g;);v._next=_||null}}return(s=new It(s,n))._enter=l,s._exit=c,s},enter:function(){return new It(this._enter||this._groups.map(rt),this._parents)},exit:function(){return new It(this._exit||this._groups.map(rt),this._parents)},join:function(t,e,r){var o=this.enter(),n=this,i=this.exit();return o="function"==typeof t?t(o):o.append(t+""),null!=e&&(n=e(n)),null==r?i.remove():r(i),o&&n?o.merge(n).order():n},merge:function(t){for(var e=this._groups,r=t._groups,o=e.length,n=r.length,i=Math.min(o,n),a=new Array(o),s=0;s<i;++s)for(var l,c=e[s],u=r[s],p=c.length,h=a[s]=new Array(p),d=0;d<p;++d)(l=c[d]||u[d])&&(h[d]=l);for(;s<o;++s)a[s]=e[s];return new It(a,this._parents)},order:function(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var o,n=t[e],i=n.length-1,a=n[i];--i>=0;)(o=n[i])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this},sort:function(t){function e(e,r){return e&&r?t(e.__data__,r.__data__):!e-!r}t||(t=st);for(var r=this._groups,o=r.length,n=new Array(o),i=0;i<o;++i){for(var a,s=r[i],l=s.length,c=n[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new It(n,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var o=t[e],n=0,i=o.length;n<i;++n){var a=o[n];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,r=0,o=e.length;r<o;++r)for(var n,i=e[r],a=0,s=i.length;a<s;++a)(n=i[a])&&t.call(n,n.__data__,a,i);return this},attr:function(t,e){var r=Q(t);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((null==e?r.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?r.local?function(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}:function(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}:r.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(r,e))},style:function(t,e,r){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,r){return function(){var o=e.apply(this,arguments);null==o?this.style.removeProperty(t):this.style.setProperty(t,o,r)}}:function(t,e,r){return function(){this.style.setProperty(t,e,r)}})(t,e,null==r?"":r)):function(t,e){return t.style.getPropertyValue(e)||lt(t).getComputedStyle(t,null).getPropertyValue(e)}(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var r=e.apply(this,arguments);null==r?delete this[t]:this[t]=r}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var r=ct(t+"");if(arguments.length<2){for(var o=ut(this.node()),n=-1,i=r.length;++n<i;)if(!o.contains(r[n]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?ht:dt)(this,t)}}:e?function(t){return function(){ht(this,t)}}:function(t){return function(){dt(this,t)}})(r,e))},text:function(t){return arguments.length?this.each(null==t?ft:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?gt:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(yt)},lower:function(){return this.each(mt)},append:function(t){var e="function"==typeof t?t:Z(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var r="function"==typeof t?t:Z(t),o=null==e?vt:"function"==typeof e?e:tt(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)})},remove:function(){return this.each(_t)},clone:function(t){return this.select(t?wt:bt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,r){var o,n,i=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");return r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),{type:t,name:e}})}(t+""),a=i.length;if(!(arguments.length<2)){for(s=e?Pt:kt,null==r&&(r=!1),o=0;o<a;++o)this.each(s(i[o],e,r));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(o=0,l=s[c];o<a;++o)if((n=i[o]).type===l.type&&n.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return Et(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return Et(this,t,e)}})(t,e))}};var Dt=0;function At(){return new Nt}function Nt(){this._="@"+(++Dt).toString(36)}function Mt(t){return"string"==typeof t?new It([document.querySelectorAll(t)],[document.documentElement]):new It([null==t?[]:t],Rt)}Nt.prototype=At.prototype={constructor:Nt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Bt=new Date,Ot=new Date;function Ht(t,e,r,o){function n(e){return t(e=new Date(+e)),e}return n.floor=n,n.ceil=function(r){return t(r=new Date(r-1)),e(r,1),t(r),r},n.round=function(t){var e=n(t),r=n.ceil(t);return t-e<r-t?e:r},n.offset=function(t,r){return e(t=new Date(+t),null==r?1:Math.floor(r)),t},n.range=function(r,o,i){var a=[];if(r=n.ceil(r),i=null==i?1:Math.floor(i),!(r<o&&i>0))return a;do{a.push(new Date(+r))}while(e(r,i),t(r),r<o);return a},n.filter=function(r){return Ht(function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)},function(t,o){if(t>=t)for(;--o>=0;)for(;e(t,1),!r(t););})},r&&(n.count=function(e,o){return Bt.setTime(+e),Ot.setTime(+o),t(Bt),t(Ot),Math.floor(r(Bt,Ot))},n.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?n.filter(o?function(e){return o(e)%t==0}:function(e){return n.count(0,e)%t==0}):n:null}),n}var Lt=Ht(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Lt.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ht(function(e){e.setTime(Math.floor(e/t)*t)},function(e,r){e.setTime(+e+r*t)},function(e,r){return(r-e)/t}):Lt:null};var Ut=6e4,zt=6048e5,Ft=(Ht(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Ht(function(t){t.setTime(Math.floor(t/Ut)*Ut)},function(t,e){t.setTime(+t+e*Ut)},function(t,e){return(e-t)/Ut},function(t){return t.getMinutes()}),Ht(function(t){var e=t.getTimezoneOffset()*Ut%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),Ht(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ut)/864e5},function(t){return t.getDate()-1})),jt=Ft.range;function Vt(t){return Ht(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ut)/zt})}var qt=Vt(0),Yt=Vt(1),Xt=(Vt(2),Vt(3),Vt(4)),Gt=(Vt(5),Vt(6),Ht(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}).range),Jt=Ht(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Jt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ht(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r*t)}):null};Ht(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Ut)},function(t,e){return(e-t)/Ut},function(t){return t.getUTCMinutes()}),Ht(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()});var $t=Ht(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});function Qt(t){return Ht(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/zt})}var Zt=Qt(0),Kt=Qt(1),te=(Qt(2),Qt(3),Qt(4)),ee=(Qt(5),Qt(6),Ht(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Ht(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));function re(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function oe(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ne(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}ee.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ht(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r*t)}):null};var ie,ae,se,le,ce={"-":"",_:" ",0:"0"},ue=/^\s*\d+/,pe=/^%/,he=/[\\^$*+?|[\]().{}]/g;function de(t,e,r){var o=t<0?"-":"",n=(o?-t:t)+"",i=n.length;return o+(i<r?new Array(r-i+1).join(e)+n:n)}function fe(t){return t.replace(he,"\\$&")}function ge(t){return new RegExp("^(?:"+t.map(fe).join("|")+")","i")}function ye(t){for(var e={},r=-1,o=t.length;++r<o;)e[t[r].toLowerCase()]=r;return e}function me(t,e,r){var o=ue.exec(e.slice(r,r+1));return o?(t.w=+o[0],r+o[0].length):-1}function ve(t,e,r){var o=ue.exec(e.slice(r,r+1));return o?(t.u=+o[0],r+o[0].length):-1}function _e(t,e,r){var o=ue.exec(e.slice(r,r+2));return o?(t.U=+o[0],r+o[0].length):-1}function be(t,e,r){var o=ue.exec(e.slice(r,r+2));return o?(t.V=+o[0],r+o[0].length):-1}function we(t,e,r){var o=ue.exec(e.slice(r,r+2));return o?(t.W=+o[0],r+o[0].length):-1}function xe(t,e,r){var o=ue.exec(e.slice(r,r+4));return o?(t.y=+o[0],r+o[0].length):-1}function Ce(t,e,r){var o=ue.exec(e.slice(r,r+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),r+o[0].length):-1}function Te(t,e,r){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),r+o[0].length):-1}function Se(t,e,r){var o=ue.exec(e.slice(r,r+2));return o?(t.m=o[0]-1,r+o[0].length):-1}function ke(t,e,r){var o=ue.exec(e.slice(r,r+2));return o?(t.d=+o[0],r+o[0].length):-1}function Pe(t,e,r){var o=ue.exec(e.slice(r,r+3));return o?(t.m=0,t.d=+o[0],r+o[0].length):-1}function Ee(t,e,r){var o=ue.exec(e.slice(r,r+2));return o?(t.H=+o[0],r+o[0].length):-1}function Re(t,e,r){var o=ue.exec(e.slice(r,r+2));return o?(t.M=+o[0],r+o[0].length):-1}function Ie(t,e,r){var o=ue.exec(e.slice(r,r+2));return o?(t.S=+o[0],r+o[0].length):-1}function We(t,e,r){var o=ue.exec(e.slice(r,r+3));return o?(t.L=+o[0],r+o[0].length):-1}function De(t,e,r){var o=ue.exec(e.slice(r,r+6));return o?(t.L=Math.floor(o[0]/1e3),r+o[0].length):-1}function Ae(t,e,r){var o=pe.exec(e.slice(r,r+1));return o?r+o[0].length:-1}function Ne(t,e,r){var o=ue.exec(e.slice(r));return o?(t.Q=+o[0],r+o[0].length):-1}function Me(t,e,r){var o=ue.exec(e.slice(r));return o?(t.Q=1e3*+o[0],r+o[0].length):-1}function Be(t,e){return de(t.getDate(),e,2)}function Oe(t,e){return de(t.getHours(),e,2)}function He(t,e){return de(t.getHours()%12||12,e,2)}function Le(t,e){return de(1+Ft.count(Jt(t),t),e,3)}function Ue(t,e){return de(t.getMilliseconds(),e,3)}function ze(t,e){return Ue(t,e)+"000"}function Fe(t,e){return de(t.getMonth()+1,e,2)}function je(t,e){return de(t.getMinutes(),e,2)}function Ve(t,e){return de(t.getSeconds(),e,2)}function qe(t){var e=t.getDay();return 0===e?7:e}function Ye(t,e){return de(qt.count(Jt(t),t),e,2)}function Xe(t,e){var r=t.getDay();return t=r>=4||0===r?Xt(t):Xt.ceil(t),de(Xt.count(Jt(t),t)+(4===Jt(t).getDay()),e,2)}function Ge(t){return t.getDay()}function Je(t,e){return de(Yt.count(Jt(t),t),e,2)}function $e(t,e){return de(t.getFullYear()%100,e,2)}function Qe(t,e){return de(t.getFullYear()%1e4,e,4)}function Ze(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+de(e/60|0,"0",2)+de(e%60,"0",2)}function Ke(t,e){return de(t.getUTCDate(),e,2)}function tr(t,e){return de(t.getUTCHours(),e,2)}function er(t,e){return de(t.getUTCHours()%12||12,e,2)}function rr(t,e){return de(1+$t.count(ee(t),t),e,3)}function or(t,e){return de(t.getUTCMilliseconds(),e,3)}function nr(t,e){return or(t,e)+"000"}function ir(t,e){return de(t.getUTCMonth()+1,e,2)}function ar(t,e){return de(t.getUTCMinutes(),e,2)}function sr(t,e){return de(t.getUTCSeconds(),e,2)}function lr(t){var e=t.getUTCDay();return 0===e?7:e}function cr(t,e){return de(Zt.count(ee(t),t),e,2)}function ur(t,e){var r=t.getUTCDay();return t=r>=4||0===r?te(t):te.ceil(t),de(te.count(ee(t),t)+(4===ee(t).getUTCDay()),e,2)}function pr(t){return t.getUTCDay()}function hr(t,e){return de(Kt.count(ee(t),t),e,2)}function dr(t,e){return de(t.getUTCFullYear()%100,e,2)}function fr(t,e){return de(t.getUTCFullYear()%1e4,e,4)}function gr(){return"+0000"}function yr(){return"%"}function mr(t){return+t}function vr(t){return Math.floor(+t/1e3)}!function(t){ie=function(t){var e=t.dateTime,r=t.date,o=t.time,n=t.periods,i=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=ge(n),u=ye(n),p=ge(i),h=ye(i),d=ge(a),f=ye(a),g=ge(s),y=ye(s),m=ge(l),v=ye(l),_={a:function(t){return a[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Be,e:Be,f:ze,H:Oe,I:He,j:Le,L:Ue,m:Fe,M:je,p:function(t){return n[+(t.getHours()>=12)]},Q:mr,s:vr,S:Ve,u:qe,U:Ye,V:Xe,w:Ge,W:Je,x:null,X:null,y:$e,Y:Qe,Z:Ze,"%":yr},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Ke,e:Ke,f:nr,H:tr,I:er,j:rr,L:or,m:ir,M:ar,p:function(t){return n[+(t.getUTCHours()>=12)]},Q:mr,s:vr,S:sr,u:lr,U:cr,V:ur,w:pr,W:hr,x:null,X:null,y:dr,Y:fr,Z:gr,"%":yr},w={a:function(t,e,r){var o=d.exec(e.slice(r));return o?(t.w=f[o[0].toLowerCase()],r+o[0].length):-1},A:function(t,e,r){var o=p.exec(e.slice(r));return o?(t.w=h[o[0].toLowerCase()],r+o[0].length):-1},b:function(t,e,r){var o=m.exec(e.slice(r));return o?(t.m=v[o[0].toLowerCase()],r+o[0].length):-1},B:function(t,e,r){var o=g.exec(e.slice(r));return o?(t.m=y[o[0].toLowerCase()],r+o[0].length):-1},c:function(t,r,o){return T(t,e,r,o)},d:ke,e:ke,f:De,H:Ee,I:Ee,j:Pe,L:We,m:Se,M:Re,p:function(t,e,r){var o=c.exec(e.slice(r));return o?(t.p=u[o[0].toLowerCase()],r+o[0].length):-1},Q:Ne,s:Me,S:Ie,u:ve,U:_e,V:be,w:me,W:we,x:function(t,e,o){return T(t,r,e,o)},X:function(t,e,r){return T(t,o,e,r)},y:Ce,Y:xe,Z:Te,"%":Ae};function x(t,e){return function(r){var o,n,i,a=[],s=-1,l=0,c=t.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(n=ce[o=t.charAt(++s)])?o=t.charAt(++s):n="e"===o?" ":"0",(i=e[o])&&(o=i(r,n)),a.push(o),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function C(t,e){return function(r){var o,n,i=ne(1900);if(T(i,t,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("p"in i&&(i.H=i.H%12+12*i.p),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(n=(o=oe(ne(i.y))).getUTCDay(),o=n>4||0===n?Kt.ceil(o):Kt(o),o=$t.offset(o,7*(i.V-1)),i.y=o.getUTCFullYear(),i.m=o.getUTCMonth(),i.d=o.getUTCDate()+(i.w+6)%7):(n=(o=e(ne(i.y))).getDay(),o=n>4||0===n?Yt.ceil(o):Yt(o),o=Ft.offset(o,7*(i.V-1)),i.y=o.getFullYear(),i.m=o.getMonth(),i.d=o.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),n="Z"in i?oe(ne(i.y)).getUTCDay():e(ne(i.y)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(n+5)%7:i.w+7*i.U-(n+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,oe(i)):e(i)}}function T(t,e,r,o){for(var n,i,a=0,s=e.length,l=r.length;a<s;){if(o>=l)return-1;if(37===(n=e.charCodeAt(a++))){if(n=e.charAt(a++),!(i=w[n in ce?e.charAt(a++):n])||(o=i(t,r,o))<0)return-1}else if(n!=r.charCodeAt(o++))return-1}return o}return _.x=x(r,_),_.X=x(o,_),_.c=x(e,_),b.x=x(r,b),b.X=x(o,b),b.c=x(e,b),{format:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=C(t+="",re);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=C(t,oe);return e.toString=function(){return t},e}}}(t),ie.format,ae=ie.parse,se=ie.utcFormat,le=ie.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||se("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||le("%Y-%m-%dT%H:%M:%S.%LZ");P(".other_CalendarHeatMap{shape-rendering:crispEdges}.other_CalendarHeatMap .day{fill:#fff;stroke:#ccc}.other_CalendarHeatMap .day.selected{stroke:red}.other_CalendarHeatMap .day.over{stroke:orange}.other_CalendarHeatMap .day.selected.over{stroke:red}.other_CalendarHeatMap .month{fill:none;stroke:#000;stroke-width:2px}");var _r=function(t){function r(){var r=t.call(this)||this;return e.Utility.SimpleSelectionMixin.call(r),r}return n(r,t),r.prototype.calendarData=function(){if(0===this.fields().length||0===this.data().length)return[];var t=ae(this.datePattern()),e=this.aggrDeltaColumn()?Y(".1%"):Y("s");return this._prevDateColumn===this.dateColumn()&&this._prevAggrType===this.aggrType()&&this._prevAggrColumn===this.aggrColumn()&&this._prevAggrDeltaColumn===this.aggrDeltaColumn()||(this._prevDateColumn=this.dateColumn(),this._prevAggrType=this.aggrType(),this._prevAggrColumn=this.aggrColumn(),this._prevAggrDeltaColumn=this.aggrDeltaColumn(),this._view=this._db.aggregateView([this.dateColumn()],this.aggrType(),this.aggrColumn(),this.aggrDeltaColumn())),this._view.entries().map(function(r){return r.dateKey=t(r.key),r.formattedValues=e(r.value.aggregate),r.origRows=r.value,r})},r.prototype.calcDelta=function(t){return(t.Close-t.Open)/t.Open},r.prototype.enter=function(e,r){t.prototype.enter.call(this,e,r),Wt(e.parentNode).style("overflow-y","scroll").style("overflow-x","hidden").style("height","100%").style("width","100%"),this._selection.widgetElement(r)},r.prototype.update=function(e,r){t.prototype.update.call(this,e,r),this._palette=this._palette.switch(this.paletteID());var o=this.width(),n=o/12/5,i=8*n,a=this.calendarData(),s=N(a,function(t){return t.dateKey}),l=D(a,function(t){return t.dateKey.getFullYear()}),c=this,u=r.selectAll("svg").data(function(t,e,r){t=+t,e=+e,r=(n=arguments.length)<2?(e=t,t=0,1):n<3?1:+r;for(var o=-1,n=0|Math.max(0,Math.ceil((e-t)/r)),i=new Array(n);++o<n;)i[o]=t+o*r;return i}(+l[0],+l[1]+1)),p=u.enter().append("svg").each(function(t){var e=Wt(this).append("g");e.append("text").style("text-anchor","middle"),e.append("g").attr("class","days");var r=Gt(new Date(t,0,1),new Date(t+1,0,1)),o=e.append("g").attr("class","months");r.forEach(function(t){o.append("path").attr("class","month").attr("d",m(t)).style("stroke",c.monthStrokeColor()).style("stroke-width",c.monthStrokeWidth())})}).merge(u).attr("width",o).attr("height",i);p.select("g").attr("transform","translate("+(o-53*n)/2+","+(i-7*n-1)+")"),p.select("text").attr("transform","translate(-6,"+3.5*n+")rotate(-90)").text(function(t){return t}),u.exit().remove();var h=D(a,function(t){return t.value.aggregate});if(this.aggrDeltaColumn()){var d=Math.max(Math.abs(+h[0]),Math.abs(+h[1]));h=[-d,d]}var f=p.select(".days").selectAll(".day").data(function(t){return jt(new Date(t,0,1),new Date(t+1,0,1))}),g=f.enter().append("rect").attr("class","day").call(this._selection.enter.bind(this._selection)).on("click",function(t){var e=s.get(t);e&&e.value&&e.value&&e.value.length&&c.click(c.rowToObj(e.value[0]),c.dateColumn(),c._selection.selected(this))}).on("dblclick",function(t){var e=s.get(t);e&&e.value&&e.value&&e.value.length&&c.dblclick(c.rowToObj(e.value[0]),c.dateColumn(),c._selection.selected(this))}).each(function(t){Wt(this).append("title")}).merge(f).attr("x",function(t){return qt.count(Jt(t),t)*n}).attr("y",function(t){return t.getDay()*n}).attr("width",n).attr("height",n).style("stroke",this.dayStrokeColor()).style("stroke-width",this.dayStrokeWidth()).style("fill",null);g.select("title").text(function(t){return t}),g.filter(function(t){return s.has(t)}).style("fill",function(t){var e=s.get(t);return e&&e.value&&e.value.aggregate?c._palette(e.value.aggregate,h[0],h[1]):null}).select("title").text(function(t){var e=s.get(t);return e.key+": "+e.formattedValues}),f.exit().remove();var y=u.select(".months").selectAll(".month").data(function(t){return Gt(new Date(t,0,1),new Date(t+1,0,1))});function m(t){var e=new Date(t.getFullYear(),t.getMonth()+1,0),r=t.getDay(),o=qt.count(Jt(t),t),i=e.getDay(),a=qt.count(Jt(e),e);return"M"+(o+1)*n+","+r*n+"H"+o*n+"V"+7*n+"H"+a*n+"V"+(i+1)*n+"H"+(a+1)*n+"V0H"+(o+1)*n+"Z"}y.enter().append("path").attr("class","month").merge(y).attr("d",m).style("stroke",this.monthStrokeColor()).style("stroke-width",this.monthStrokeWidth()),y.exit().remove()},r.prototype.exit=function(e,r){t.prototype.exit.call(this,e,r)},r.prototype.click=function(t,e,r){console.log("Click:  "+JSON.stringify(t)+", "+e+", "+r)},r.prototype.dblclick=function(t,e,r){console.log("Double click:  "+JSON.stringify(t)+", "+e+", "+r)},r}(e.HTMLWidget);_r.prototype._class+=" other_CalendarHeatMap",_r.prototype.mixin(e.Utility.SimpleSelectionMixin),_r.prototype._palette=e.Palette.rainbow("default"),_r.prototype.publish("paletteID","YlOrRd","set","Color palette for this widget",_r.prototype._palette.switch(),{tags:["Basic","Shared"]}),_r.prototype.publish("dayStrokeColor","#ccc","html-color","Color of day border"),_r.prototype.publish("monthStrokeColor","#000","html-color","Color of month border"),_r.prototype.publish("dayStrokeWidth",1,"number","Pixel width of day border"),_r.prototype.publish("monthStrokeWidth",2,"number","Pixel width of month border"),_r.prototype.publish("dateColumn",null,"set","Date Column",function(){return this.columns()},{optional:!0}),_r.prototype.publish("datePattern","%Y-%m-%d","string","Date Pattern"),_r.prototype.publish("aggrType",null,"set","Aggregation Type",[null,"mean","median","sum","min","max"],{optional:!0}),_r.prototype.publish("aggrColumn",null,"set","Aggregation Field",function(){return this.columns()},{optional:!0,disable:function(t){return!t.aggrType()}}),_r.prototype.publish("aggrDeltaColumn",null,"set","Aggregation Field",function(){return this.columns()},{optional:!0,disable:function(t){return!t.aggrType()}});var br=60;function wr(t){if(null==t)return null;if(!t.trim)return t.Row?xr(t.Row):t;var e=t.trim();return""!==e&&!isNaN(e)&&(e.length<=1||"0"!==e[0]||"."===e[1])?Number(e):e}function xr(t){for(var e in t)t[e]=wr(t[e]);return t}var Cr=function(){function t(){this._protocol="http:",this._hostname="localhost"}return t.prototype.url=function(t){if(!arguments.length)return this._url;this._url=t;var e=document.createElement("a");e.href=this._url,e.href=e.href;var r={};if(e.search.length){var o=e.search;"?"===o[0]&&(o=o.substring(1)),(o=o.split("&")).map(function(t){var e=t.split("=");r[decodeURIComponent(e[0])]=decodeURIComponent(e[1])})}for(this._protocol=e.protocol,this._hostname=e.hostname,this._port=e.port,this._pathname=e.pathname;this._pathname.length&&"/"===this._pathname[0];)this._pathname=this._pathname.substring(1);return this._search=e.search,this._params=r,this._hash=e.hash,this._host=e.host,this},t.prototype.protocol=function(t){return arguments.length?(this._protocol=t,this):this._protocol},t.prototype.hostname=function(t){return arguments.length?(this._hostname=t,this):this._hostname},t.prototype.port=function(t){return arguments.length?(this._port=t,this):this._port},t.prototype.search=function(t){return arguments.length?(this._search=t,this):this._search},t.prototype.pathname=function(t){return arguments.length?(this._pathname=t,this):this._pathname},t.prototype.hash=function(t){return arguments.length?(this._hash=t,this):this._hash},t.prototype.host=function(t){return arguments.length?(this._host=t,this):this._host},t.prototype.params=function(t){return arguments.length?(this._params=t,this):this._params},t.prototype.param=function(t){return this._params[t]},t.prototype.isWsWorkunits=function(){return this._pathname.toLowerCase().indexOf("wsworkunits")>=0||this._params.Wuid},t.prototype.isWorkunitResult=function(){return this.isWsWorkunits()&&(this._params.Sequence||this._params.ResultName)},t.prototype.isWsEcl=function(){return this._pathname.toLowerCase().indexOf("wsecl")>=0||this._params.QuerySetId&&this._params.Id},t.prototype.isWsWorkunits_GetStats=function(){return this._pathname.toLowerCase().indexOf("wsworkunits/wugetstats")>=0&&this._params.WUID},t.prototype.getUrl=function(t){return(void 0!==(t=t||{}).protocol?t.protocol:this._protocol)+"//"+(void 0!==t.hostname?t.hostname:this._hostname)+":"+(void 0!==t.port?t.port:this._port)+"/"+(void 0!==t.pathname?t.pathname:this._pathname)},t}();function Tr(t){for(var e in this._mappings=t,this._reverseMappings={},this._mappings)for(var r in this._reverseMappings[e]={},this._mappings[e])this._reverseMappings[e][this._mappings[e][r]]=r}Tr.prototype.contains=function(t,r){return e.Utility.exists(t+"."+r,this._mappings)},Tr.prototype.mapResult=function(t,e){var r=this._mappings[e];r&&(t[e]=t[e].map(function(t){var e=[];if(r.x&&r.x instanceof Array){e=[];for(var o=0;o<r.x.length;++o)e.push(t[r.y[o]])}else for(var n in r)"label"===r[n]?e[0]=t[n]:"weight"===r[n]&&(e[1]=t[n]);return e},this))},Tr.prototype.mapResponse=function(t){for(var e in t)this.mapResult(t,e)};var Sr=function(t){var e=[];for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];null!=o&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}return e.join("&")},kr=function(t,e,r){return new Promise(function(o,n){var i=1e3*r,a="jsonp_callback_"+Math.round(999999*Math.random());window[a]=function(t){i=0,c(),o(t)};var s=document.createElement("script");s.src=t+(t.indexOf("?")>=0?"&":"?")+"jsonp="+a+"&"+Sr(e),document.body.appendChild(s);var l=setInterval(function(){i<=0?clearInterval(l):(i-=5e3)<=0?(clearInterval(l),console.log("Request timeout:  "+s.src),c(),n(Error("Request timeout:  "+s.src))):console.log("Request pending ("+i/1e3+" sec):  "+s.src)},5e3);function c(){delete window[a],document.body.removeChild(s)}})},Pr=function(t){function e(){var e=t.call(this)||this;return e._proxyMappings={},e._mappings=new Tr({}),e._timeout=br,e._hipieResults={},e}return n(e,t),e.prototype.hipieResults=function(t){if(!arguments.length)return this._hipieResults;this._hipieResultsLength=0,this._hipieResults={};var e=this;return t.forEach(function(t){e._hipieResultsLength++,e._hipieResults[t.id]=t}),this},e.prototype.jsonp=function(t,e){for(var r in this._proxyMappings){var o=t.split(r),n=o[0];if(o.length>1){var i=(new Cr).url(t);t=n+this._proxyMappings[r],e.IP=i.hostname(),e.PORT=i.port(),o.length>0&&(e.PATH=o[1]);break}}return kr(t,e,this.timeout())},e.prototype.ajax=function(t,e,r){return new Promise(function(o,n){var i=e;"GET"===t&&r&&(i+="?"+Sr(r));var a=new XMLHttpRequest;a.onload=function(t){this.status>=200&&this.status<300?o(JSON.parse(this.response)):n(Error(this.statusText))},a.onerror=function(){n(Error(this.statusText))},a.open(t,i),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),"GET"===t?a.send():(a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(Sr(r)))})},e.prototype.get=function(t,e){return this.ajax("GET",t,e)},e.prototype.post=function(t,e){return this.ajax("POST",t,e)},e.prototype.mappings=function(t){return arguments.length?(this._mappings=new Tr(t),this):this._mappings},e.prototype.proxyMappings=function(t){return arguments.length?(this._proxyMappings=t,this):this._proxyMappings},e.prototype.timeout=function(t){return arguments.length?(this._timeout=t||br,this):this._timeout},e}(Cr),Er=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.cacheCalls=function(t){return arguments.length?(this._cacheCalls=t,this):this._cacheCalls},e.prototype.call=function(t,e){var r=this._url+(this._url.indexOf("?")>=0?"&":"?")+Sr(t);if(this._cacheCalls){var o=this;return new Promise(function(t,o){var n=JSON.parse(localStorage.getItem("hpcc.viz."+r));if(!n)throw Error("not cached");e&&(console.log("Deprecated:  callback, use promise (Basic.prototype.call)"),e(n)),t(n)}).catch(function(t){return o.get(r).then(function(t){return localStorage.setItem("hpcc.viz."+r,JSON.stringify(t)),e&&(console.log("Deprecated:  callback, use promise (Basic.prototype.call)"),e(t)),t})})}return localStorage.removeItem("hpcc.viz."+r),this.get(r).then(function(t){return e&&(console.log("Deprecated:  callback, use promise (Basic.prototype.call)"),e(t)),t})},e}(Pr);function Rr(t){for(var e in t){if(t[e].Row&&t[e].Row instanceof Array)return t;var r=void 0;if("string"!=typeof t[e]&&(r=Rr(t[e])),r)return r}return null}function Ir(t){for(var e in t){if(t[e].Exception&&t[e].Exception instanceof Array)return t[e];var r=Ir(t[e]);if(r)return r}return null}var Wr=function(t){function e(){var e=t.call(this)||this;return e._port="8002",e._target="",e._query="",e}return n(e,t),e.prototype.url=function(e){var r=t.prototype.url.apply(this,arguments);if(arguments.length){for(var o in this._port="8010"===this._port?"8002":this._port,this._params)switch(o){case"QuerySetId":this.target(this._params[o]);break;case"Id":this.query(this._params[o])}var n=void 0,i=void 0;this._target&&this._query||(n=this._pathname.split("/query/")).length>=2&&(i=n[1].split("/")).length>=2&&(this.target(i[0]),this.query(i[1]))}return r},e.prototype.target=function(t){return arguments.length?(this._target=t,this):this._target},e.prototype.query=function(t){return arguments.length?(this._query=t,this):this._query},e.prototype.constructUrl=function(){return Pr.prototype.getUrl.call(this,{pathname:"WsEcl/submit/query/"+this._target+"/"+this._query+"/json"})},e.prototype.call=function(t,e,r){(t=t||{}).target=t.target||this._target,t.query=t.query||this._query;var o=this,n=this.getUrl({pathname:"WsEcl/submit/query/"+t.target+"/"+t.query+"/json"});return this.jsonp(n,e).then(function(t){var e=Rr(t);if(e||(e=Ir(t)),(t=e).Exception)throw Error(t.Exception.reduce(function(t,e,r,o){return t.length&&(t+="\n"),t+e.Source+" "+e.Code+":  "+e.Message},""));for(var n in t)t[n].Row&&(t[n]=t[n].Row.map(xr));return o._mappings.mapResponse(t),r&&(console.log("Deprecated:  callback, use promise (WsECL.prototype.call)"),r(t)),t})},e.prototype.send=function(t,e){return this.call({target:this._target,query:this._query},t,e)},e}(Pr),Dr=function(t){function r(){var e=t.call(this)||this;return e._wuid="",e._jobname="",e._sequence=null,e._resultName=null,e._fetchResultNamesPromise=null,e._fetchResultPromise={},e._resultNameCache={},e._resultNameCacheCount=0,e._port="8010",e}return n(r,t),r.prototype.url=function(t){var e=Pr.prototype.url.apply(this,arguments);if(arguments.length){for(var r in this._params)switch(r){case"Wuid":this.wuid(this._params[r]);break;case"ResultName":this.resultName(this._params[r]);break;case"Sequence":this.sequence(this._params[r])}if(!this._wuid){var o=this._url.split("/res/");if(o.length>=2){var n=o[1].split("/");this.wuid(n[0])}}}return e},r.prototype.wuid=function(t){return arguments.length?(this._wuid=t,this):this._wuid},r.prototype.jobname=function(t){return arguments.length?(this._jobname=t,this):this._jobname},r.prototype.sequence=function(t){return arguments.length?(this._sequence=t,this):this._sequence},r.prototype.resultName=function(t){return arguments.length?(this._resultName=t,this):this._resultName},r.prototype.appendParam=function(t,e,r){return e?(r&&(r+="&"),r+t+"="+e):r},r.prototype.constructUrl=function(){var t="";return Pr.prototype.getUrl.call(this,{pathname:"WsWorkunits/res/"+this._wuid+"/"})+((t=this.appendParam("ResultName",this._resultName,t))?"?"+t:"")},r.prototype._fetchResult=function(t,e,r){if(t=t||{},!this._fetchResultPromise[t.resultname]){t._start=t._start||0,t._count=t._count||-1;var o=this.getUrl({pathname:"WsWorkunits/WUResult.json"}),n={Wuid:t.wuid,ResultName:t.resultname,SuppressXmlSchema:!0,Start:t._start,Count:t._count};this._resultNameCache[t.resultname]={};var i=this;this._fetchResultPromise[t.resultname]=this.jsonp(o,n).then(function(o){for(var n in o){if(!o[n].Result)throw new Error("No result found.");for(var a in i._total=o[n].Total,o=o[n].Result){o=o[a].Row.map(xr);break}break}return i._resultNameCache[t.resultname]=o,r||i._mappings.mapResult(i._resultNameCache,t.resultname),e&&(console.log("Deprecated:  callback, use promise (WsWorkunits.prototype._fetchResult)"),e(i._resultNameCache[t.resultname])),i._resultNameCache[t.resultname]})}return this._fetchResultPromise[t.resultname]},r.prototype.fetchResult=function(t,e,r){if(t.wuid)return this._fetchResult(t,e,r);if(t.jobname){var o=this;return this.WUQuery(t,function(n){return t.wuid=n[0].Wuid,o._fetchResult(t,e,r)})}},r.prototype.WUQuery=function(t,r){var o=this.getUrl({pathname:"WsWorkunits/WUQuery.json"}),n={Jobname:t.jobname,Count:1};return this._resultNameCache={},this._resultNameCacheCount=0,this.jsonp(o,n).then(function(t){if(!e.Utility.exists("WUQueryResponse.Workunits.ECLWorkunit",t))throw Error("No workunit found.");return t=t.WUQueryResponse.Workunits.ECLWorkunit,r&&(console.log("Deprecated:  callback, use promise (WsWorkunits.prototype.WUQuery)"),r(t)),t})},r.prototype.fetchResultNames=function(t){if(!this._fetchResultNamesPromise){var r=this.getUrl({pathname:"WsWorkunits/WUInfo.json"}),o={Wuid:this._wuid,TruncateEclTo64k:!0,IncludeExceptions:!1,IncludeGraphs:!1,IncludeSourceFiles:!1,IncludeResults:!0,IncludeResultsViewNames:!1,IncludeVariables:!1,IncludeTimers:!1,IncludeResourceURLs:!1,IncludeDebugValues:!1,IncludeApplicationValues:!1,IncludeWorkflows:!1,IncludeXmlSchemas:!1,SuppressResultSchemas:!0};this._resultNameCache={},this._resultNameCacheCount=0;var n=this;this._fetchResultNamesPromise=this.jsonp(r,o).then(function(i){return e.Utility.exists("WUInfoResponse.Workunit.Archived",i)&&i.WUInfoResponse.Workunit.Archived&&console.log("WU is archived:  "+r+" "+JSON.stringify(o)),e.Utility.exists("WUInfoResponse.Workunit.Results.ECLResult",i)&&i.WUInfoResponse.Workunit.Results.ECLResult.map(function(t){n._resultNameCache[t.Name]=[],++n._resultNameCacheCount}),t&&(console.log("Deprecated:  callback, use promise (WsWorkunits.prototype.fetchResultNames)"),t(n._resultNameCache)),n._resultNameCache})}return this._fetchResultNamesPromise},r.prototype.fetchResults=function(t,e){var r=this;return this.fetchResultNames().then(function(o){var n=[];for(var i in r._resultNameCache)n.push(r.fetchResult({wuid:r._wuid,resultname:i},null,e));return Promise.all(n).then(function(e){return t&&(console.log("Deprecated:  callback, use promise (WsWorkunits.prototype.fetchResults)"),t(r._resultNameCache)),r._resultNameCache})})},r.prototype.postFilter=function(t,e){var r={};for(var o in e)r[o]=e[o].filter(function(e,r){for(var o in t)if(void 0!==e[o]&&void 0!==t[o]&&e[o]!=t[o])return!1;return!0});return this._mappings.mapResponse(r),r},r.prototype.send=function(t,e){var r=this;this._resultNameCacheCount?e(r.postFilter(t,this._resultNameCache)):this.fetchResults(function(o){e(r.postFilter(t,o))},!0)},r}(Pr);function Ar(){Pr.call(this),this._port="8010",this._wuid=null}function Nr(){Pr.call(this)}function Mr(){Dr.call(this)}function Br(){Mr.call(this)}function Or(t){t=t||document.URL;var e=(new Cr).url(t);return e.isWsWorkunits_GetStats()?(new Ar).url(t):e.isWsWorkunits()?(new Dr).url(t):e.isWsEcl()?(new Wr).url(t):null}Ar.prototype=Object.create(Pr.prototype),Ar.prototype.url=function(t){var e=Pr.prototype.url.apply(this,arguments);if(arguments.length)for(var r in this._params)switch(r){case"WUID":this.wuid(this._params[r])}return e},Ar.prototype.wuid=function(t){return arguments.length?(this._wuid=t,this):this._wuid},Ar.prototype.constructUrl=function(){return Pr.prototype.getUrl.call(this,{pathname:"WsWorkunits/WUGetStats?WUID="+this._wuid})},Ar.prototype.send=function(t,r){var o=this.getUrl({pathname:"WsWorkunits/WUGetStats.json?WUID="+this._wuid});return this.jsonp(o,t).then(function(t){return e.Utility.exists("WUGetStatsResponse.Statistics.WUStatisticItem",t)?(r&&(console.log("Deprecated:  callback, use promise (WsWorkunits_GetStats.prototype.send)"),r(t.WUGetStatsResponse.Statistics.WUStatisticItem)),t.WUGetStatsResponse.Statistics.WUStatisticItem):(r&&(console.log("Deprecated:  callback, use promise (WsWorkunits_GetStats.prototype.send)"),r([])),[])})},Nr.prototype=Object.create(Pr.prototype),Nr.prototype.fetchResults=function(t,e){var r=this.getUrl({});this._resultNameCache={},this._resultNameCacheCount=0;var o=this;return this.jsonp(r,t).then(function(t){var r=Rr(t);if(r||(r=Ir(t)),(t=r).Exception)throw Error(t.Exception.reduce(function(t,e,r,o){return t.length&&(t+="\n"),t+e.Source+" "+e.Code+":  "+e.Message},""));for(var n in t)t[n].Row&&(o._resultNameCache[n]=t[n].Row.map(xr),++o._resultNameCacheCount);return e&&(console.log("Deprecated:  callback, use promise (HIPIERoxie.prototype.fetchResults)"),e(o._resultNameCache)),o._resultNameCache})},Nr.prototype.fetchResult=function(t,e){var r=this;return new Promise(function(o,n){e&&(console.log("Deprecated:  callback, use promise (HIPIERoxie.prototype.fetchResult)"),e(r._resultNameCache[t])),o(r._resultNameCache[t])})},Nr.prototype.call=function(t,e){var r=this;return this.fetchResults(t,e).then(function(t){var e={};for(var o in r._hipieResults){var n=r._hipieResults[o];e[n.id]=t[n.from]}return e})},Mr.prototype=Object.create(Dr.prototype),Mr.prototype.fetchResults=function(t){var e=this;return Dr.prototype.fetchResultNames.call(this).then(function(r){var o=[];for(var n in e._hipieResults){var i=e._hipieResults[n];o.push(e.fetchResult(i.from))}return Promise.all(o).then(function(r){return t&&(console.log("Deprecated:  callback, use promise (HIPIEWorkunit.prototype.fetchResults)"),t(e._resultNameCache)),e._resultNameCache})})},Mr.prototype.fetchResult=function(t,e){return Dr.prototype.fetchResult.call(this,{wuid:this._wuid,resultname:t}).then(function(t){return e&&(console.log("Deprecated:  callback, use promise (HIPIEWorkunit.prototype.fetchResult)"),e(t)),t})},Mr.prototype.call=function(t,e){var r=this;return!t.refresh&&this._resultNameCache&&this._resultNameCacheCount?new Promise(function(e,r){e(o(t))}):this.fetchResults(e).then(function(e){return o(t)});function o(t){var e={};for(var o in t)void 0!==t[o+"_changed"]&&(e[o]={value:t[o]});var n={},i=function(t){for(var o=r._hipieResults[t],i={},a=0;a<o.filters.length;++a){var s=o.filters[a];s.isRange()||(i[s.fieldid]=e[s.fieldid]||{value:void 0},i[s.fieldid].filter=s)}n[o.id]=r._resultNameCache[o.from].filter(function(t){for(var e in i)if(!i[e].filter.matches(t,i[e].value))return!1;return!0})};for(var a in r._hipieResults)i(a);return n}},Br.prototype=Object.create(Mr.prototype),Br.prototype.databomb=function(t){return arguments.length?(this._databomb=t,this):this._databomb},Br.prototype.databombOutput=function(t,e){if(arguments.length)return this._resultNameCacheCount++,this._databomb instanceof Array?this._resultNameCache[t]=this._databomb.map(xr):this._resultNameCache[t]=this._databomb[t].map(xr),this},Br.prototype.fetchResults=function(t){var e=this;return new Promise(function(r,o){t&&(console.log("Deprecated:  callback, use promise (HIPIEDatabomb.prototype.fetchResults)"),t(e._resultNameCache)),r(e._resultNameCache)})};var Hr=Object.freeze({ESPUrl:Cr,ESPMappings:Tr,Comms:Pr,Basic:Er,WsECL:Wr,WsWorkunits:Dr,createESPConnection:Or,hookJsonp:function(t){kr=t},HIPIEWorkunit:Mr,HIPIERoxie:Nr,HIPIEDatabomb:Br});function Lr(t){if(t.Row&&t.Row instanceof Array)return t.Row.map(Lr);if(t instanceof Object)for(var e in t)t[e]=Lr(t[e]);return t}var Ur=!1,zr={};function Fr(){Er.call(this)}function jr(t){Fr.call(this),this.url(t+"WsWorkunits/")}function Vr(t,e){Fr.call(this),this.url(t+"WsWorkunits/"),this._wuid=e}function qr(t,e,r){Fr.call(this),this.url(t+"WUResult.json"),this._wuid=e,this._name=r,this._xmlSchema=null}function Yr(t,e){Fr.call(this),this.url(t+"WUResult.json"),this._logicalName=e,this._xmlSchema=null}function Xr(t,e){Fr.call(this);var r=t.split("/"),o=r.pop();"json"===o.toLowerCase()&&(o=r.pop()),this._queryName=o,this._resultName=e,this.url(r.join("/")+"/"+o+"/json")}function Gr(t){return t&&t.replace?t.replace(/ +$/,""):t}function Jr(t,e){return t.filter(function(t){for(var r in e)if(void 0!==t[r]&&Gr(e[r])!==Gr(t[r]))return!1;return!0})}function $r(t,e,r){var o=(new Cr).url(t);return 0===e.indexOf("http")?new Xr(e,r):0===e.indexOf("~")||e.indexOf("::")>=0?new Yr(o.getUrl({pathname:"WsWorkunits/"}),e):e?new qr(o.getUrl({pathname:"WsWorkunits/"}),e,r):null}Fr.prototype=Object.create(Er.prototype),Fr.prototype.jsonp=function(t,e){var r=JSON.stringify(e);return Ur&&zr[t]&&zr[t][r]?Promise.resolve(zr[t][r]):Er.prototype.jsonp.apply(this,arguments).then(function(e){return Ur&&(zr[t]||(zr[t]={}),zr[t][r]=e),e})},jr.prototype=Object.create(Fr.prototype),jr.prototype.wuQuery=function(t){var e=this.getUrl({pathname:"WsWorkunits/WUQuery.json"}),r={Wuid:"",Type:"",Cluster:"",RoxieCluster:"",Owner:"",State:"",StartDate:"",EndDate:"",ECL:"",Jobname:"",LogicalFile:"",LogicalFileSearchType:"",After:"",Before:"",Count:"",PageSize:100,PageStartFrom:0,PageEndAt:"",LastNDays:"",Sortby:"",Descending:0,CacheHint:""};for(var o in t)r[o]=t[o];return this.jsonp(e,r).then(function(t){return t.WUQueryResponse&&t.WUQueryResponse.Workunits?t.WUQueryResponse.Workunits.ECLWorkunit:[]})},Vr.prototype=Object.create(Fr.prototype),Vr.prototype.wuInfo=function(t){var e=this.getUrl({pathname:"WsWorkunits/WUInfo.json"}),r={Wuid:this._wuid,TruncateEclTo64k:!0,IncludeExceptions:!1,IncludeGraphs:!1,IncludeSourceFiles:!1,IncludeResults:!1,IncludeResultsViewNames:!1,IncludeVariables:!1,IncludeTimers:!1,IncludeResourceURLs:!1,IncludeDebugValues:!1,IncludeApplicationValues:!1,IncludeWorkflows:!1,IncludeXmlSchemas:!1,SuppressResultSchemas:!0};for(var o in t)r[o]=t[o];return this.jsonp(e,r).then(function(o){if(Ur){var n={WUInfoResponse:{Workunit:{}}};for(var i in t){var a=i.substring(7);n.WUInfoResponse.Workunit[a]=o.WUInfoResponse.Workunit[a]}zr[e][JSON.stringify(r)]=n}return o})},Vr.prototype.wuUpdate=function(t){var e=this.getUrl({pathname:"WsWorkunits/WUUpdate.json"}),r={Wuid:this._wuid};for(var o in t)r[o]=t[o];return this.post(e,r)},Vr.prototype.appData=function(t,e,r){return 2===arguments.length?this.wuInfo({IncludeApplicationValues:!0}).then(function(r){var o;return r.WUInfoResponse&&r.WUInfoResponse.Workunit&&r.WUInfoResponse.Workunit.ApplicationValues&&r.WUInfoResponse.Workunit.ApplicationValues.ApplicationValue&&r.WUInfoResponse.Workunit.ApplicationValues.ApplicationValue.filter(function(r){return r.Application===t&&r.Name===e}).forEach(function(t){o=t.Value}),o}):3===arguments.length?this.wuUpdate({"ApplicationValues.ApplicationValue.0.Application":t,"ApplicationValues.ApplicationValue.0.Name":e,"ApplicationValues.ApplicationValue.0.Value":r,"ApplicationValues.ApplicationValue.itemcount":1}):void 0},Vr.prototype.results=function(){var t=this;return this.wuInfo({IncludeResults:!0}).then(function(r){var o=[];return e.Utility.exists("WUInfoResponse.Workunit.Results.ECLResult",r)&&(o=r.WUInfoResponse.Workunit.Results.ECLResult.map(function(e){return new qr(t.getUrl({pathname:"WsWorkunits/"}),t._wuid,e.Name)})),o})},Vr.prototype.result=function(t,e){return $r(t=t||this._wuid,e)},qr.prototype=Object.create(Fr.prototype),qr.prototype.wuid=function(t){return arguments.length?(this._wuid=t,this):this._wuid},qr.prototype.name=function(t){return arguments.length?(this._name=t,this):this._name},qr.prototype.query=function(t,e){t=t||{},e=e||{};var r={Wuid:this._wuid,ResultName:this._name,SuppressXmlSchema:!0,Start:0,Count:-1};for(var o in t)r[o]=t[o];var n=0;for(var i in e)r["FilterBy.NamedValue."+n+".Name"]=i,r["FilterBy.NamedValue."+n+".Value"]=e[i],++n;n&&(r["FilterBy.NamedValue.itemcount"]=n);var a=this;return this.jsonp(this.url(),r).then(function(t){return t.WUResultResponse&&t.WUResultResponse.Result&&t.WUResultResponse.Result[a._name]?(Ur&&(zr[a.url()][JSON.stringify(r)]={WUResultResponse:{Result:t.WUResultResponse.Result}}),a._xmlSchema=t.WUResultResponse.Result.XmlSchema,Lr(t.WUResultResponse.Result[a._name])):[]})},Yr.prototype=Object.create(Fr.prototype),Yr.prototype.query=function(t,e){t=t||{},e=e||{};var r={Cluster:"hthor",LogicalName:this._logicalName,SuppressXmlSchema:null!==this._xmlSchema,Start:0,Count:-1};for(var o in t)r[o]=t[o];var n=0;for(var i in e)r["FilterBy.NamedValue."+n+".Name"]=i,r["FilterBy.NamedValue."+n+".Value"]=e[i],++n;n&&(r["FilterBy.NamedValue.itemcount"]=n);var a=this;return this.jsonp(this.url(),r).then(function(t){return t.WUResultResponse&&t.WUResultResponse.Result&&t.WUResultResponse.Result.Row?(a._xmlSchema=t.WUResultResponse.Result.XmlSchema,Lr(t.WUResultResponse.Result.Row)):[]})},Xr.prototype=Object.create(Fr.prototype),Xr.prototype.query=function(t,e){t=t||{},e=e||{};var r={};for(var o in t)r[o]=t[o];for(var n in e)r[n]=e[n];var i=this;return this.jsonp(this.url(),r).then(function(t){if(t=function t(e){for(var r in e){if(e[r].Row&&e[r].Row instanceof Array)return e;var o=t(e[r]);if(o)return o}return null}(t))if(i._resultName){if(t&&t[i._resultName]&&t[i._resultName].Row)return Lr(Jr(t[i._resultName].Row,e))}else for(var r in t)if(t[r].Row)return Lr(Jr(t[r].Row,e));return[]})};var Qr=T(function(t){function e(t){if(!(this instanceof e))return new e(t);this._canvas=t="string"==typeof t?document.getElementById(t):t,this._ctx=t.getContext("2d"),this._width=t.width,this._height=t.height,this._max=1,this._data=[]}t.exports=e,e.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(t){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,e){e=void 0===e?15:e;var r=this._circle=this._createCanvas(),o=r.getContext("2d"),n=this._r=t+e;return r.width=r.height=2*n,o.shadowOffsetX=o.shadowOffsetY=2*n,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-n,-n,t,0,2*Math.PI,!0),o.closePath(),o.fill(),this},resize:function(){this._width=this._canvas.width,this._height=this._canvas.height},gradient:function(t){var e=this._createCanvas(),r=e.getContext("2d"),o=r.createLinearGradient(0,0,0,256);for(var n in e.width=1,e.height=256,t)o.addColorStop(+n,t[n]);return r.fillStyle=o,r.fillRect(0,0,1,256),this._grad=r.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var e=this._ctx;e.clearRect(0,0,this._width,this._height);for(var r,o=0,n=this._data.length;o<n;o++)r=this._data[o],e.globalAlpha=Math.max(r[2]/this._max,void 0===t?.05:t),e.drawImage(this._circle,r[0]-this._r,r[1]-this._r);var i=e.getImageData(0,0,this._width,this._height);return this._colorize(i.data,this._grad),e.putImageData(i,0,0),this},_colorize:function(t,e){for(var r,o=0,n=t.length;o<n;o+=4)(r=4*t[o+3])&&(t[o]=e[r],t[o+1]=e[r+1],t[o+2]=e[r+2])},_createCanvas:function(){return"undefined"!=typeof document?document.createElement("canvas"):new this._canvas.constructor}}}),Zr=Object.freeze({default:Qr,__moduleExports:Qr}),Kr=window.simpleheat||Zr&&Qr||Zr,to=function(t){function r(){return t.call(this)||this}return n(r,t),r.prototype.enter=function(e,r){t.prototype.enter.call(this,e,r),this.resize(this._size),this._heat=Kr(e)},r.prototype.update=function(e,r){if(t.prototype.update.call(this,e,r),this._palette=this._palette.switch(this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id())),this.topLeftX_exists()&&this.topLeftY_exists()&&this.bottomRightX_exists()&&this.bottomRightY_exists()?this._heat.data(this.skewedData()):this._heat.data(this.data()),this.radius()&&this._heat.radius(this.radius(),this.blur()),this.usePalette()){for(var o={},n=1;n<=this.colorCount();n++){o[n/this.colorCount()]=this._palette(n,1,this.colorCount())}this._heat.defaultGradient=o,this._heat.gradient(o)}else this.gradient()&&(this._heat.defaultGradient=this.gradient(),this._heat.gradient(this.gradient()));this._heat.draw()},r.prototype.exit=function(e,r){delete this._heat,t.prototype.exit.call(this,e,r)},r.prototype.resize=function(t){var r=e.CanvasWidget.prototype.resize.apply(this,arguments);return void 0!==this._heat&&this._heat.resize(),r},r.prototype.skewedData=function(){var t=this,e=[],r=this.data(),o=this.size(),n=this.bottomRightX()-this.topLeftX(),i=this.bottomRightY()-this.topLeftY(),a=n/o.width,s=i/o.height;return r.forEach(function(r){var o=Math.abs(r[0]-t.topLeftX()),n=Math.abs(r[1]-t.topLeftY()),i=o/a,l=n/s;e.push([i,l,r[2]])}),e},r}(e.CanvasWidget);to.prototype._class+=" other_HeatMap",to.prototype._palette=e.Palette.rainbow("default"),to.prototype.publish("radius",15,"number","Set point radius",null,{tags:["Basic"]}),to.prototype.publish("blur",15,"number","Set point blur",null,{tags:["Basic"]}),to.prototype.publish("max",1,"number","Set max data value",null,{tags:["Basic"]}),to.prototype.publish("gradient",{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},"object","Set gradient colors",null,{tags:["Basic"]}),to.prototype.publish("usePalette",!1,"boolean","If true, uses paletteID and colorCount to determine gradient",null,{tags:["Basic"]}),to.prototype.publish("colorCount",10,"number","Top left x-value",null,{tags:["Basic"]}),to.prototype.publish("paletteID","default","set","Color palette for this widget",to.prototype._palette.switch(),{tags:["Basic"]}),to.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),to.prototype.publish("topLeftX",null,"number","Top left x-value",null,{tags:["Basic"],optional:!0}),to.prototype.publish("topLeftY",null,"number","Top left y-value",null,{tags:["Basic"],optional:!0}),to.prototype.publish("bottomRightX",null,"number","Bottom right x-value",null,{tags:["Basic"],optional:!0}),to.prototype.publish("bottomRightY",null,"number","Bottom right y-value",null,{tags:["Basic"],optional:!0});var eo=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.testData=function(t,e){return this},e.prototype.enter=function(e,r){t.prototype.enter.call(this,e,r),this.root=r.append("g"),this.logo=this.root.append("g"),this.logo_accent=this.root.append("g"),this.line=this.logo_accent.append("path").attr("fill-rule","evenodd").attr("clip-rule","evenodd").attr("fill","#179BD7").attr("d","m 189.38849,364.55373 c 191.6,3.8 0,0 191.6,3.8 l 0.1,-4.2 c -191.7,0.4 0,0 -191.7,0.4 z"),this.circle_accent=this.logo_accent.append("path").attr("fill-rule","evenodd").attr("clip-rule","evenodd").attr("fill","#6E6E73").attr("d","M421.3,354.2c6.9,6.9,3.1,18.7-8.6,26.1c-11.8,7.4-26.3,6.9-32.1-0.6c-5.5-7.2-1.1-18.2,9.6-25C401,348,414.7,347.6,421.3,354.2z"),this.logo_circles=this.logo.append("g"),this.circle_1=this.logo_circles.append("path").attr("fill-rule","evenodd").attr("clip-rule","evenodd").attr("fill","#179BD7").attr("d","m 258.9815,363.84947 c 1.3,-3 1.5,-5.9 0.4,-8.1 -2.6,-5.4 -11.8,-5.1 -20.6,0.4 -3.5,2.2 -6.5,4.9 -8.7,7.8 -0.11933,0.35821 -0.39477,0.60735 -0.6,0.9 -2.9,4.1 -4.2,8.3 -3,11.6 2.1,6 11.4,6.3 20.9,0.4 5,-3.2 8.9,-7.3 11,-11.4 -0.59813,0.54778 0.47385,-1.28911 0.6,-1.6 z"),this.circle_2=this.logo_circles.append("path").attr("fill-rule","evenodd").attr("clip-rule","evenodd").attr("fill","#179BD7").attr("d","M291.3,349.3c9.5-5.9,14.1-15,10.5-20c-3.5-4.8-13.3-4.2-22.1,1.3c-8.8,5.5-13.7,14.1-10.9,19.3C271.7,355.4,281.9,355.2,291.3,349.3z"),this.circle_3=this.logo_circles.append("path").attr("fill-rule","evenodd").attr("clip-rule","evenodd").attr("fill","#179BD7").attr("d","M335.3,321.7c9.5-5.9,13.3-14.5,8.9-19c-4.3-4.3-14.8-3.2-23.6,2.3c-8.8,5.5-13.1,13.7-9.4,18.4C315,328.3,325.9,327.7,335.3,321.7z"),this.circle_4=this.logo_circles.append("path").attr("fill-rule","evenodd").attr("clip-rule","evenodd").attr("fill","#179BD7").attr("d","M273.2,384c-3.2-6.5-13.5-6.7-23.2-0.7c-9.7,6-15.6,16.4-13.2,23.4c2.5,7.3,13.1,8.2,23.6,1.7 C270.8,401.9,276.5,390.8,273.2,384z"),this.circle_5=this.logo_circles.append("path").attr("fill-rule","evenodd").attr("clip-rule","evenodd").attr("fill","#179BD7").attr("d","m 320.84499,363.83119 c 1,-3.4 0.8,-6.6 -1,-9.1 -4.2,-5.9 -15.3,-5.6 -25,0.5 -3.89999,2.4 -7.09999,5.5 -9.19999,8.7 -1.18854,2.2092 -0.0404,-0.09 -1.2,2.2 -2.2,4.1 -2.7,8.3 -0.9,11.5 3.6,6.7 15.09999,7 25.59999,0.5 5,-3.2 8.7,-7.2 10.7,-11.3 0.95557,-2.97582 0.0423,0.0306 1,-3 z"),this.circle_6=this.logo_circles.append("path").attr("fill-rule","evenodd").attr("clip-rule","evenodd").attr("fill","#179BD7").attr("d","M330.4,348.2c4.6,6,17,5.8,27.5-0.8c10.5-6.6,14.3-16.5,8.9-22c-5.2-5.3-17.1-4.4-26.8,1.6C330.3,333.1,325.9,342.4,330.4,348.2z"),this.circle_7=this.logo_circles.append("path").attr("fill-rule","evenodd").attr("clip-rule","evenodd").attr("fill","#179BD7").attr("d","M264.1,417.4c-10.8,6.7-17.2,19-14.2,27.8c3.2,9.2,15.4,11.1,27.2,3.7c11.8-7.4,17.8-20.6,13.6-29.2C286.6,411.6,274.8,410.7,264.1,417.4z"),this.circle_8=this.logo_circles.append("path").attr("fill-rule","evenodd").attr("clip-rule","evenodd").attr("fill","#179BD7").attr("d","M314.2,386.1c-10.8,6.7-16.2,18.4-11.9,26.4c4.5,8.4,17.8,9.5,29.6,2.2c11.8-7.4,16.6-19.9,11.1-27.7C337.7,379.6,324.9,379.3,314.2,386.1z"),this.text=this.root.append("g"),this.text_hpccsystems=this.text.append("path").attr("fill","#6E6E73").attr("d","M224.2,476.3c0.1-1.3,0.1-2.7,0.2-4.1c-0.3,0-0.5,0.1-0.8,0.1c-0.3,0-0.5,0-0.8,0c-0.3,0-0.5,0-0.8,0c-0.3,0-0.5-0.1-0.8-0.1c0.1,1.4,0.1,2.8,0.2,4.1c0.1,1.3,0.1,2.7,0.1,4.1v1.1c-1.1,0-2.3,0-3.3,0.1c-1.1,0-2.2,0-3.3,0c-1.1,0-2.3,0-3.3,0c-1.1,0-2.2,0-3.3-0.1v-1.1c0-1.4,0-2.8,0.1-4.1c0.1-1.3,0.1-2.7,0.2-4.1c-0.3,0-0.5,0.1-0.8,0.1c-0.3,0-0.5,0-0.8,0c-0.3,0-0.5,0-0.8,0c-0.3,0-0.5-0.1-0.8-0.1c0.1,1.4,0.1,2.8,0.2,4.1c0.1,1.3,0.1,2.7,0.1,4.1v5.5c0,1.4,0,2.8-0.1,4.1c-0.1,1.4-0.1,2.7-0.2,4c0.5,0,1-0.1,1.6-0.1c0.6,0,1.1,0,1.6,0.1c-0.1-1.3-0.1-2.7-0.2-4c-0.1-1.4-0.1-2.7-0.1-4.1v-2.9c1.1,0,2.3,0,3.3,0c1.1,0,2.2,0,3.3,0c1.1,0,2.3,0,3.3,0c1.1,0,2.2,0,3.3,0v2.9c0,1.4,0,2.8-0.1,4.1c-0.1,1.4-0.1,2.7-0.2,4c0.5,0,1-0.1,1.6-0.1c0.6,0,1.1,0,1.6,0.1c-0.1-1.3-0.1-2.7-0.2-4c-0.1-1.4-0.1-2.7-0.1-4.1v-5.5C224.1,479,224.1,477.7,224.2,476.3z M242.7,473.8c-0.4-0.4-0.9-0.7-1.4-0.9c-0.5-0.2-1-0.4-1.5-0.5c-0.5-0.1-1-0.2-1.5-0.2c-0.5,0-0.9,0-1.2,0c-0.2,0-0.5,0-0.9,0c-0.3,0-0.7,0-1.1,0c-0.4,0-0.7,0-1.1,0c-0.4,0-0.7,0-0.9,0c-0.5,0-1,0-1.5,0c-0.5,0-1-0.1-1.5-0.1c0.1,1.4,0.1,2.8,0.2,4.1c0.1,1.3,0.1,2.7,0.1,4.1v5.5c0,1.4,0,2.8-0.1,4.1c-0.1,1.4-0.1,2.7-0.2,4c0.5,0,1-0.1,1.6-0.1c0.6,0,1.1,0,1.6,0.1c-0.1-1.3-0.1-2.7-0.2-4c-0.1-1.4-0.1-2.7-0.1-4.1v-1.8c0.4,0,0.8,0.1,1.2,0.1c0.4,0,0.8,0,1.3,0c0.8,0,1.6-0.1,2.6-0.3c1-0.2,1.9-0.5,2.8-1c0.9-0.5,1.6-1.2,2.2-2c0.6-0.9,0.9-2,0.9-3.4c0-0.9-0.1-1.6-0.4-2.2C243.5,474.7,243.1,474.2,242.7,473.8z M240.6,480.4c-0.4,0.7-0.9,1.2-1.4,1.6c-0.6,0.4-1.2,0.7-1.9,0.8c-0.7,0.1-1.4,0.2-2,0.2c-0.8,0-1.5-0.1-2.3-0.3v-9.5h2.9c0.8,0,1.6,0.1,2.2,0.2c0.7,0.1,1.2,0.3,1.7,0.7c0.5,0.3,0.8,0.8,1.1,1.3c0.3,0.6,0.4,1.3,0.4,2.2C241.2,478.8,241,479.7,240.6,480.4z M251.9,475.4c0.8-0.8,1.7-1.5,2.8-1.9c1.1-0.4,2.2-0.6,3.5-0.6c0.8,0,1.5,0.1,2.1,0.3c0.6,0.2,1.2,0.5,1.7,0.7c0.5,0.3,1,0.6,1.3,0.9c0.4,0.3,0.7,0.6,0.9,0.9l0.2-0.1c0.1-0.3,0.1-0.8,0.3-1.3c0.1-0.5,0.2-0.9,0.4-1.2c-0.9-0.4-1.9-0.7-3.1-1c-1.2-0.3-2.4-0.4-3.8-0.4c-1.8,0-3.4,0.3-4.8,0.8c-1.5,0.5-2.7,1.3-3.8,2.2c-1.1,1-1.9,2.2-2.5,3.6c-0.6,1.4-0.9,3-0.9,4.8c0,1.8,0.3,3.4,0.9,4.8c0.6,1.4,1.4,2.6,2.4,3.6c1,1,2.3,1.7,3.7,2.2c1.4,0.5,3,0.7,4.7,0.7c0.8,0,1.5-0.1,2.3-0.2c0.7-0.1,1.4-0.3,2-0.4c0.6-0.2,1.1-0.3,1.5-0.5c0.4-0.2,0.7-0.4,0.9-0.6l0.3-1.9l-0.1-0.1c-0.3,0.2-0.7,0.5-1.1,0.8c-0.4,0.3-0.9,0.6-1.5,0.9c-0.5,0.3-1.1,0.5-1.8,0.7c-0.6,0.2-1.4,0.3-2.1,0.3c-1.3,0-2.4-0.2-3.5-0.6c-1.1-0.4-2-1-2.8-1.9c-0.8-0.8-1.4-1.9-1.9-3.2c-0.4-1.3-0.7-2.8-0.7-4.6c0-1.8,0.2-3.3,0.7-4.6 C250.5,477.3,251.1,476.3,251.9,475.4z M273.2,475.4c0.8-0.8,1.7-1.5,2.8-1.9c1.1-0.4,2.2-0.6,3.5-0.6c0.8,0,1.5,0.1,2.1,0.3c0.6,0.2,1.2,0.5,1.7,0.7c0.5,0.3,1,0.6,1.3,0.9c0.4,0.3,0.7,0.6,0.9,0.9l0.2-0.1c0.1-0.3,0.1-0.8,0.3-1.3c0.1-0.5,0.2-0.9,0.4-1.2c-0.9-0.4-1.9-0.7-3.1-1c-1.2-0.3-2.4-0.4-3.8-0.4c-1.8,0-3.4,0.3-4.8,0.8c-1.5,0.5-2.7,1.3-3.8,2.2c-1.1,1-1.9,2.2-2.5,3.6c-0.6,1.4-0.9,3-0.9,4.8c0,1.8,0.3,3.4,0.9,4.8c0.6,1.4,1.4,2.6,2.4,3.6c1,1,2.3,1.7,3.7,2.2c1.4,0.5,3,0.7,4.7,0.7c0.8,0,1.5-0.1,2.3-0.2c0.7-0.1,1.4-0.3,2-0.4c0.6-0.2,1.1-0.3,1.5-0.5c0.4-0.2,0.7-0.4,0.9-0.6l0.3-1.9l-0.1-0.1c-0.3,0.2-0.7,0.5-1.1,0.8c-0.4,0.3-0.9,0.6-1.5,0.9c-0.5,0.3-1.1,0.5-1.8,0.7c-0.6,0.2-1.4,0.3-2.1,0.3c-1.3,0-2.4-0.2-3.5-0.6c-1.1-0.4-2-1-2.8-1.9c-0.8-0.8-1.4-1.9-1.9-3.2c-0.4-1.3-0.7-2.8-0.7-4.6c0-1.8,0.2-3.3,0.7-4.6 C271.8,477.3,272.4,476.3,273.2,475.4z M308.2,482.9c-0.7-0.4-1.5-0.8-2.4-1.1c-0.9-0.3-1.7-0.7-2.4-1.1c-0.7-0.4-1.4-0.9-1.9-1.5c-0.5-0.6-0.7-1.4-0.7-2.4c0-0.6,0.1-1.1,0.3-1.6c0.2-0.5,0.5-0.9,0.9-1.3c0.4-0.4,0.8-0.6,1.3-0.8c0.5-0.2,1-0.3,1.6-0.3c0.6,0,1.1,0.1,1.5,0.3c0.4,0.2,0.8,0.5,1.1,0.7c0.3,0.3,0.6,0.6,0.7,1c0.2,0.4,0.3,0.7,0.4,1h0.4c0.1-0.6,0.3-1.1,0.4-1.5c0.1-0.4,0.3-0.8,0.5-1.1c-0.6-0.5-1.3-0.9-2.1-1.1c-0.7-0.2-1.6-0.4-2.6-0.4c-1.1,0-2,0.1-2.9,0.4c-0.9,0.3-1.6,0.7-2.2,1.2c-0.6,0.5-1.1,1.2-1.4,1.9c-0.3,0.7-0.5,1.5-0.5,2.4c0,1.3,0.2,2.3,0.7,3c0.5,0.7,1.1,1.4,1.9,1.8c0.7,0.5,1.5,0.9,2.4,1.2c0.9,0.3,1.7,0.7,2.4,1.1c0.7,0.4,1.4,0.9,1.9,1.4c0.5,0.6,0.7,1.3,0.7,2.3c0,0.6-0.1,1.2-0.3,1.8c-0.2,0.6-0.5,1.1-0.9,1.5c-0.4,0.4-0.9,0.7-1.4,1c-0.6,0.2-1.2,0.4-1.9,0.4c-0.7,0-1.3-0.1-1.8-0.3c-0.6-0.2-1-0.5-1.5-0.8c-0.4-0.3-0.8-0.7-1.1-1.1c-0.3-0.4-0.5-0.8-0.7-1.2h-0.4c-0.1,0.6-0.1,1.1-0.2,1.5c-0.1,0.4-0.2,0.8-0.4,1.3c0.6,0.4,1.2,0.8,2.1,1.2c0.8,0.4,1.9,0.5,3.2,0.5c1.2,0,2.3-0.2,3.3-0.5c1-0.4,1.8-0.8,2.5-1.5c0.7-0.6,1.2-1.4,1.5-2.3c0.4-0.9,0.5-1.8,0.5-2.8c0-1.2-0.2-2.1-0.7-2.8C309.6,483.9,309,483.3,308.2,482.9z M328.6,472.2c-0.4,0.9-0.9,1.9-1.4,2.8c-0.5,1-1,1.9-1.5,2.9c-0.5,1-1.1,1.9-1.6,2.8c-0.5,0.9-1,1.8-1.5,2.5c-1.1-1.9-2.2-3.8-3.1-5.6c-1-1.8-2-3.6-2.9-5.5c-0.3,0-0.6,0.1-0.9,0.1c-0.3,0-0.6,0-0.9,0c-0.3,0-0.6,0-0.9,0c-0.3,0-0.6-0.1-0.9-0.1c0.2,0.3,0.5,0.8,0.9,1.5c0.4,0.7,0.9,1.4,1.4,2.3c0.5,0.8,1,1.7,1.6,2.6c0.6,0.9,1.1,1.8,1.6,2.6c0.5,0.8,1,1.6,1.4,2.3c0.4,0.7,0.7,1.2,0.9,1.6c0,1.7,0,3.4,0,4.9c0,1.6-0.1,2.9-0.2,4c0.5,0,1-0.1,1.6-0.1c0.6,0,1.1,0,1.6,0.1c0-0.4-0.1-1-0.1-1.8c0-0.7-0.1-1.5-0.1-2.4c0-0.9,0-1.7,0-2.6c0-0.9,0-1.7,0-2.5c0.3-0.7,0.7-1.4,1.2-2.2c0.5-0.8,1-1.7,1.6-2.8c0.6-1,1.3-2.2,2.1-3.4c0.8-1.3,1.7-2.7,2.7-4.2c-0.5,0.1-0.9,0.2-1.2,0.2C329.5,472.3,329.1,472.3,328.6,472.2z M343.6,482.9c-0.7-0.4-1.5-0.8-2.4-1.1c-0.9-0.3-1.7-0.7-2.4-1.1c-0.7-0.4-1.4-0.9-1.9-1.5c-0.5-0.6-0.7-1.4-0.7-2.4c0-0.6,0.1-1.1,0.3-1.6c0.2-0.5,0.5-0.9,0.9-1.3c0.4-0.4,0.8-0.6,1.3-0.8c0.5-0.2,1-0.3,1.6-0.3c0.6,0,1.1,0.1,1.5,0.3c0.4,0.2,0.8,0.5,1.1,0.7c0.3,0.3,0.6,0.6,0.7,1c0.2,0.4,0.3,0.7,0.4,1h0.4c0.1-0.6,0.3-1.1,0.4-1.5c0.1-0.4,0.3-0.8,0.5-1.1c-0.6-0.5-1.3-0.9-2.1-1.1c-0.7-0.2-1.6-0.4-2.6-0.4c-1.1,0-2,0.1-2.9,0.4c-0.9,0.3-1.6,0.7-2.2,1.2c-0.6,0.5-1.1,1.2-1.4,1.9c-0.3,0.7-0.5,1.5-0.5,2.4c0,1.3,0.2,2.3,0.7,3c0.5,0.7,1.1,1.4,1.9,1.8c0.7,0.5,1.5,0.9,2.4,1.2c0.9,0.3,1.7,0.7,2.4,1.1c0.7,0.4,1.4,0.9,1.9,1.4c0.5,0.6,0.7,1.3,0.7,2.3c0,0.6-0.1,1.2-0.3,1.8c-0.2,0.6-0.5,1.1-0.9,1.5c-0.4,0.4-0.9,0.7-1.4,1c-0.6,0.2-1.2,0.4-1.9,0.4c-0.7,0-1.3-0.1-1.8-0.3c-0.6-0.2-1-0.5-1.5-0.8c-0.4-0.3-0.8-0.7-1.1-1.1c-0.3-0.4-0.5-0.8-0.7-1.2h-0.4c-0.1,0.6-0.1,1.1-0.2,1.5c-0.1,0.4-0.2,0.8-0.4,1.3c0.6,0.4,1.2,0.8,2.1,1.2c0.8,0.4,1.9,0.5,3.2,0.5c1.2,0,2.3-0.2,3.3-0.5c1-0.4,1.8-0.8,2.5-1.5c0.7-0.6,1.2-1.4,1.5-2.3c0.4-0.9,0.5-1.8,0.5-2.8c0-1.2-0.2-2.1-0.7-2.8C345,483.9,344.4,483.3,343.6,482.9z M360.7,472.3c-1.3,0-2.7,0-4.1,0c-1.4,0-2.8,0-4.1,0c-1.3,0-2.7-0.1-4.1-0.1c0.1,0.4,0.2,0.8,0.2,1c0,0.3-0.1,0.6-0.2,1c0.4-0.1,1-0.1,1.5-0.2c0.6,0,1.1-0.1,1.8-0.1c0.6,0,1.2-0.1,1.8-0.1c0.6,0,1.2,0,1.7,0c0.1,2.2,0.1,4.4,0.1,6.6v5.5c0,1.4,0,2.8-0.1,4.1c-0.1,1.4-0.1,2.7-0.2,4c0.5,0,1-0.1,1.6-0.1c0.6,0,1.1,0,1.6,0.1c-0.1-1.3-0.1-2.7-0.2-4c-0.1-1.4-0.1-2.7-0.1-4.1v-5.5c0-2.2,0-4.4,0.1-6.6c0.6,0,1.1,0,1.7,0c0.6,0,1.2,0,1.8,0.1c0.6,0,1.2,0.1,1.8,0.1c0.6,0,1.1,0.1,1.5,0.2c-0.1-0.4-0.2-0.7-0.2-1c0-0.3,0.1-0.6,0.2-1C363.4,472.2,362,472.3,360.7,472.3z M379.8,492.3c-0.5,0.1-1.1,0.2-1.8,0.2c-0.7,0.1-1.4,0.1-2.2,0.1c-0.8,0-1.6,0-2.4,0h-2.2c0-0.4,0-1,0-1.8c0-0.8,0-1.8,0-3v-3.2c0-0.3,0-0.6,0-0.8c0-0.2,0-0.4,0-0.6c0.4,0,0.9,0,1.5,0c0.6,0,1.3,0,2.1,0c0.7,0,1.5,0,2.2,0.1c0.7,0,1.4,0.1,1.9,0.2c-0.1-0.3-0.1-0.6-0.1-1c0-0.3,0-0.7,0.1-1c-0.5,0-1,0.1-1.5,0.1c-0.5,0-1.1,0.1-1.7,0.1c-0.6,0-1.3,0.1-2,0.1c-0.7,0-1.6,0-2.5,0c0-0.4,0-1,0-1.8c0-0.8,0-1.6,0-2.4c0-0.8,0-1.5,0-2.1c0-0.6,0.1-1.3,0.1-1.9c1,0,1.9,0,2.7,0c0.7,0,1.4,0.1,2.1,0.1c0.6,0,1.2,0.1,1.8,0.1c0.6,0,1.2,0.1,1.9,0.1c-0.1-0.3-0.1-0.6-0.1-1c0-0.3,0-0.6,0.1-1c-1,0-1.9,0.1-2.8,0.1c-0.9,0-1.9,0-2.8,0c-1,0-1.9,0-2.9,0c-0.9,0-1.9-0.1-2.9-0.1c0.1,1.4,0.1,2.7,0.2,4.1c0.1,1.4,0.1,2.7,0.1,4.1v5.5c0,1.4,0,2.8-0.1,4.1c-0.1,1.4-0.1,2.7-0.2,4.1c1,0,1.9-0.1,2.9-0.1h5.8c0.9,0,1.9,0,2.9,0.1c-0.1-0.2-0.1-0.5-0.1-0.8c0-0.1,0-0.3,0-0.5C379.7,492.6,379.8,492.4,379.8,492.3z M406.8,483.3c-0.2-1.8-0.4-3.7-0.6-5.6c-0.2-1.9-0.4-3.9-0.7-5.9h-0.4c-0.5,1-1.1,2-1.7,3.2c-0.6,1.1-1.2,2.3-1.9,3.4c-0.6,1.2-1.2,2.3-1.8,3.5c-0.6,1.1-1.2,2.2-1.7,3.2c-0.5,1-1,1.8-1.4,2.6c-0.4,0.8-0.7,1.3-0.9,1.7c-1.6-3-3.2-5.9-4.7-8.8c-1.5-2.8-3-5.8-4.4-8.8H386c-0.2,1.7-0.4,3.5-0.6,5.4c-0.2,1.9-0.5,3.8-0.8,5.7c-0.3,1.9-0.6,3.9-0.9,5.8c-0.3,1.9-0.6,3.7-0.9,5.5c0.3,0,0.7-0.1,1.1-0.1c0.4,0,0.8,0,1.1,0.1c0-0.9,0.1-1.9,0.2-3.3c0.1-1.3,0.2-2.7,0.4-4.2c0.1-1.5,0.3-3,0.5-4.6c0.2-1.5,0.3-3,0.5-4.3h0.1c1.4,2.8,2.8,5.6,4.2,8.2c1.4,2.7,2.7,5.4,4,8h0.3c1.3-2.9,2.6-5.7,4-8.3c1.4-2.6,2.9-5.3,4.3-8h0.1c0.3,2.8,0.6,5.5,0.9,8.1c0.2,2.7,0.5,5.4,0.7,8.2c0.3,0,0.5-0.1,0.7-0.1h1.5c0.2,0,0.5,0,0.7,0.1c-0.3-1.8-0.5-3.5-0.7-5.3 C407.2,486.9,407,485.1,406.8,483.3z M423.4,484.6c-0.5-0.7-1.1-1.3-1.9-1.7c-0.7-0.4-1.5-0.8-2.4-1.1c-0.9-0.3-1.7-0.7-2.4-1.1c-0.7-0.4-1.4-0.9-1.9-1.5c-0.5-0.6-0.7-1.4-0.7-2.4c0-0.6,0.1-1.1,0.3-1.6c0.2-0.5,0.5-0.9,0.9-1.3c0.4-0.4,0.8-0.6,1.3-0.8c0.5-0.2,1-0.3,1.6-0.3c0.6,0,1.1,0.1,1.5,0.3c0.4,0.2,0.8,0.5,1.1,0.7c0.3,0.3,0.6,0.6,0.7,1c0.2,0.4,0.3,0.7,0.4,1h0.4c0.1-0.6,0.3-1.1,0.4-1.5c0.1-0.4,0.3-0.8,0.5-1.1c-0.6-0.5-1.3-0.9-2.1-1.1c-0.7-0.2-1.6-0.4-2.6-0.4c-1.1,0-2,0.1-2.9,0.4c-0.9,0.3-1.6,0.7-2.2,1.2c-0.6,0.5-1.1,1.2-1.4,1.9c-0.3,0.7-0.5,1.5-0.5,2.4c0,1.3,0.2,2.3,0.7,3c0.5,0.7,1.1,1.4,1.9,1.8c0.7,0.5,1.5,0.9,2.4,1.2c0.9,0.3,1.7,0.7,2.4,1.1c0.7,0.4,1.4,0.9,1.9,1.4c0.5,0.6,0.7,1.3,0.7,2.3c0,0.6-0.1,1.2-0.3,1.8c-0.2,0.6-0.5,1.1-0.9,1.5c-0.4,0.4-0.9,0.7-1.4,1c-0.6,0.2-1.2,0.4-1.9,0.4c-0.7,0-1.3-0.1-1.8-0.3c-0.6-0.2-1-0.5-1.5-0.8c-0.4-0.3-0.8-0.7-1.1-1.1c-0.3-0.4-0.5-0.8-0.7-1.2h-0.4c-0.1,0.6-0.1,1.1-0.2,1.5c-0.1,0.4-0.2,0.8-0.4,1.3c0.6,0.4,1.2,0.8,2.1,1.2c0.8,0.4,1.9,0.5,3.2,0.5c1.2,0,2.3-0.2,3.3-0.5c1-0.4,1.8-0.8,2.5-1.5c0.7-0.6,1.2-1.4,1.5-2.3c0.4-0.9,0.5-1.8,0.5-2.8 C424.2,486.3,423.9,485.3,423.4,484.6z"),this.text_r=this.text.append("path").attr("fill","#6E6E73").attr("d","M433.1,472.1c2.2,0,3.9,1.8,3.9,3.9c0,2.2-1.8,3.9-3.9,3.9c-2.2,0-3.9-1.8-3.9-3.9 C429.2,473.8,430.9,472.1,433.1,472.1z M433.1,479.5c1.9,0,3.5-1.6,3.5-3.5s-1.5-3.5-3.5-3.5s-3.5,1.6-3.5,3.5 S431.2,479.5,433.1,479.5z M431.7,475c0-0.5,0-1.1-0.1-1.5c0.3,0,0.6,0.1,0.9,0.1c0.3,0,0.6-0.1,0.9-0.1c0.8,0,1.4,0.4,1.4,1.1c0,0.9-1,1.3-1.5,1.4c0.6,0.7,1.5,2,1.9,2.4v0.1c-0.1,0-0.3-0.1-0.4-0.1c-0.1,0-0.3,0-0.4,0.1c-0.5-0.8-1.1-1.6-1.8-2.4h-0.4v0.8c0,0.5,0,1.1,0.1,1.6c-0.1,0-0.2-0.1-0.4-0.1c-0.1,0-0.2,0-0.4,0.1c0-0.5,0.1-1,0.1-1.5V475z M432.2,475.7c0.1,0,0.3,0,0.5,0c0.7,0,1.4-0.3,1.4-1.1c0-0.6-0.4-0.9-1-0.9c-0.3,0-0.5,0-0.8,0.1c0,0.3-0.1,0.7-0.1,1V475.7z"),this.text_tm=this.text.append("path").attr("fill","#6E6E73").attr("d","M376.1,322.1c0-0.6,0-1.2,0-1.9c-0.6,0-1.4,0-1.9,0.1c0-0.1,0-0.2,0-0.3c0-0.1,0-0.2,0-0.3c0.8,0,1.5,0,2.3,0s1.5,0,2.3,0c0,0.1,0,0.2,0,0.3c0,0.1,0,0.2,0,0.3c-0.5-0.1-1.3-0.1-1.9-0.1c0,0.6,0,1.2,0,1.9v1.5c0,0.8,0,1.6,0.1,2.3c-0.2,0-0.3,0-0.4,0c-0.1,0-0.3,0-0.4,0c0-0.8,0.1-1.6,0.1-2.3V322.1zM380.5,319.7c0.8,1.7,1.7,3.3,2.6,5c0.4-0.7,1.8-3.3,2.7-5h0.1c0.3,2.3,0.5,4.3,0.7,6.3c-0.1,0-0.3,0-0.4,0c-0.1,0-0.3,0-0.4,0c-0.1-1.6-0.3-3.1-0.4-4.6h0c-0.8,1.5-1.6,3-2.4,4.6h-0.1c-0.7-1.5-1.5-3-2.3-4.6h0c-0.2,1.5-0.4,3.6-0.4,4.6c-0.1,0-0.2,0-0.3,0c-0.1,0-0.2,0-0.3,0c0.3-2,0.7-4.4,0.9-6.3H380.5z");var o=this.root.node().getBBox(),n=o.x+o.width/2,i=o.y+o.height/2,a=Math.min(this.width(),this.height())/Math.max(o.width,o.height);this.root.attr("transform","translate("+-n*a+","+-i*a+")scale("+a+")")},e.prototype.update=function(e,r){switch(t.prototype.update.call(this,e,r),this.animation()){case"none":break;case"accentInOut":this.logo.attr("opacity",0),this.logo_accent.attr("transform","translate(-400, 0)"),this.text.attr("opacity",0),this.logo.transition().duration(1e3).attr("opacity",1),this.logo_accent.transition().delay(500).duration(1500).attr("transform","translate(0, 0)"),this.text.transition().delay(100).duration(1e3).attr("opacity",1),this.logo_accent.transition().ease("back").delay(7e3).duration(1500).attr("transform","translate(400, 0)"),this.text.transition().delay(8400).duration(1e3).attr("opacity",0),this.logo_accent.transition().delay(8500).duration(1e3).attr("opacity",0),this.logo.transition().delay(8500).duration(1e3).attr("opacity",0);break;case"accentIn":this.logo.attr("opacity",0),this.logo_accent.attr("transform","translate(-400, 0)"),this.text.attr("opacity",0),this.logo.transition().duration(1e3).attr("opacity",1),this.logo_accent.transition().delay(500).duration(1500).attr("transform","translate(0, 0)"),this.text.transition().delay(100).duration(1e3).attr("opacity",1);break;case"fade_in":this.logo.attr("opacity",0),this.logo_accent.attr("opacity",0),this.text.attr("opacity",0),this.logo.transition().duration(1e3).attr("opacity",1),this.logo_accent.transition().duration(1e3).attr("opacity",1),this.text.transition().delay(100).duration(1e3).attr("opacity",1)}},e}(e.SVGWidget);eo.prototype._class+=" other_HPCCBadge",eo.prototype.publish("animation","none","set","Animation Style",["none","accentInOut","accentIn","fade_in"]);P(".other_Html{height:100%;width:100%;overflow-x:auto;overflow-y:scroll}");var ro=function(t){function e(){var e=t.call(this)||this;return e._tag="div",e}return n(e,t),e.prototype.enter=function(e,r){t.prototype.enter.call(this,e,r)},e.prototype.update=function(e,r){t.prototype.update.call(this,e,r),r.style("overflow-x",this.overflowX_exists()?this.overflowX():"").style("overflow-y",this.overflowY_exists()?this.overflowY():"");var o=r.selectAll(".htmlWrapper").data(this.data().length>0?this.data():[this.html()]);o.enter().append("div").attr("class","htmlWrapper").merge(o).html(function(t){return t}),o.exit().remove()},e}(e.HTMLWidget);ro.prototype._class+=" other_Html",ro.prototype.publish("html","","string","Html to render",null,{tags:["Basic"]}),ro.prototype.publish("overflowX",null,"set","CSS overflow-x",["","visible","hidden","scroll","auto","initial","inherit"],{tags:["Basic"],optional:!0}),ro.prototype.publish("overflowY",null,"set","CSS overflow-y",["","visible","hidden","scroll","auto","initial","inherit"],{tags:["Basic"],optional:!0});P(".other_IconList .other_Html{overflow-x:hidden;overflow-y:hidden}");var oo=function(t){function o(){var e=t.call(this)||this;return e._entity_list=[],e._content_list=[],e._list=(new r.HorizontalList).orientation_default("horizontal").flexWrap_default("nowrap"),e}return n(o,t),o.prototype.enter=function(e,r){t.prototype.enter.call(this,e,r),r.style("height","100%").style("width","100%"),Wt(e.parentElement).style("height","100%").style("width","100%"),this._list.target(e)},o.prototype.update=function(o,n){var i=this;t.prototype.update.call(this,o,n);var a=this._list.widgets();this.data().forEach(function(t,o){a[o]?(a[o]=i.updateListProperties(a[o],o),i.updateEntityProperties(a[o].widgets()[0],o),a[o].widgets()[1].html(i.data()[o][i.htmlColumnIndex_exists()?i.htmlColumnIndex():1])):a[o]=i.updateListProperties(new r.VerticalList,o).widgets([i.updateEntityProperties(new e.Entity,o),(new ro).html(i.data()[o][i.htmlColumnIndex_exists()?i.htmlColumnIndex():1])])}),this._list.widgets(a.slice(0,this.data().length)),this._list.resize().render()},o.prototype.updateListProperties=function(t,e){return t.disableScroll(!0).widgetsFlexBasis([this.iconSize()+"px","calc(100% - "+this.iconSize()+"px)"])},o.prototype.updateEntityProperties=function(t,e){return t.icon(this.iconColumnIndex_exists()?this.data()[e][this.iconColumnIndex()]:"?").iconColor(this.iconColorColumnIndex_exists()?this.data()[e][this.iconColorColumnIndex()]:"#000").iconDiameter(this.iconSize()).iconPaddingPercent(0)},o}(e.HTMLWidget);oo.prototype._class+=" other_IconList",oo.prototype.publish("iconSize",72,"number","Size of icon (pixels)"),oo.prototype.publish("iconColumnIndex",0,"number","Index of column containing icon character"),oo.prototype.publish("iconColorColumnIndex",1,"number","Index of column containing icon color"),oo.prototype.publish("htmlColumnIndex",2,"number","Index of column containing html string");P(".other_Paginator{display:block;position:absolute;white-space:nowrap}.other_Paginator .pagination{display:inline-block;white-space:nowrap;margin:0;padding:0}.other_Paginator .pagination>li{display:inline}.other_Paginator input[type=number].currentPageNumber{border:1px solid #ddd;outline:0 none;position:relative;width:37px;text-align:center}.other_Paginator div.side{padding-top:5px;padding-left:8px;vertical-align:top}.other_Paginator span.side{position:relative;color:#337ab7}.other_Paginator .pagination>div,.other_Paginator .pagination>li>a,.other_Paginator .pagination>li>span{position:relative;float:left;padding:6px 12px;margin-left:-1px;line-height:1.42857143;color:#337ab7;text-decoration:none;background-color:#fff;border:1px solid #ddd}.other_Paginator .pagination>li:first-child>a,.other_Paginator .pagination>li:first-child>span{margin-left:0;border-top-left-radius:4px;border-bottom-left-radius:4px}.other_Paginator .pagination>li:last-child>a,.other_Paginator .pagination>li:last-child>span{border-top-right-radius:4px;border-bottom-right-radius:4px}.other_Paginator .pagination>li>a:focus,.other_Paginator .pagination>li>a:hover,.other_Paginator .pagination>li>span:focus,.other_Paginator .pagination>li>span:hover{color:#23527c;background-color:#eee;border-color:#ddd}.other_Paginator .pagination>.active>a,.other_Paginator .pagination>.active>a:focus,.other_Paginator .pagination>.active>a:hover,.other_Paginator .pagination>.active>span,.other_Paginator .pagination>.active>span:focus,.other_Paginator .pagination>.active>span:hover{z-index:2;color:#fff;cursor:default;background-color:#337ab7;border-color:#337ab7}.other_Paginator .pagination>.disabled>a,.other_Paginator .pagination>.disabled>a:focus,.other_Paginator .pagination>.disabled>a:hover,.other_Paginator .pagination>.disabled>span,.other_Paginator .pagination>.disabled>span:focus,.other_Paginator .pagination>.disabled>span:hover{color:#777;cursor:not-allowed;background-color:#fff;border-color:#ddd}.other_Paginator .pagination-lg>li>a,.other_Paginator .pagination-lg>li>span{padding:10px 16px;font-size:18px}.other_Paginator .pagination-lg>li:first-child>a,.other_Paginator .pagination-lg>li:first-child>span{border-top-left-radius:6px;border-bottom-left-radius:6px}.other_Paginator .pagination-lg>li:last-child>a,.other_Paginator .pagination-lg>li:last-child>span{border-top-right-radius:6px;border-bottom-right-radius:6px}.other_Paginator .pagination-sm>li>a,.other_Paginator .pagination-sm>li>span{padding:5px 10px;font-size:12px}.other_Paginator .pagination-sm>li:first-child>a,.other_Paginator .pagination-sm>li:first-child>span{border-top-left-radius:3px;border-bottom-left-radius:3px}.other_Paginator .pagination-sm>li:last-child>a,.other_Paginator .pagination-sm>li:last-child>span{border-top-right-radius:3px;border-bottom-right-radius:3px}");var no=function(t){function e(){var e=t.call(this)||this;return e._tag="div",e._tNumPages=1,e._numList=[],e}return n(e,t),e.prototype.postUpdate=function(t,e){},e.prototype.enter=function(e,r){t.prototype.enter.call(this,e,r);var o=this;this.paginator=r.append("ul").attr("class","paginator pagination pagination-sm"),this.side=r.append("div").attr("class","paginator pagination side"),this.side.append("span").classed("side",!0).text("Page "),this.side.append("input").attr("type","number").attr("class","currentPageNumber").property("value",1).attr("min",1).on("change",function(){o.pageNumber(this.value),o._onSelect(this.value)}),this.side.append("span").classed("side total",!0).text(" of 1")},e.prototype.update=function(t,e){var r=this;if(e.style("bottom",this.bottom()+"px").style("right",this.right()+"px"),this._tNumPages=Math.ceil(this.numItems()/this.itemsPerPage())||1,this.pageNumber()>this._tNumPages&&this.pageNumber(1),this._numList=[],this.numItems()){this._numList.push("first");for(var o=-this.adjacentPages();o<=this.adjacentPages();o++)this.pageNumber()+o>0&&this.pageNumber()+o<=this._tNumPages&&this._numList.push(this.pageNumber()+o);this._numList.push("last")}this.side.select(".total").text(" of "+this._tNumPages),this.side.select(".currentPageNumber").property("value",this.pageNumber()),this.side.select(".currentPageNumber").attr("max",this._tNumPages);var n=this.paginator.selectAll("li").data(this._numList,function(t){return t});n.enter().append(function(t){var e=document.createElement("li");if(t!==r.pageNumber()){var o=document.createElement("a"),n=document.createTextNode(t);return o.appendChild(n),o.href="#",e.appendChild(o),e}var i=document.createElement("span");return i.innerHTML=t,e.appendChild(i),e}).on("click",function(t,e){switch(Ct.preventDefault(),r.side.select(".currentPageNumber").property("value",r.pageNumber()),t){case"first":1!==r.pageNumber()&&(r.pageNumber(1),r._onSelect(1,"previous"));break;case"last":r.pageNumber()!==r._tNumPages&&(r.pageNumber(r._tNumPages),r._onSelect(r._tNumPages,"previous"));break;default:r.pageNumber(t),r._onSelect(t)}}),n.classed("active",function(t,e){return t===r.pageNumber()}).select("a").text(function(t){return t}),n.exit().remove(),n.order(),0===this.numItems()&&Wt(t).remove()},e.prototype.exit=function(e,r){t.prototype.exit.call(this,e,r)},e}(e.HTMLWidget);no.prototype._class+=" other_Paginator",no.prototype.publish("itemsPerPage",2,"number","Pagination items per page",null,{tags:["Private"]}),no.prototype.publish("numItems",10,"number","Pagination total number of items",null,{tags:["Private"]}),no.prototype.publish("pageNumber",1,"number","Pagination set or get the page number",null,{tags:["Private"]}),no.prototype.publish("adjacentPages",2,"number","Number of page indexes either side of current one",null,{tags:["Private"]}),no.prototype.publish("bottom",20,"number","Pagination bottom offset",null,{tags:["Private"]}),no.prototype.publish("right",20,"number","Pagination right offset",null,{tags:["Private"]});function io(t,r){return r instanceof e.Widget?"Widget with class: "+r.classID():r}P(".other_Table{color:#333;border-width:1px;border-color:#999}.other_Table table{border-collapse:collapse;border-spacing:0}.other_Table .tableDiv{position:absolute}.labels-wrapper th,.other_Table th{padding:5px 10px;border:1px solid #a9c6c9;color:#fff;white-space:nowrap;cursor:pointer;box-sizing:border-box}.cols-wrapper tr,.other_Table thead>tr{background-color:#1f77b4}.labels-wrapper .thIcon,.other_Table .thIcon{font-family:FontAwesome;padding-left:8px}.other_Table .tableDiv tbody>tr:nth-child(odd){background-color:#f3faff;color:#000}.other_Table .tableDiv tbody>tr:nth-child(2n){background-color:#fff;color:#000}.other_Table .tableDiv tbody>tr.selected{background-color:#f48a00;color:#fff}.other_Table .rows-wrapper table>tbody>tr{background-color:#bce1fb;color:#000}.other_Table .rows-wrapper .labels-wrapper{width:100%}.other_Table table tbody>tr.selected{background-color:#f48a00;color:#fff}.other_Table .tableDiv tbody>tr.hover,.other_Table .tableDiv tbody>tr:hover,.rows-wrapper table tbody tr.hover{background-color:#bfd7e7;color:#fff}.other_Table .rows-wrapper tbody tr.hover.selected,.other_Table .tableDiv tbody>tr.selected.hover,.other_Table .tableDiv tbody>tr.selected:hover,.other_Table tr.selected.hover,.other_Table tr.selected:hover{background-color:#5ea8db;color:#fff}.other_Table td,.rows-wrapper td{padding:2px 5px;border:1px solid #a9c6c9;white-space:nowrap;box-sizing:border-box;vertical-align:middle}.other_Table tfoot td,.rows-wrapper tfoot td{background-color:#addff3;font-weight:700}");var ao=function(t){function r(){var r=t.call(this)||this;return r._tag="div",r.columns([]),r._paginator=new no,r._selectionBag=new e.Utility.Selection(r),r._selectionPrevClick=null,r._paginatorTableSpacing=4,r}return n(r,t),r.prototype.size=function(e){var r=t.prototype.size.apply(this,arguments);if(arguments.length&&this.tableDiv){var o=this.showHeader()&&this.fixedHeader()?this.thead.property("offsetHeight"):0;this.tableDiv.style("width",this._size.width+"px").style("height",this._size.height-o+"px"),this._element.style("width",this._size.width+"px").style("height",this._size.height+"px")}return r},r.prototype.isHidden=function(t){if(this.pivot())return!1;if(-1!==this.hiddenColumns().indexOf(t))return!0;var e=this.fields();return!(!e||!e[t]||"hidden"!==e[t].type()&&-1===this._empty_col_idx_arr.indexOf(t))},r.prototype.tableColumns=function(t){var e=this.columns.apply(this,arguments);return!arguments.length&&this.pivot()?this._db.column(0):e},r.prototype.tableData=function(t){var e=this.data.apply(this,arguments);return!arguments.length&&this.pivot()?this._db.columns().filter(function(t,e){return e>0}):e},r.prototype.field=function(t,e){var r={transform:function(t){return t}};return this.pivot()?0===e?r:this.fields()[t+1]:-1===t?r:this.fields()[e]},r.prototype.calcFieldsIndex=function(t){for(var e=-1,r=0,o=this.columns().length,n=0;e<o&&n<=t;)e++,this.isHidden(e)?r++:n++;return t+r},r.prototype.getEmptyColumnIdxArr=function(t,e){var r=[];if(this.hideEmptyColumns())for(var o=0;o<t.length;o++){for(var n=!0,i=0;i<e.length;i++)if(-1===["",null,void 0].indexOf(e[i][o])){n=!1;break}n&&r.push(o)}return r},r.prototype.enter=function(e,r){t.prototype.enter.call(this,e,r),this._placeholderElement.style("overflow","hidden"),this.tableDiv=r.append("div").attr("class","tableDiv"),this.table=this.tableDiv.append("table"),this.fixedHead=r.append("div").classed("header-wrapper",!0),this.fixedHeadTable=this.fixedHead.append("table"),this.fixedThead=this.fixedHeadTable.append("thead").append("tr"),this.unfixedThead=this.table.append("thead").append("tr"),this.tbody=this.table.append("tbody"),this.tfoot=this.table.append("tfoot").append("tr"),this.fixedCol=r.append("div").classed("rows-wrapper",!0),this.fixedColTable=this.fixedCol.append("table"),this.fixedColHead=this.fixedColTable.append("thead"),this.fixedColHeadRow=this.fixedColHead.append("tr"),this.fixedColBody=this.fixedColTable.append("tbody"),this.fixedColFoot=this.fixedColTable.append("tfoot"),this.fixedColFootRow=this.fixedColFoot.append("tr"),this.tableDiv.style("overflow","auto")},r.prototype.update=function(r,o){t.prototype.update.call(this,r,o);var n=this,i=n.tableColumns(),a=n.tableData(),s=this.tableDiv.node().scrollLeft;this._empty_col_idx_arr=this.getEmptyColumnIdxArr(i,a),this.element().selectAll("table,tbody,th,td").style("width",null),!this.sortByFieldIndex_exists()||this._prevSortByFieldIndex===this.sortByFieldIndex()&&this._prevDescending===this.descending()||(e.Utility.multiSort(a,[{idx:this.sortByFieldIndex(),reverse:this.descending()}]),this._prevSortByFieldIndex=this.sortByFieldIndex(),this._prevDescending=this.descending()),this._hasChildWidgets=!1,this.fixedHeader()?this.thead=this.fixedThead:this.thead=this.unfixedThead,this.fixedHead.style("display",this.fixedHeader()?"table-row":"none"),this.unfixedThead.style("display",this.fixedHeader()?"none":"table-row");var l=this.thead.selectAll("th").data(this.showHeader()?i.filter(function(t,e){return!n.isHidden(e)&&-1===n._empty_col_idx_arr.indexOf(e)}):[]),c=l.enter().append("th").each(function(t){var e=Wt(this);e.append("span").attr("class","thText"),e.append("span").attr("class","thIcon")}).on("click",function(t,e){n.headerClick(t,e)}).merge(l).style("background-color",this.theadRowBackgroundColor()).style("border-color",this.theadCellBorderColor()).style("color",this.theadFontColor()).style("font-size",this.theadFontSize());if(c.select(".thText").style("font-family",this.theadFontFamily()).text(function(t,e){var r=n.calcFieldsIndex(e);return n.field(-1,r).transform(t)}),c.select(".thIcon").text(function(t,e){return n.descending()?n.sortByFieldIndex()===e?"":"":n.sortByFieldIndex()===e?"":""}),l.exit().remove(),c.order(),this.paginationLimit()&&this.pagination(a.length>=parseInt(this.paginationLimit())),this.pagination()){null===this._paginator.target()&&this._paginator.target(o.node());var u=this._calcRowsPerPage(c);this.itemsPerPage(u),this._paginator.numItems(a.length),this._tNumPages=Math.ceil(this._paginator.numItems()/this.itemsPerPage())||1,(this.pageNumber()>this._tNumPages||this.pageNumber()<=0)&&this.pageNumber(1),this._paginator._onSelect=function(t,e){n.pageNumber(t),n.render()}}else this._paginator.numItems(0);var p=this.pageNumber()-1,h=this.itemsPerPage(),d=p*h,f=p*parseInt(h)+parseInt(h),g=null;g=this.topN()?a.slice(0,this.topN()):this.pagination()?a.slice(d,f):a;var y=[this.totalledLabel()?this.totalledLabel():null];if(0!==this.totalledColumns().length){for(var m=0;m<this.totalledColumns().length;m++)this.totalledColumns()[m]=+this.totalledColumns()[m];for(var v=1;v<i.length;v++){var _=0;if(-1!==this.totalledColumns().indexOf(v)){for(var b=0;b<g.length;b++)_+=g[b][v];y.push(_)}else y.push("")}var w=this.tfoot.selectAll("td").data(y);w.enter().append("td").merge(w).style("background-color",this.tfootRowBackgroundColor()).style("border-color",this.tfootCellBorderColor()).style("color",this.tfootFontColor()).style("font-size",this.tfootFontSize())[this.renderHtmlDataCells()?"html":"text"](function(t,e){return n.fields()[e].transform(t)}),w.exit().remove()}var x=this.tbody.selectAll("tr.tr_"+this.id()).data(g.map(function(t,e){for(var r=0;r<t.length;++r)void 0===t[r]&&(t[r]=null);return{rowIdx:e,row:t}})),C=x.enter().append("tr").attr("class","tr_"+this.id()).on("click.selectionBag",function(t){if(t.row){var e=t.row,r=t.rowIdx;n.selectionBagClick(e,r),n.applyRowStyles(n.getBodyRow(r)),n.applyFirstColRowStyles(n.getFixedRow(r))}},!0).on("mouseover",function(t){if(t.row){var e=t.rowIdx,r=n.getFixedRow(e);r.empty()||r.classed("hover",!0);var o=n.getBodyRow(e);o.classed("hover",!0),n.applyStyleToRows(o),n.applyFirstColRowStyles(r)}}).on("mouseout",function(t){if(t.row){var e=t.rowIdx,r=n.getFixedRow(e);r.classed("hover",!1);var o=n.getBodyRow(e);o.classed("hover",!1),n.applyStyleToRows(o),n.applyFirstColRowStyles(r)}}).merge(x).classed("selected",function(t){var e=t.row;return n._selectionBag.isSelected(n._createSelectionObject(e))}).classed("trId"+this._id,!0);x.exit().remove(),this.applyStyleToRows(C);var T=C.selectAll(".td_"+this.id()).data(function(t,e){return t.row.filter(function(t,e){return e<i.length&&!n.isHidden(e)&&-1===n._empty_col_idx_arr.indexOf(e)}).map(function(e,r){return{rowInfo:t,colIdx:r,cell:e}})});T.enter().append("td").attr("class","td_"+this.id()).on("click",function(t){t.rowInfo&&n.click(n.rowToObj(t.rowInfo.row),n.columns()[t.colIdx],n._selectionBag.isSelected(n._createSelectionObject(t.rowInfo.row)))}).on("dblclick",function(t,e){t.rowInfo&&n.dblclick(n.rowToObj(t.rowInfo.row),n.columns()[t.colIdx],n._selectionBag.isSelected(n._createSelectionObject(t.rowInfo.row)))}).each(function(t,e){var r=n.getColumnAlignment(t.rowInfo.rowIdx,t.colIdx,t.cell);Wt(this).style("height",null).style("text-align",r).style("vertical-align",n.verticalAlign()).classed("tr-"+t.rowInfo.rowIdx+"-td-"+e,!0)}).merge(T).each(function(t){var r=Wt(this);if(t.cell instanceof e.Widget){r[n.renderHtmlDataCells()?"html":"text"](null);var o=r.selectAll(".div_"+n.id()).data([t.cell],function(t){return t.id()});o.exit().each(function(t){t.target(null)}).remove(),o.enter().append("div").attr("class","div_"+n.id()).style("width",n.minWidgetWidth()+"px").style("height",n.minWidgetHeight()+"px").each(function(t){var e=Wt(this);t._parentWidget=n,t._class.indexOf("childWidget")<0&&(t._class="childWidget "+t._class),t.target(null).target(e.node())}).merge(o).each(function(t){t.resize().lazyRender(),n._hasChildWidgets=!0})}else{r.selectAll(".div_"+n.id()).remove();var i=n.calcFieldsIndex(t.colIdx);r[n.renderHtmlDataCells()?"html":"text"](n.field(t.rowInfo.rowIdx,i).transform(t.cell))}}),T.exit().remove();var S=parseInt(this.thead.node().offsetHeight);this.pagination()&&this._hasChildWidgets?(this.tableDiv.style("overflow-y","auto"),this.table.style("margin-bottom","50px"),console.log("Warning: displaying another widget in the table may cause problems with pagination")):(this.tableDiv.style("overflow-y",null),this.table.style("margin-bottom",null)),this.size(this._size);var k=0,P=this.fixedColHeadRow.selectAll("th").data(this.fixedColumn()&&this.showHeader()?[i[0]]:[]),E=P.enter().append("th").each(function(t){var e=Wt(this);e.append("span").attr("class","thText"),e.append("span").attr("class","thIcon")}).on("click",function(t,e){n.headerClick(t,e)}).merge(P).style("background-color",this.theadRowBackgroundColor()).style("border-color",this.theadCellBorderColor()).style("color",this.theadFontColor()).style("font-size",this.theadFontSize());E.select(".thText").style("font-family",this.theadFontFamily()).text(function(t){return t}),E.select(".thIcon").text(function(t,e){return n.descending()?n.sortByFieldIndex()===e?"":"":n.sortByFieldIndex()===e?"":""}),P.exit().remove();var R=this.fixedColBody.selectAll("tr").data(this.fixedColumn()?g:[]),I=R.enter().append("tr").attr("class",function(){return"trId"+n._id}).merge(R).on("click",function(t,e){Wt(C[0][e]).on("click.selectionBag")(C.data()[e],e)}).on("mouseover",function(t,e){Wt(C[0][e]).on("mouseover")(C.data()[e],e)}).on("mouseout",function(t,e){Wt(C[0][e]).on("mouseout")(C.data()[e],e)}).classed("selected",function(t){return n._selectionBag.isSelected(n._createSelectionObject(t))});R.exit().remove();var W=I.selectAll("td").data(function(t,e){return[t[0]]}),D=W.enter().append("td").merge(W)[this.renderHtmlDataCells()?"html":"text"](function(t){return"string"==typeof t?t.trim():"number"==typeof t?t:""});W.exit().remove();var A,N=this.fixedColFootRow.selectAll("td").data(this.fixedColumn()&&this.totalledLabel()?[this.totalledLabel()]:[]),M=N.enter().append("td").merge(N)[this.renderHtmlDataCells()?"html":"text"](function(t){return"string"==typeof t?t.trim():"number"==typeof t?t:""});if(N.exit().remove(),this.fixedColumn()&&!this.fixedSize()&&M.length&&(this.showHeader()?(M.property("offsetWidth"),M.property("offsetWidth"),k=M.property("offsetWidth")):k=M.property("offsetWidth"),this.fixedCol.style("position","absolute").style("margin-top",-this.tableDiv.property("scrollTop")+S+"px"),D.style("width",k+"px"),this.fixedColHead.style("position","absolute").style("margin-top",(this.fixedHeader()?this.tableDiv.property("scrollTop"):0)-S+"px"),E.style("width",k+"px"),C.each(function(t,e){var r=Wt(this).select("td").property("offsetHeight");Wt(D[e][0]).style("height",r+"px")})),this.table.style("margin-left",-k+"px"),this.tableDiv.style("margin-left",k+"px").style("width",this.width()-k+"px"),C.empty()||this.setColumnWidths(C),this.fixedSize()){var B,O,H=Wt(".tableDiv > table").node();if(H)0!==(A=H.getBoundingClientRect()).width&&0!==A.height?(L(),U()):(A.height-S<=n.tableDiv.property("offsetHeight")?U():n.fixedHeader()?(B=n.tableDiv.property("offsetHeight"),B+="px"):B="100%",A.width-k<n.tableDiv.property("offsetWidth")?L():n.fixedColumn()?(O=n.tableDiv.property("offsetWidth")-k,O+="px"):O="100%"),o.classed("childWidget")&&(n._placeholderElement.style("width",O+"px").style("height",B+"px"),n.tableDiv.style("overflow","hidden")),n.size({width:O,height:B})}function L(){A.width;n.tbody.property("offsetWidth")+1}function U(){n.tbody.property("offsetHeight")+S}this.setOnScrollEvents(this.tableDiv.node(),S),this._paginator.render(),setTimeout(function(){n._paginator.right((n.hasVScroll(o)?e.Platform.getScrollbarWidth():0)+n._paginatorTableSpacing).bottom((n.hasHScroll(o)?e.Platform.getScrollbarWidth():0)+n._paginatorTableSpacing).render(function(){n.tableDiv.node().scrollLeft=s})},0)},r.prototype.exit=function(e,r){this._paginator.target(null),t.prototype.exit.call(this,e,r)},r.prototype.setColumnWidths=function(t){var e=t.filter(function(t,e){return 0===e}),r=Wt(null);e.each(function(t){r=Mt(this.childNodes)});var o=this.fixedHeader()?this.thead.property("offsetHeight"):0,n=1,i={};r.each(function(t,e){i[e]=this.offsetWidth}),this.thead.selectAll("th").each(function(t,e){var o=this.offsetWidth,a=r.empty()?0:i[e],s=o>=a?o:a;this.style.width=s+"px",r.filter(function(t,e){return 0===e}).each(function(){Wt(this).style("width",s+"px")}),n+=s}),this.thead.style("position",this.fixedHeader()?"absolute":"relative").style("width",n+"px").style("margin-top","0px"),this.table.style("width",n+"px"),this.tableDiv.style("margin-top",(this.fixedHeader()?o:0)+"px"),this.tbody.style("width",n+"px")},r.prototype.getBodyRow=function(t){return this.table.selectAll("tbody tr.trId"+this._id).filter(function(e,r){return r===t})},r.prototype.getFixedRow=function(t){return this._element.selectAll(".rows-wrapper tbody tr").filter(function(e,r){return r===t})},r.prototype.setOnScrollEvents=function(t,e){var r=this;t.onscroll=function(t){var o=t.target.scrollTop,n=t.target.scrollLeft;r.fixedHeader()&&r.thead.style("margin-left",-n+"px"),r.fixedColumn()&&(r.fixedCol.style("margin-top",-o+e+"px"),r.fixedHeader()&&r.fixedColHead.style("margin-top",o-e+"px"))}},r.prototype._generateTempRow=function(){var t=this.tbody.append("tr");return t.append("td").text("QQQ"),t},r.prototype._createSelectionObject=function(t){var e=this;return{_id:t,element:function(){return e.tbody?e.tbody.selectAll("tr").filter(function(e){return e===t}):Wt(null)}}},r.prototype._calcRowsPerPage=function(t){0===this._paginator.numItems()&&(this._paginator.numItems(1),this.itemsPerPage(1)),this._paginator.render();var r=this.thead.selectAll("th").node()?this.thead.selectAll("th").node().clientHeight:0,o=this.tfoot.selectAll("td").node()?this.tfoot.selectAll("td").node().clientHeight:0,n=this._generateTempRow(),i=n.node().clientHeight;n.remove();var a=this.calcHeight(this._paginator.element()),s=Math.floor((this.height()-r-o-a-(this.table.style("width")>=this.table.style("width")?e.Platform.getScrollbarWidth():0)-2*this._paginatorTableSpacing)/i)||1;return 0!==this.totalledColumns().length&&(s-=1),s},r.prototype.sort=function(t){return this.sortByFieldIndex()!==t?this.descending(!1):this.descending(!this.descending()),this.sortByFieldIndex(t),this},r.prototype.selection=function(t){return arguments.length?(this._selectionBag.set(t.map(function(t){return this._createSelectionObject(t)},this)),this):this._selectionBag.get().map(function(t){return t._id})},r.prototype.selectionBagClick=function(t,e){if(this.multiSelect()&&Ct.shiftKey&&this._selectionPrevClick){var r=!1,o=[],n=this.tableData().filter(function(e,n){var i=!1;return e!==t&&e!==this._selectionPrevClick||(r&&(i=!0),r=!r,o.push(n)),r||i},this);this.selection(n)}else if(this.multiSelect())this._selectionBag.click(this._createSelectionObject(t),Ct),this._selectionPrevClick=t;else{var i=this._createSelectionObject(t);this._selectionBag.click(i,{ctrlKey:this._selectionBag.isSelected(i)}),this._selectionPrevClick=t}this.render()},r.prototype.applyHoverRowStyles=function(t){t.style("color",this.tbodyHoverRowFontColor()).style("background-color",this.tbodyHoverRowBackgroundColor())},r.prototype.applySelectedRowStyles=function(t){t.style("color",this.tbodySelectedRowFontColor()).style("background-color",this.tbodySelectedRowBackgroundColor())},r.prototype.applyRowStyles=function(t,e){void 0===e&&(e=!1);var r=t.datum().row;t.style("color",e?this.tbodyFirstColFontColor():this.tbodyFontColor()).style("background-color",e?this.tbodyFirstColBackgroundColor():this.tableZebraColor_exists()&&this.tableData().indexOf(r)%2?this.tbodyRowBackgroundColor():this.tableZebraColor())},r.prototype.applyFirstColRowStyles=function(t){this.applyStyleToRows(t,!0)},r.prototype.applyStyleToRows=function(t,e){void 0===e&&(e=!1),e=void 0!==e&&e;var r=this;t.each(function(){var t=Wt(this);t.classed("hover")?r.applyHoverRowStyles(t):t.classed("selected")?r.applySelectedRowStyles(t):r.applyRowStyles(t,e)})},r.prototype.getColumnAlignment=function(t,e,r){var o=this.calcFieldsIndex(e);switch(this.field(t,o).__prop_type){case"string":return this.stringAlign();case"number":return this.numberAlign();case"":case void 0:switch(typeof r){case"string":return this.stringAlign();case"number":return this.numberAlign()}}return null},r.prototype.serializeState=function(){return{selection:this._selectionBag.get().map(function(t){return t._id}),data:this.data()}},r.prototype.deserializeState=function(t){if(t){if(t.selection){var e=this;this._selectionBag.set(t.selection.map(function(t){return e._createSelectionObject(t)}))}t.data&&this.data(t.data)}return this},r.prototype.click=function(t,e,r){console.log("click:  "+JSON.stringify(t,io)+", "+e+","+r)},r.prototype.dblclick=function(t,e,r){console.log("dblclick:  "+JSON.stringify(t,io)+", "+e+","+r)},r.prototype.headerClick=function(t,e){this.sort(e).render()},r}(e.HTMLWidget);ao.prototype._class+=" other_Table",ao.prototype.publish("renderHtmlDataCells",!1,"boolean","enable or disable HTML within cells",null,{tags:["Private"]}),ao.prototype.publish("pagination",!0,"boolean","Enable or disable pagination",null,{tags:["Private"]}),ao.prototype.publish("paginationLimit",null,"number","Maximum number of rows allowed before pagination defaults to on",null,{tags:["Private"]}),ao.prototype.publishProxy("itemsPerPage","_paginator"),ao.prototype.publishProxy("pageNumber","_paginator","pageNumber",1),ao.prototype.publishProxy("adjacentPages","_paginator"),ao.prototype.publish("topN",null,"number","Total number or rows of data to be displayed in the table",null,{tags:["Private"]}),ao.prototype.publish("pivot",!1,"boolean","Pivot Table"),ao.prototype.publish("showHeader",!0,"boolean","Show or hide the table header",null,{tags:["Private"]}),ao.prototype.publish("fixedHeader",!0,"boolean","Enable or disable fixed table header",null,{tags:["Private"]}),ao.prototype.publish("fixedColumn",!1,"boolean","Enable or disable fixed first column",null,{tags:["Private"]}),ao.prototype.publish("multiSelect",!1,"boolean","Multiple Selection",null,{tags:["Basic"]}),ao.prototype.publish("fixedSize",!1,"boolean","Fix Size to Min Width/Height"),ao.prototype.publish("hideEmptyColumns",!1,"boolean","Hide columns with all empty cells"),ao.prototype.publish("theadFontSize",null,"string","Table head font size",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tbodyFontSize",null,"string","Table body font size",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tfootFontSize",null,"string","Table body font size",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("theadFontColor",null,"html-color","Table head font color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tbodyFontColor",null,"html-color","Table body font color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tfootFontColor",null,"html-color","Table body font color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("theadFontFamily",null,"string","Table head font family",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tbodyFontFamily",null,"string","Table body font family",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tfootFontFamily",null,"string","Table body font family",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("theadCellBorderColor",null,"html-color","Table head cell border color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tfootCellBorderColor",null,"html-color","Table head cell border color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("theadRowBackgroundColor",null,"html-color","Table head row color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tfootRowBackgroundColor",null,"html-color","Table head row color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tbodyCellBorderColor",null,"html-color","Table body cell border color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tbodyRowBackgroundColor",null,"html-color","Table body row color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tbodyFirstColFontColor",null,"html-color","Table body first column font color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tbodyFirstColBackgroundColor",null,"html-color","Table body first column background color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tbodyHoverRowFontColor",null,"html-color","Table body hover row font color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tbodyHoverRowBackgroundColor",null,"html-color","Table body hover row background color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tbodySelectedRowFontColor",null,"html-color","Table body selected row color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tbodySelectedRowBackgroundColor",null,"html-color","Table body selected row color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("tableZebraColor",null,"html-color","Table zebra row color",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("totalledColumns",[],"array","Array of indices of the columns to be totalled",null,{tags:["Basic"],optional:!0,disable:function(t){return t.pivot()}}),ao.prototype.publish("totalledLabel",null,"string","Adds a label to the first column of the 'Totalled' row",null,{tags:["Basic"],optional:!0,disable:function(t){return t.pivot()}}),ao.prototype.publish("hiddenColumns",[],"array","Array of indices of the columns to be hidden",null,{tags:["Basic"],optional:!0,disable:function(t){return t.pivot()}}),ao.prototype.publish("stringAlign","left","set","Cell alignment for strings",["left","right","center"],{tags:["Basic"],optional:!0}),ao.prototype.publish("numberAlign","right","set","Cell alignment for numbers",["left","right","center"],{tags:["Basic"],optional:!0}),ao.prototype.publish("verticalAlign",null,"set","Cell vertical alignment",[null,"middle","top","bottom"],{tags:["Basic"],optional:!0}),ao.prototype.publish("minWidgetWidth",320,"number","Minimum width of a child widget",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("minWidgetHeight",240,"number","Minimum height of a child widget",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("sortByFieldIndex",null,"number","Index for the field/column to sort the data",null,{tags:["Basic"],optional:!0}),ao.prototype.publish("descending",!1,"boolean","Direction for sorting the data: ascending (true) or descending (false)",null,{tags:["Basic"],optional:!0});function so(t){return'<div class="colorBlock" style="background-color:'+t+';"></div>'}P(".other_Legend .colorBlock{width:10px;height:10px}.other_Legend>table,.other_Legend>table td,.other_Legend>table th{border-collapse:collapse;border-spacing:0}.other_Table.other_Legend table{border-spacing:0}.labels-wrapper th,.other_Table.other_Legend th{padding:2px 5px;background-color:transparent;border:1px solid transparent;color:#333;white-space:nowrap;cursor:default;font-weight:400;text-align:left}.other_Table.other_Legend tr{background-color:transparent;color:#333}.other_Table.other_Legend .tableDiv tbody>tr:nth-child(odd){background-color:unset;color:#000}.other_Table.other_Legend .tableDiv tbody>tr.hover,.other_Table.other_Legend .tableDiv tbody>tr:hover,.rows-wrapper table tbody tr.hover{background-color:#bfd7e7;color:#fff}.other_Table.other_Legend thead>tr:hover{background-color:transparent}.other_Table.other_Legend tbody>tr.hover,.other_Table.other_Legend tbody>tr:hover,.rows-wrapper tbody tr.hover{background-color:#eee}.other_Table.other_Legend td,.rows-wrapper td{border-width:0;padding:2px 5px;white-space:nowrap;box-sizing:border-box}.other_Legend>.tableDiv>table>tbody>tr:hover{cursor:pointer;color:#000;background-color:#ddd}.other_Legend.horiz-legend .tableDiv{width:100%!important;text-align:left}.other_Legend.horiz-legend .tableDiv>table{display:inline-block;width:100%!important;top:0!important;left:0!important}.other_Legend.horiz-legend tbody,.other_Legend.horiz-legend thead,.other_Legend.horiz-legend tr{display:inline-block}.other_Legend.horiz-legend td,.other_Legend.horiz-legend td>div{display:inline-block;white-space:nowrap}.other_Legend.horiz-legend tr{white-space:nowrap}.other_Legend.horiz-legend tbody{display:inline-block;width:100%!important;text-align:center}");var lo=function(t){function r(){var e=t.call(this)||this;return e.showHeader(!1),e.pagination(!1),e}return n(r,t),r.prototype.isRainbow=function(){var t=this.getWidget();return t&&t._palette&&"rainbow"===t._palette.type()},r.prototype.targetWidget=function(t){if(!arguments.length)return this._targetWidget;this._targetWidget=t,this._targetWidgetMonitor&&(this._targetWidgetMonitor.remove(),delete this._targetWidgetMonitor);var e=this;return this._targetWidgetMonitor=this._targetWidget.monitor(function(t,r,o,n){switch(t){case"chart":case"columns":case"data":case"paletteID":e.lazyRender()}}),this},r.prototype.getWidget=function(){if(this._targetWidget)switch(this._targetWidget.classID()){case"chart_MultiChart":return this._targetWidget.chart()}return this._targetWidget},r.prototype.getPalette=function(){var t=this.getWidget();if(t&&t._palette)switch(t._palette.type()){case"ordinal":return e.Palette.ordinal(t._palette.id());case"rainbow":return e.Palette.rainbow(t._palette.id())}return e.Palette.ordinal("default")},r.prototype.enter=function(e,r){t.prototype.enter.call(this,e,r),Wt(e.parentNode).style("overflow-y","auto"),this.renderHtmlDataCells(!0),this.fixedHeader(!1),this.fixedSize(!0),r.classed("other_Legend",!0)},r.prototype.update=function(e,r){var o=[];if(this._targetWidget){var n=this.getPalette();switch(n.type()){case"ordinal":switch(this.dataFamily()){case"2D":o=this._targetWidget.data().map(function(t){return[so(n(t[0])),t[0]]},this);break;case"ND":o=this._targetWidget.columns().filter(function(t,e){return e>0}).map(function(t){return[so(n(t)),t]},this)}break;case"rainbow":var i=Y(this.rainbowFormat()),a=this.getWidget(),s=this.rainbowBins(),l=a._dataMinWeight,c=a._dataMaxWeight,u=(c-l)/(s-1);o.push([so(n(l,l,c)),i(l)]);for(var p=1;p<s-1;++p){var h=u*p;o.push([so(n(h,l,c)),i(Math.floor(h))])}o.push([so(n(c,l,c)),i(c)])}}this.columns(["Key","Label"]),this.data(o),t.prototype.update.call(this,e,r),r.classed("horiz-legend","horizontal"===this.orientation());var d=r.select(".tableDiv > table"),f=d.node().getBoundingClientRect(),g=this._placeholderElement.node().getBoundingClientRect();r.select(".tableDiv").style("overflow","visible");var y=g.height/2-f.height/2,m=g.width/2-f.width/2;d.style("position","absolute").style("top",y+"px").style("left",m+"px");var v=this.pageNumber()-1,_=this.itemsPerPage(),b=v*_,w=v*parseInt(_)+parseInt(_),x=null;x=this.pagination()?this.data().slice(b,w):this.data();var C=this.tbody.selectAll("tr").data(x),T=this;C.on("click",function(t,e){T.onClick(t,e)}).on("dblclick",function(t,e){T.onDblClick(t,e)}).on("mouseover",function(t,e){T.onMouseOver(t,e)})},r.prototype.exit=function(e,r){this._targetWidgetMonitor&&(this._targetWidgetMonitor.remove(),delete this._targetWidgetMonitor),t.prototype.exit.call(this,e,r)},r.prototype.onClick=function(t,e){console.log("Legend onClick method"),console.log("rowData: "+t),console.log("rowIdx: "+e)},r.prototype.onDblClick=function(t,e){console.log("Legend onDblClick method"),console.log("rowData: "+t),console.log("rowIdx: "+e)},r.prototype.onMouseOver=function(t,e){console.log("Legend onMouseOver method"),console.log("rowData: "+t),console.log("rowIdx: "+e)},r}(ao);lo.prototype._class+=" other_Legend",lo.prototype.publish("dataFamily","ND","set","Type of data",["1D","2D","ND","map","any","other"],{tags:["Private"]}),lo.prototype.publish("orientation","vertical","set","Orientation of Legend rows",["vertical","horizontal"],{tags:["Private"]}),lo.prototype.publish("rainbowFormat",",","string","Rainbow number formatting",null,{tags:["Private"],optional:!0,disable:function(t){return!t.isRainbow()}}),lo.prototype.publish("rainbowBins",8,"number","Number of rainbow bins",null,{tags:["Private"],disable:function(t){return!t.isRainbow()}});var co=ao.prototype.getBBox;lo.prototype.getBBox=function(t,r){var o=co.apply(this,arguments),n=this.element().select(".tableDiv > table");if(!n.empty()){var i=n.node().getBoundingClientRect(),a=i.width+8+(this.hasVScroll(this._placeholderElement)?e.Platform.getScrollbarWidth():0),s=i.height+8+(this.hasHScroll(this._placeholderElement)?e.Platform.getScrollbarWidth():0);return{x:o.x,y:o.y,width:(r?Math.round(a):a)*this._scale,height:(r?Math.round(s):s)*this._scale}}return o};P(".other_MorphText .enter{fill:green}.other_MorphText .update{fill:#333}.other_MorphText .exit{fill:brown}");var uo=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.enter=function(t,e){if(!this.fontSize()){var r=window.getComputedStyle(t,null);this.fontSize(parseInt(r.fontSize))}this._fontWidth=32*this.fontSize()/48,this._textElement=e.append("g")},e.prototype.dateTime=function(){var t=new Date,e=1===t.getSeconds().toString().length?"0"+t.getSeconds():t.getSeconds(),r=1===t.getMinutes().toString().length?"0"+t.getMinutes():t.getMinutes(),o=1===t.getHours().toString().length?"0"+t.getHours():t.getHours(),n=t.getHours()>=12?"pm":"am";return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()]+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getDate()+" "+t.getFullYear()+" "+o+":"+r+":"+e+n},e.prototype.update=function(t,e){var r=this,o=this._textElement.selectAll("text").data(this.data(),function(t){return t.id});o.attr("class","update"),this.transition.apply(o).attr("x",function(t,e){return(-r.data().length/2+e)*r._fontWidth+r._fontWidth/2});var n=o.enter().append("text").attr("class","enter").attr("font-size",this.fontSize()).attr("dy",".35em").attr("y",(this.reverse()?1:-1)*this._fontWidth*2).attr("x",function(t,e){return(-r.data().length/2+e)*r._fontWidth+r._fontWidth/2}).style("fill-opacity",1e-6).style("text-anchor",this.anchor()).text(function(t){return t.text});this.transition.apply(n).attr("y",0).style("fill-opacity",1),o.exit().attr("class","exit"),this.transition.apply(o.exit()).attr("y",(this.reverse()?-1:1)*this._fontWidth*2).style("fill-opacity",1e-6).remove()},e}(e.SVGWidget);uo.prototype._class+=" other_MorphText",uo.prototype.publish("anchor","middle","set","Sets anchor point",["middle"],{tags:["Basic"]}),uo.prototype.publish("fontSize",14,"number","Sets fontsize",null,{tags:["Basic"]}),uo.prototype.publish("reverse",!1,"boolean","Reverse Animation",null,{tags:["Basic"]}),uo.prototype.publish("text","","string","Sets text/data of widget",null,{tags:["Basic"]});var po=uo.prototype.text;uo.prototype.text=function(t){var e=po.apply(this,arguments);if(arguments.length){var r={},o=t.split("");this.data(o.map(function(t){var e="_"+t;return void 0===r[e]&&(r[e]=0),r[e]++,{text:t,id:t.charCodeAt(0)+1024*r[e]}}))}return e};var ho=function(t){function e(){var e=t.call(this)||this;return e.minWidgetHeight(240),e.minWidgetWidth(360),e}return n(e,t),e}(ao);ho.prototype._class+=" other_NestedTable";var fo=ho.prototype.columns;ho.prototype.columns=function(t){return arguments.length?(this._columns=t,fo.call(this,t.map(function(t){return"object"==typeof t?t.label:t}))):fo.apply(this,arguments)};var go=ho.prototype.data;ho.prototype.data=function(t){if(arguments.length){var e=this;return go.call(this,t.map(function(t){return t.map(function(t,r){if(t instanceof Array){var o=[];if("object"==typeof e._columns[r]&&e._columns[r].columns)o=e._columns[r].columns;else for(var n=0;n<t.length;++n)o.push(e._columns[r]+"."+n);return(new ao).columns(o).data(t)}return t})}))}return go.apply(this,arguments)};P(".graph_Opportunity{transform:translate(20px,20px)scale(1)!important}.graph_Opportunity .group{stroke-width:1;stroke:#555;fill:#fefefe}.graph_Opportunity .group_headings{font-family:Helvetica,Arial,sans-serif;font-size:14px;font-weight:700;line-height:20px}.graph_Opportunity .node_prev_rect{fill:#fff;stroke-width:2;stroke:#000;stroke-dasharray:3,3;opacity:.6}.graph_Opportunity .node_rev_change{fill:#fff}.graph_Opportunity .node_rev_change_text{font-size:18px;font-family:Arial;color:#000;font-weight:700}.graph_Opportunity .node_date_change{fill:#fff}.graph_Opportunity .node_date_change_text{font-size:18px;font-family:Arial;color:#000;font-weight:700}.graph_Opportunity .node_prev_text{font-size:9px;font-family:Arial;opacity:.6}.graph_Opportunity .node_cur_rect{stroke-width:2;stroke:#000}.graph_Opportunity .node_cur_text{font-size:9px;font-family:Arial;text-decoration:underline}.graph_Opportunity .arrowhead{refX:6}.graph_Opportunity-tooltip.tooltip{position:absolute;text-align:left;width:350px;height:135px;padding:15px 10px 10px;font:14px arial;background:#bdbdbd;border:0;border-radius:8px;pointer-events:none;z-index:1}");var yo=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.owner=function(t){return arguments.length?(this._owner=t,this):this._owner},e.prototype.valid=function(){return!!this.headerLabel()},e}(e.PropertyExt);yo.prototype._class+=" other_Opportunity.Column",yo.prototype.publish("headerLabel",null,"string","Header value of a table",function(){return this._owner?this._owner.columns():[]},{tags:["Basic"],optional:!0});var mo=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.owner=function(t){return arguments.length?(this._owner=t,this):this._owner},e.prototype.valid=function(){return!!this.hoverValue()&&!!this.hoverList()},e}(e.PropertyExt);mo.prototype._class+=" other_Opportunity.MouseHoverColumn",mo.prototype.publish("hoverValue",null,"string","Hover value of a table",function(){return this._owner?this._owner.columns():[]},{tags:["Basic"],optional:!0}),mo.prototype.publish("hoverList",null,"set","Hover value of a table",function(){return this._owner?this._owner.getIds():[]},{tags:["Basic"],optional:!0});var vo=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.owner=function(t){return arguments.length?(this._owner=t,this):this._owner},e.prototype.valid=function(){return!!this.columnIndex()&&!!this.ColumnDropdownList()},e}(e.PropertyExt);vo.prototype._class+=" other_Opportunity.ColumnDropdown",vo.prototype.publish("columnIndex",null,"number","Column index for display context data based on column dropdown list selction",{},{tags:["Basic","Shared"]}),vo.prototype.publish("ColumnDropdownList",null,"set","column value of a table",function(){return this._owner?this._owner.getIds():[]},{tags:["Basic"],optional:!0});var _o=function(t){function e(){var e=t.call(this)||this;return e._drawStartPos="origin",e.groupCount=7,e}return n(e,t),e.prototype.enter=function(e,r){t.prototype.enter.call(this,e,r);var o=25*(this.data().length+1)+30;this.svg=r.append("g").attr("width",100*this.groupCount+1).attr("height",o),this.svg.append("defs").append("marker").classed("arrowhead",!0).attr("id","end-arrow").attr("viewBox","0 -5 10 10").attr("refX",6).attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5").attr("fill","rgb(100,100,100)"),this.tooltipdiv=Wt("body").append("div").attr("class","other_Opportunity-tooltip tooltip").style("opacity",0)},e.prototype.update=function(e,r){t.prototype.update.call(this,e,r);var o=this,n=this.data(),i=this.opportunityId();n.sort(function(t,e){return t.cur_group>e.cur_group?1:t.cur_group<e.cur_group?-1:0});for(var a=[],s=1;s<=o.groupCount;s++)a.push(s);var l=25*(n.length+1)+30,c=this.width(),u=c/o.groupCount-30,p=this.svg.selectAll(".group").data(a);p.enter().append("rect").attr("class","group"),p.attr("x",function(t,e){return e*c/o.groupCount+1}).attr("y",30).attr("width",c/this.groupCount).attr("height",l-30),p.exit().remove();var h=this.svg.selectAll(".group_headings").data(a);if(h.enter().append("text").attr("class","group_headings").attr("y",20),h.attr("x",function(t,e){return e*c/o.groupCount+c/o.groupCount/o.groupCount}).text(function(t,e){return o.headerLabels().length>0&&o.headerLabels()[e]&&o.headerLabels()[e].headerLabel()?o.headerLabels()[e].headerLabel():""}),h.exit().remove(),"prev_group"===this.previousGroup()&&"cur_group"===this.currentGroup()){var d=this.svg.selectAll(".node_date_change").data(n);d.enter().append("g").attr("class","node_date_change update").on("mouseover",function(t){o.tooltipdiv.transition().duration(200).style("opacity",.9);var e="<span style='font-weight:bolder'>Close Date Change </span><br/>";o.mouseHover().forEach(function(r,o){void 0!==r.hoverValue()&&(e=e+"<span style='font-weight:bold'>"+r.hoverValue()+":  </span>"+t[r.hoverList()]+"<br/>")});var r=t.prevdate+"";r=r.replace(/(\d\d\d\d)(\d\d)(\d\d)/g,"$3-$2-$1");var n=t.curdate+"";n=n.replace(/(\d\d\d\d)(\d\d)(\d\d)/g,"$3-$2-$1"),e=e+"<span style='font-weight:bold'>From: </span>"+r+"<br/><span style='font-weight:bold'>To: </span>"+n+"<br/>",o.tooltipdiv.html(e).style("left",Ct.pageX+"px").style("top",Ct.pageY-50+"px")}).on("mouseout",function(t){o.tooltipdiv.transition().duration(500).style("opacity",0)}).each(function(t){Wt(this).append("rect").attr("class","node_date_change_rect").attr("width",5).attr("height",14).attr("rx",6).attr("ry",6)}),d.attr("transform",function(t,e){return"translate("+(9*c/o.groupCount+30-80)+","+(e+24*e+12+30)+")"}),d.exit().remove();var f=this.svg.selectAll(".node_prev_group").data(n);f.enter().append("g").attr("class","node_prev_group").on("mouseover",function(t,e){o.tooltipdiv.transition().duration(200).style("opacity",.9);var r="";o.mouseHover().forEach(function(e,o){void 0!==e.hoverValue()&&(r=r+"<span style='font-weight:bold'>"+e.hoverValue()+":  </span>"+t[e.hoverList()]+"<br/>")}),o.tooltipdiv.html(r).style("left",Ct.pageX+"px").style("top",Ct.pageY-100+"px")}).on("mouseout",function(t){o.tooltipdiv.transition().duration(500).style("opacity",0)}).each(function(t){var e=Wt(this);e.append("rect").attr("class","node_prev_rect").attr("rx",6).attr("ry",6),e.append("text").attr("class","node_prev_text")}),f.classed("update",!0).classed("changed",function(t){return 0!==t.delta}).attr("transform",function(t,e){return"translate("+((t.prev_group-1)*c/o.groupCount+15)+","+(e+24*e+10+30)+")"}).each(function(t){var e=Wt(this).selectAll(".arrow").data(0!==t.delta?[t]:[]);e.enter().append("line").attr("class","arrow update"),e.attr("x1",function(t){return t.delta>0?u:0}).attr("y1",7).attr("x2",function(t){return t.delta>0?u+30-4+(Math.abs(t.delta)-1)*(c/o.groupCount):-30-(Math.abs(t.delta)-1)*(c/o.groupCount)+4}).attr("y2",7).style("stroke-dasharray","3, 3").style("stroke","rgb(100,100,100)").style("marker-end","url(#end-arrow)").style("opacity","1"),e.exit().remove()}),f.select(".node_prev_rect").attr("width",u).attr("height",14),f.select(".node_prev_text").attr("dy",10).attr("dx",u/4).text(function(t){return"number"==typeof t[i]?t[i]:t[i].substring(0,14)}),f.exit().remove();var g=this.svg.selectAll(".node_cur_group").data(n);g.enter().append("g").attr("class","node_cur_group").attr("transform",function(t,e){return"translate("+((t.prev_group-1)*c/o.groupCount+15)+","+(e+24*e+10+30)+")"}).on("mouseover",function(t,e){o.tooltipdiv.transition().duration(200).style("opacity",.9);var r="";o.mouseHover().forEach(function(e,o){void 0!==e.hoverValue()&&(r=r+"<span style='font-weight:bold'>"+e.hoverValue()+":  </span>"+t[e.hoverList()]+"<br/>")}),o.tooltipdiv.html(r).style("left",Ct.pageX+"px").style("top",Ct.pageY-100+"px")}).on("mouseout",function(t){o.tooltipdiv.transition().duration(500).style("opacity",0)}).each(function(t){var e=Wt(this);e.append("rect").attr("class","node_cur_rect").attr("fill",function(t){return t.delta<0||7===t.cur_group?"#F78181":"#A9F5A9"}).attr("rx",6).attr("ry",6),e.append("a").append("text").attr("class","node_cur_text")}),g.classed("update",!0).classed("changed",function(t){return 0!==t.delta}).transition().duration(800).ease("linear").attr("transform",function(t,e){return"translate("+((t.cur_group-1)*c/o.groupCount+15)+","+(e+24*e+10+30)+")"}).each("end",function(){Mt(".arrow").style("opacity","1")}),g.select(".node_cur_group a").classed("update",!0).attr("xlink:href",function(t){return o.url()+t.id}).attr("xlink:show","new"),g.select(".node_cur_rect").attr("width",u).attr("height",14),g.select(".node_cur_text").classed("update",!0).attr("dy",10).attr("dx",u/4).style("fill","blue").text(function(t){return"number"==typeof t[i]?t[i]:t[i].substring(0,14)}),g.exit().remove()}for(var y=function(t){if(o.columnData()[t]&&o.columnData()[t].ColumnDropdownList()){var e=m.svg.selectAll(".columnDataText_"+t).data(n);e.enter().append("g").attr("class","columnDataText_"+t+" update").each(function(t){Wt(this).append("text")}),e.attr("transform",function(e,r){return"translate("+(o.columnData()[t].columnIndex()*c/o.groupCount+15)+","+(r+24*r+12+30)+")"}).attr("width",5).attr("height",14).attr("rx",6).attr("ry",6),e.select("text").attr("y",-6).attr("dy",28).attr("dx",0).attr("height",20).attr("width",29).text(function(e,r){return e[o.columnData()[t].ColumnDropdownList()]}),e.exit().remove()}},m=this,v=0;v<o.columnData().length;v++)y(v)},e.prototype.exit=function(e,r){t.prototype.exit.call(this,e,r)},e.prototype.getIds=function(){var t=this.columns();return t.unshift("default"),t},e}(e.SVGWidget);function bo(t){return t.publishedProperties(!1,!0)}function wo(t,e,r){t.widgetWalker(function(t){t.propertyWalker(e,r)})}function xo(t,e){e=e||["surface","Color","Font","palette"];var r={};return wo(t,null,function(t,o){if((t[o.id+"_modified"]()||t.publishedProperty(o.id).origDefaultValue!==t.publishedProperty(o.id).defaultValue)&&function(t,e){var r=!1;for(var o in e)if(-1!==t.indexOf(e[o])){r=!0;break}return r}(o.id,e)){var n=t._class.trim().split(" ");for(var i in n)if(n.HasOwnProperty(i)){if(void 0===r[n[i]]&&(r[n[i]]={}),void 0===r[n[i]][o.id]){r[n[i]][o.id]=t[o.id]();break}if(r[n[i]][o.id]===t[o.id]())break}}}),r}function Co(t,e,r,o){var n={__class:t.classID()};if(0!==t._id.indexOf(t._idSeed)&&(n.__id=t._id),t.version&&(n.__version=t.version()),n.__properties={},t.propertyWalker(function(e,i){if(e[i.id+"_modified"]())switch(i.type){case"widget":return n.__properties[i.id]=Co(e[i.id](),null,r,o&&!t.serializeState),!0;case"widgetArray":case"propertyArray":return n.__properties[i.id]=[],e[i.id]().forEach(function(e){n.__properties[i.id].push(Co(e,null,r,o&&!t.serializeState))}),!0;default:n.__properties[i.id]=e[i.id]()}},e),"marshaller_Graph"===t.classID()){var i=t.data().vertices;i&&(this.__vertices=i.map(function(e){return Co(e,null,r,o&&!t.serializeState)}))}return r&&t.data&&(n.__data||(n.__data={}),n.__data.data=t.data()),o&&(t.serializeState?n.__state=t.serializeState():t.data&&(n.__state={data:t.data()})),n}function To(t,e,r,o){return JSON.stringify(Co(t,e,r,o))}_o.prototype._class+=" other_Opportunity",_o.prototype.Column=yo,_o.prototype.MouseHoverColumn=mo,_o.prototype.ColumnDropdown=vo,_o.prototype.publish("previousGroup","","set","label in Opportunity",function(){return this.getIds()},{tags:["Basic","Shared"]}),_o.prototype.publish("currentGroup","","set","label in Opportunity",function(){return this.getIds()},{tags:["Basic","Shared"]}),_o.prototype.publish("opportunityId","id","set","Id for label in Opportunity",function(){return this.getIds()},{tags:["Basic","Shared"]}),_o.prototype.publish("url",null,"string","URL in Opportunity",{},{tags:["Basic","Shared"]}),_o.prototype.publish("width",1100,"number","label in Opportunity",{},{tags:["Basic","Shared"]}),_o.prototype.publish("addColumn",null,"string","number of columns in a table",{},{tags:["Basic","Shared"],editor_input:function(t,e,r,o){r.append("button").attr("id",t.id()+"_addColumn"+o.id).classed("property-input custom-editor-input addColumn update",!0).text("AddColumn").on("click",function(){e.groupCount=e.groupCount+1;t.setProperty(e,o.id,"Added a new column")})}}),_o.prototype.publish("removeColumn",null,"string","number of columns in a table",function(){return this.columns()},{tags:["Basic","Shared"],editor_input:function(t,e,r,o){r.append("button").attr("id",t.id()+"_removeColumn"+o.id).classed("property-input custom-editor-input removeColumn update",!0).text("RemoveColumn").on("click",function(){e.groupCount=e.groupCount-1;t.setProperty(e,o.id,"Removed a column")})}}),_o.prototype.publish("headerLabels",[],"propertyArray","Source Columns",null,{autoExpand:yo}),_o.prototype.publish("mouseHover",[],"propertyArray","mouse hover options",null,{autoExpand:mo}),_o.prototype.publish("columnData",[],"propertyArray","column data",null,{autoExpand:vo});var So=Object.freeze({discover:bo,widgetArrayWalker:function(t,e){t&&t.forEach(function(t){t.widgetWalker(e)})},widgetPropertyWalker:wo,serializeTheme:function(t,e){return JSON.stringify(xo(t,e))},serializeThemeToObject:xo,removeTheme:function(t,e){wo(t,null,function(t,e){t.publishedProperty(e.id).defaultValue=t.publishedProperty(e.id).origDefaultValue}),"function"==typeof e&&e.call(this)},applyTheme:function(t,e,r){var o=this;wo(t,null,function(t,r){switch(r.type){case"widget":return o.applyTheme(t[r.id](),e),!0;case"widgetArray":return t[r.id]().forEach(function(t){o.applyTheme(t,e)},this),!0;default:t.applyTheme(e)}}),"function"==typeof r&&r.call(this)},serializeToObject:Co,serialize:To});function ko(t){switch(t){case"widget":case"widgetArray":case"propertyArray":return!0}return!1}P(".other_PropertyEditor{overflow-y:scroll;height:100%;width:100%}.other_PropertyEditor .other_PropertyEditor{overflow:hidden}.other_PropertyEditor .property-table{width:100%;border:solid #ddd;border-width:0 0 0 1px}.other_PropertyEditor thead>tr>th{background-color:#333}.other_PropertyEditor .other_PropertyEditor th{background-color:#444}.other_PropertyEditor .other_PropertyEditor .other_PropertyEditor th{background-color:#555}.other_PropertyEditor .other_PropertyEditor .other_PropertyEditor .other_PropertyEditor th{background-color:#666}.other_PropertyEditor .other_PropertyEditor .other_PropertyEditor .other_PropertyEditor .other_PropertyEditor th{background-color:#777}.other_PropertyEditor .headerRow{background-color:#eee}.other_PropertyEditor .other_PropertyEditor .headerRow{background-color:#ddd}.other_PropertyEditor .other_PropertyEditor .other_PropertyEditor .headerRow{background-color:#ccc}.other_PropertyEditor .other_PropertyEditor .other_PropertyEditor .other_PropertyEditor .headerRow{background-color:#bbb}.other_PropertyEditor .other_PropertyEditor .other_PropertyEditor .other_PropertyEditor .other_PropertyEditor .headerRow{background-color:#aaa}.other_PropertyEditor .fa{font-size:14px;width:14px}.other_PropertyEditor div.property-table-collapsed{display:none}.other_PropertyEditor .headerRow>.peInput{padding-top:2px}.other_PropertyEditor .headerRow>.peInput>span{font-weight:700;padding-left:2px}.other_PropertyEditor .headerRow>.peInput>i{float:right;padding-top:2px;padding-bottom:2px}.other_PropertyEditor .headerRow>span>i:hover{background-color:#555;cursor:pointer}.other_PropertyEditor .property-table thead>tr>th{text-align:left;background-color:#333;color:#fff;padding-top:2px;padding-left:4px}.other_PropertyEditor .property-table thead>tr>th>i{float:right;padding-top:2px;padding-right:4px;padding-bottom:2px}.other_PropertyEditor .property-table thead>tr>th>i:hover{background-color:#555;cursor:pointer}.other_PropertyEditor .property-table tbody>tr:nth-child(2n){background-color:#f9f9f9}.other_PropertyEditor .property-table tbody>tr:nth-child(odd){background-color:#fff}.other_PropertyEditor .property-table tbody>tr>td{text-align:left;color:#333;padding:0 0 0 2px}.other_PropertyEditor .property-table tbody>tr.disabled>td{color:grey}.other_PropertyEditor .property-table tbody>tr.invalid>td{color:red}.other_PropertyEditor .property-input-cell>div{padding-left:8px}.other_PropertyEditor .property-label{padding-right:4px;box-sizing:border-box;height:20px}.other_PropertyEditor td.property-input-cell{text-align:left;height:20px;padding:1px 0;width:80%}.other_PropertyEditor .property-input-cell>input,.other_PropertyEditor .property-input-cell>textarea{width:100%;box-sizing:border-box}.other_PropertyEditor .property-input-cell>input{height:20px}.other_PropertyEditor .property-input-cell>textarea{height:120px}.other_PropertyEditor .property-input-cell.boolean-cell{width:auto;margin:0;position:relative}.other_PropertyEditor .property-input-cell>input[type=checkbox]{width:auto;margin:0;position:absolute;top:0}.other_PropertyEditor .html-color-cell>input{width:80%}.other_PropertyEditor .html-color-cell>input[type=color]{width:20%;position:relative;top:-1px}");var Po=function(t){function r(){var e=t.call(this)||this;return e._childPE=At(),e._show_header=!0,e.watchDepth=0,e._parentPropertyEditor=null,e._tag="div",e._show_settings=!1,e}return n(r,t),r.prototype.parentPropertyEditor=function(t){return arguments.length?(this._parentPropertyEditor=t,this):this._parentPropertyEditor},r.prototype.depth=function(){for(var t=0,e=this.parentPropertyEditor();e;)++t,e=e.parentPropertyEditor();return t},r.prototype.show_header=function(t){return arguments.length?(this._show_header=t,this):this._show_header},r.prototype.show_settings=function(t){return arguments.length?(this._show_settings=t,this):this._show_settings},r.prototype.rootWidgets=function(){return this._selectedItems&&this._selectedItems.length?this._selectedItems:this.show_settings()?[this]:this.widget()?[this.widget()]:[]},r.prototype.update=function(e,r){t.prototype.update.call(this,e,r);var o=this,n=this.rootWidgets().filter(function(t){return!(t._owningWidget&&t._owningWidget.excludeObjs instanceof Array&&-1!==t._owningWidget.excludeObjs.indexOf(t.classID()))}),i=r.selectAll("table.property-table.table-"+this.depth()).data(n,function(t){return"function"!=typeof t.id?"meta-"+t.id:t.id()});i.enter().append("table").attr("class","property-table table-"+this.depth()).each(function(){var t=Wt(this);o._show_header&&null===o.parentPropertyEditor()&&t.append("thead").append("tr").append("th").attr("colspan","2").each(function(){o.enterHeader(Wt(this))}),t.append("tbody")}).merge(i).each(function(t){var e=Wt(this);o._show_header&&null===o.parentPropertyEditor()&&o.updateHeader(e.select("thead > tr > th")),o.renderInputs(e.select("tbody"),t)}),i.exit().each(function(){o.renderInputs(r.select("tbody"),null)}).remove()},r.prototype.exit=function(e,r){t.prototype.exit.call(this,e,r),this.watchWidget(null)},r.prototype.watchWidget=function(t){if(this._watch&&(window.__hpcc_debug&&(--this.watchDepth,console.log("watchDepth:  "+this.watchDepth)),this._watch.remove(),delete this._watch),t){var e=this;this._watch=t.monitor(function(t,r,o){o!==r&&(e.parentPropertyEditor()||e).lazyRender()}),window.__hpcc_debug&&(++this.watchDepth,console.log("watchDepth:  "+this.watchDepth))}},r.prototype.enterHeader=function(t){var e=this;t.append("span"),t.append("i").attr("class","expandIcon fa").on("click",function(){switch(e.peInputIcon()){case"fa-caret-up":case"fa-caret-right":e.element().selectAll(".table-"+e.depth()+" > tbody > tr > .headerRow > .peInput > .property-table-collapsed").classed("property-table-collapsed",!1),e.element().selectAll(".table-"+e.depth()+" > tbody > tr > .headerRow > .peInput > i").classed("fa-minus-square-o",!0).classed("fa-plus-square-o",!1);break;case"fa-caret-down":e.element().selectAll(".table-"+e.depth()+" > tbody > tr > .headerRow > .peInput > div").classed("property-table-collapsed",!0),e.element().selectAll(".table-"+e.depth()+" > tbody > tr > .headerRow > .peInput > i").classed("fa-minus-square-o",!1).classed("fa-plus-square-o",!0)}e.refreshExpandIcon()});var r=t.append("i").attr("class","sortIcon fa").on("click",function(){e.refreshSortIcon(r,!0)});t.append("i").attr("class","hideParamsIcon fa").on("click",function(){e.hideNonWidgets(!e.hideNonWidgets()).render()})},r.prototype.updateHeader=function(t){var e=this.widget(),r="";e&&(e.label&&(r+=e.label()),e.classID&&(r&&(r+=" - "),r+=e.classID())),t.select("span").text(r),this.refreshExpandIcon(),this.refreshSortIcon(t.select(".sortIcon")),this.refreshHideParamsIcon(t.select(".hideParamsIcon"))},r.prototype.peInputCount=function(){return this.element().selectAll(".table-"+this.depth()+" > tbody > tr > .headerRow > .peInput > div").size()},r.prototype.peInputCollapsedCount=function(){return this.element().selectAll(".table-"+this.depth()+" > tbody > tr > .headerRow > .peInput > div.property-table-collapsed").size()},r.prototype.peInputIcon=function(){var t=this.peInputCollapsedCount();return 0===t?"fa-caret-down":t===this.peInputCount()?"fa-caret-up":"fa-caret-right"},r.prototype.refreshExpandIcon=function(){var t=this.peInputIcon();this.element().select(".table-"+this.depth()+" > thead > tr > th > .expandIcon").classed("fa-caret-up",!1).classed("fa-caret-right",!1).classed("fa-caret-down",!1).classed(t,!0)},r.prototype.refreshSortIcon=function(t,e){void 0===e&&(e=!1);var r=this.sorting(),o=this.sorting_options(),n=this.__meta_sorting.ext.icons;e?(t.classed(n[o.indexOf(r)],!1),this.sorting(o[(o.indexOf(r)+1)%o.length]).render()):t.classed(n[o.indexOf(r)%o.length],!0).attr("title",r)},r.prototype.refreshHideParamsIcon=function(t){t.classed("fa-eye",!this.hideNonWidgets()).classed("fa-eye-slash",this.hideNonWidgets())},r.prototype.gatherDataTree=function(t){if(!t)return null;var e={label:t.id()+" ("+t.classID()+")",children:[]};return bo(t).forEach(function(r){var o={label:r.id,children:[]};switch(r.type){case"widget":o.children.push(this.gatherDataTree(t[r.id]()));break;case"widgetArray":case"propertyArray":var n=t[r.id]();n&&n.forEach(function(t){o.children.push(this.gatherDataTree(t))},this)}e.children.push(o)},this),e},r.prototype.getDataTree=function(){return this.gatherDataTree(this.widget())},r.prototype._rowSorting=function(t){if("type"===this.sorting()){var e=["boolean","number","string","html-color","array","object","widget","widgetArray","propertyArray"];t.sort(function(t,r){return t.type===r.type?t.id<r.id?-1:1:e.indexOf(t.type)<e.indexOf(r.type)?-1:1})}else"A-Z"===this.sorting()?t.sort(function(t,e){return t.id<e.id?-1:1}):"Z-A"===this.sorting()&&t.sort(function(t,e){return t.id>e.id?-1:1})},r.prototype.filterInputs=function(t){var e=bo(t);if((this.filterTags()||this.excludeTags().length>0||this.excludeParams.length>0)&&t instanceof r==!1){var o=this;return e.filter(function(e,r){if(t[e.id+"_hidden"]&&t[e.id+"_hidden"]())return!1;for(var n=0,i=o.excludeParams();n<i.length;n++){var a=i[n].split("."),s=void 0,l=void 0;if(a.length>2?(s=a[0],l=a[2]):(s=a[0],l=a[1]),-1!==t.class().indexOf(s))return e.id!==l}return!(o.excludeTags().length>0&&e.ext&&e.ext.tags&&e.ext.tags.some(function(t){return o.excludeTags().indexOf(t)>-1}))&&!(!(o.filterTags()&&e.ext&&e.ext.tags&&-1!==e.ext.tags.indexOf(o.filterTags()))&&o.filterTags())})}return e},r.prototype.renderInputs=function(t,e){var r=this,o=[],n=!this.show_settings()&&this.showFields();e&&(o=this.filterInputs(e).filter(function(t){return"fields"!==t.id||n}),!this.show_settings()&&this.showData()&&e.data&&o.push({id:"data",type:"array"}),this.hideNonWidgets()&&(o=o.filter(function(t){return ko(t.type)})),this._rowSorting(o));var i=t.selectAll("tr.prop"+this.id()).data(o,function(t){return t.id});i.enter().append("tr").attr("class","property-wrapper prop"+this.id()).each(function(t){var o=Wt(this);if(ko(t.type))o.classed("property-widget-wrapper",!0),o.append("td").attr("colspan","2");else{o.classed("property-input-wrapper",!0),o.append("td").classed("property-label",!0).text(t.id);var n=o.append("td").classed("property-input-cell",!0);r.enterInputs(e,n,t)}}).merge(i).each(function(t){var o=Wt(this);o.classed("disabled",e[t.id+"_disabled"]&&e[t.id+"_disabled"]()),o.classed("invalid",e[t.id+"_valid"]&&!e[t.id+"_valid"]()),o.attr("title",t.description),ko(t.type)?r.updateWidgetRow(e,o.select("td"),t):r.updateInputs(e,t)}),i.exit().each(function(t){var o=Wt(this);ko(t.type)&&r.updateWidgetRow(e,o.select("td"),null)}).remove(),i.order()},r.prototype.updateWidgetRow=function(t,e,o){var n=[];t&&o&&(n=t[o.id]()||[]);var i=n instanceof Array?n:[n];if(o&&o.ext&&o.ext.autoExpand){var a=!0,s=i.filter(function(e,r){return a=e.valid(),e._owner=t,a||r===i.length-1},this),l=t[o.id+"_disabled"]&&t[o.id+"_disabled"](),c=!!(i.length-s.length);if(a&&!l){c=!0;var u=(new o.ext.autoExpand).owner(t);s.push(u)}c&&(t[o.id](s),i=s)}var p=this;e.classed("headerRow",!0);var h=e.selectAll("div.peInput-"+this.depth()).data(i,function(t){return t.id()});h.enter().append("div").attr("class","peInput peInput-"+this.depth()).each(function(t){var e=Wt(this);e.append("span"),e.append("i").attr("class","fa").on("click",function(t){var r=e.select("div");r.classed("property-table-collapsed",!r.classed("property-table-collapsed")),Wt(this).classed("fa-minus-square-o",!r.classed("property-table-collapsed")).classed("fa-plus-square-o",r.classed("property-table-collapsed")),p.refreshExpandIcon()});var n=e.append("div");p._childPE.set(this,(new r).label(o.id).target(n.node()))}).merge(h).each(function(t){var e=Wt(this).select("div");Wt(this).select("span").text(""+o.id),Wt(this).select("i").classed("fa-minus-square-o",!e.classed("property-table-collapsed")).classed("fa-plus-square-o",e.classed("property-table-collapsed")),p._childPE.get(this).parentPropertyEditor(p).showFields(p.showFields()).showData(p.showData()).sorting(p.sorting()).filterTags(p.filterTags()).excludeTags(p.excludeTags()).excludeParams(p.excludeParams()).hideNonWidgets(p.hideNonWidgets()&&t._class.indexOf("layout_")>=0).widget(t).render()}),h.exit().each(function(t){p._childPE.get(this).widget(null).render().target(null),p._childPE.remove(this)}).remove()},r.prototype.setProperty=function(t,r,o){for(var n,i,a,s=this;s&&t;){if(s===this&&(a=t[r](),t[r](o)),s){i=s;var l=s.widget();l instanceof e.Widget&&(n=l)}s=s.parentPropertyEditor()}n&&n.render(),i&&i.broadcast(r,o,a,t)},r.prototype.enterInputs=function(t,r,o){r.classed(o.type+"-cell",!0);var n=this;switch("function"==typeof o.ext.editor_input&&o.ext.editor_input(this,t,r,o),o.type){case"boolean":r.append("input").attr("id",this.id()+"_"+o.id).classed("property-input",!0).attr("type","checkbox").on("change",function(){n.setProperty(t,o.id,this.checked)});break;case"set":r.append("select").attr("id",this.id()+"_"+o.id).classed("property-input",!0).on("change",function(){n.setProperty(t,o.id,this.value)});break;case"array":case"object":r.append("textarea").attr("id",this.id()+"_"+o.id).classed("property-input",!0).attr("autocomplete","off").attr("autocorrect","off").attr("autocapitalize","off").attr("spellcheck","false").on("change",function(){var e;try{e=JSON.parse(this.value)}catch(t){e=this.value}n.setProperty(t,o.id,e)});break;default:o.ext&&o.ext.range?(r.append("span").classed("property-input-span",!0).attr("id",this.id()+"_"+o.id+"_currentVal").text(o.defaultValue),r.append("input").attr("type","range").attr("step",o.ext.range.step).attr("min",o.ext.range.min).attr("max",o.ext.range.max).attr("id",this.id()+"_"+o.id).classed("property-input",!0).on("input",function(){n.setProperty(t,o.id,this.value),Wt("#"+this.id+"_currentVal").text("Current Value: "+this.value)}).on("change",function(){n.setProperty(t,o.id,this.value),Wt("#"+this.id+"_currentVal").text("Current Value: "+this.value)})):(r.append(o.ext&&o.ext.multiline?"textarea":"input").attr("id",this.id()+"_"+o.id).classed("property-input",!0).attr("autocomplete","off").attr("autocorrect","off").attr("autocapitalize","off").attr("spellcheck","false").on("change",function(){n.setProperty(t,o.id,this.value)}),"html-color"!==o.type||e.Platform.isIE||r.append("input").attr("id",this.id()+"_"+o.id+"_2").classed("property-input",!0).attr("type","color").on("change",function(){n.setProperty(t,o.id,this.value)}))}},r.prototype.updateInputs=function(t,r){var o=Mt("#"+this.id()+"_"+r.id+", #"+this.id()+"_"+r.id+"_2"),n=t?t[r.id]():"";switch(o.property("disabled",t[r.id+"_disabled"]&&t[r.id+"_disabled"]()),o.property("invalid",t[r.id+"_valid"]&&!t[r.id+"_valid"]()),r.type){case"boolean":o.property("checked",n);break;case"set":var i=o.selectAll("option").data(t[r.id+"_options"]());i.enter().append("option").merge(i).attr("value",function(t){return t&&void 0!==t.value?t.value:t}).text(function(t){return t&&void 0!==t.text?t.text:t}),i.exit().remove(),o.property("value",n);break;case"array":case"object":o.property("value",JSON.stringify(n,function(t,r){return r instanceof e.Widget?To(r):r},"    "));break;default:r.ext&&r.ext.range&&Wt("#"+this.id()+"_"+r.id+"_currentVal").text("Current Value: "+n),o.property("value",n&&n.length&&n.length>1e5?"...too big to display...":n)}},r}(e.HTMLWidget);Po.prototype._class+=" other_PropertyEditor",Po.prototype.publish("showFields",!1,"boolean","If true, widget.fields() will display as if it was a publish parameter.",null,{tags:["Basic"]}),Po.prototype.publish("showData",!1,"boolean","If true, widget.data() will display as if it was a publish parameter.",null,{tags:["Basic"]}),Po.prototype.publish("sorting","none","set","Specify the sorting type",["none","A-Z","Z-A","type"],{tags:["Basic"],icons:["fa-sort","fa-sort-alpha-asc","fa-sort-alpha-desc","fa-sort-amount-asc"]}),Po.prototype.publish("hideNonWidgets",!1,"boolean","Hides non-widget params (at this tier only)",null,{tags:["Basic"]}),Po.prototype.publish("label","","string","Label to display in header of property editor table",null,{tags:["Basic"]}),Po.prototype.publish("filterTags","","set","Only show Publish Params of this type",["Basic","Intermediate","Advance",""],{}),Po.prototype.publish("excludeTags",["Private"],"array","Exclude this array of tags",null,{}),Po.prototype.publish("excludeParams",[],"array","Exclude this array of params (widget.param)",null,{}),Po.prototype.publish("widget",null,"widget","Widget",null,{tags:["Basic"],render:!1});var Eo=Po.prototype.widget;Po.prototype.widget=function(t){if(arguments.length&&Eo.call(this)===t)return this;var e=Eo.apply(this,arguments);if(arguments.length&&(this.watchWidget(t),t instanceof r.Grid)){var o=this;t.postSelectionChange=function(){o._selectedItems=t._selectionBag.get().map(function(t){return t.widget}),o.lazyRender()}}return e};P(".other_RadioCheckbox label,.other_RadioCheckbox span{vertical-align:top}");var Ro=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.rcData=function(){if(0===this.data().length)return[];var t=this._db.rollupView([this.textColumn(),this.valueColumn()]),e=[];if(e=e.concat(t.entries().map(function(t){return{text:t.key,value:t.values.length?t.values[0].key:"",origRow:t.values.length&&t.values[0].values.length?t.values[0].values[0]:[]}},this)),this.sort_exists()){var r="descending"===this.sort();e.sort(function(t,e){return t.text<e.text?r?1:-1:t.text>e.text?r?-1:1:0})}return e},e.prototype.enter=function(e,r){t.prototype.enter.call(this,e,r),this._span=r.append("span"),this._label=this._span.append("label").attr("for",this.id()+"_radioCheckbox"),this._Checkbox=this._span.append("div").attr("id",this.id()+"_radioCheckbox")},e.prototype.update=function(e,r){t.prototype.update.call(this,e,r);var o=this;this._label.text(this.label());var n=this._Checkbox.selectAll(".dataRow").data(this.rcData());n.enter().append("div").attr("class","dataRow").each(function(t,e){var r=Wt(this),n=o.id()+"_checkbox_"+e;r.append("input").attr("id",n).attr("name",o.id()+"_radioCheckbox").on("change",function(t){o.handleClick()}),r.append("label").attr("for",n)}),n.each(function(t,e){var r=Wt(this);r.select("input").attr("type",o.multiple()?"checkbox":"radio").attr("value",t.value),r.select("label").text(t.text)}),n.exit().remove(),n.order()},e.prototype.exit=function(e,r){this._span.remove(),t.prototype.exit.call(this,e,r)},e.prototype.handleClick=function(){var t=[];this._Checkbox.selectAll(".dataRow > input").each(function(e,r){Wt(this).property("checked")&&e&&e.origRow&&t.push(e.origRow)}),t.length?this.click(this.rowToObj(t[0]),this.valueColumn(),!0):this.click([],this.valueColumn(),!1)},e.prototype.click=function(t,e,r){console.log("Click:  "+JSON.stringify(t)+", "+e+", "+r)},e}(e.HTMLWidget);Ro.prototype._class+=" other_RadioCheckbox",Ro.prototype.publish("label",null,"string","Label for RadioCheckbox"),Ro.prototype.publish("valueColumn",null,"set","RadioCheckbox display value",function(){return this.columns()},{optional:!0}),Ro.prototype.publish("textColumn",null,"set","RadioCheckbox value(s)",function(){return this.columns()},{optional:!0}),Ro.prototype.publish("sort",null,"set","Sort contents",["","ascending","descending"],{optional:!0}),Ro.prototype.publish("multiple",!1,"boolean","Multiple selection");P(".other_Select label,.other_Select span{vertical-align:top}");var Io=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.selectData=function(){if(0===this.data().length)return[];var t=this._db.rollupView([this.textColumn(),this.valueColumn()]),e=[];if(e=e.concat(t.entries().map(function(t){return{text:t.key,value:t.values.length?t.values[0].key:"",origRow:t.values.length&&t.values[0].value.length?t.values[0].value[0]:[]}},this)),this.sort_exists()){var r="descending"===this.sort();e.sort(function(t,e){return t.text<e.text?r?1:-1:t.text>e.text?r?-1:1:0})}return this.optional()&&e.unshift({value:"",text:""}),e},e.prototype.enter=function(e,r){t.prototype.enter.call(this,e,r),this._span=r.append("span"),this._prompt=this._span.append("label").attr("for",this.id()+"_select");var o=this;this._select=this._span.append("select").attr("id",this.id()+"_select").on("change",function(t){for(var e=[],r=o._select.node().options,n=0;n<r.length;++n){var i=r[n];i.selected&&e.push(Wt(i).datum().origRow)}e.length?o.click(o.rowToObj(e[0]),o.valueColumn(),!0):o.click([],o.valueColumn(),!1)})},e.prototype.update=function(e,r){t.prototype.update.call(this,e,r),this._prompt.text(this.label()),this._select.attr("multiple",this.multiple()?this.multiple():null).attr("size",this.multiple()&&this.selectSize()?this.selectSize():null);var o=this._select.selectAll(".dataRow").data(this.selectData()),n=o.enter().append("option").attr("class","dataRow").merge(o).attr("value",function(t){return t.value}).text(function(t){return t.text});o.exit().remove(),n.order()},e.prototype.exit=function(e,r){this._span.remove(),t.prototype.exit.call(this,e,r)},e.prototype.click=function(t,e,r){console.log("Click:  "+JSON.stringify(t)+", "+e+", "+r)},e}(e.HTMLWidget);Io.prototype._class+=" other_Select",Io.prototype.publish("label",null,"string","Label for select"),Io.prototype.publish("valueColumn",null,"set","Select display value",function(){return this.columns()},{optional:!0}),Io.prototype.publish("textColumn",null,"set","Select value(s)",function(){return this.columns()},{optional:!0}),Io.prototype.publish("optional",!0,"boolean","Optional Select"),Io.prototype.publish("sort",null,"set","Sort contents",["","ascending","descending"],{optional:!0}),Io.prototype.publish("multiple",!1,"boolean","Multiple selection"),Io.prototype.publish("selectSize",5,"number","Size of multiselect box",null,{disable:function(t){return!t.multiple()}});P('.other_ThemeEditor *{box-sizing:border-box}.other_ThemeEditor table{width:100%;margin-bottom:4px}.other_ThemeEditor table:last-child{margin-bottom:0}.other_ThemeEditor thead>tr>th{text-align:left}.other_ThemeEditor thead>tr>th>b{font-weight:700}.other_ThemeEditor thead>tr>th{background-color:#fafafa}.other_ThemeEditor tbody>tr>td,.other_ThemeEditor tbody>tr>th{font-weight:400;background-color:#fafafa}.other_ThemeEditor thead>tr:first-child>th{background-color:#e5e5e5}.other_ThemeEditor thead>tr.mm-content>th{padding:0 4px;font-size:12px}.other_ThemeEditor td,.other_ThemeEditor th{padding:4px;white-space:nowrap}.other_ThemeEditor thead.mm-label>tr:first-child>th{position:relative;padding-left:29px}.other_ThemeEditor thead.mm-label>tr:first-child>th:before{content:"[+]";position:absolute;left:3px;top:3px;color:#404040;height:15px;width:15px;font-family:monospace}.other_ThemeEditor thead.mm-label.max>tr:first-child>th:before{content:"[-]"}.other_ThemeEditor tr.sharedPropertyRow>td.label:after{content:"[+]";position:absolute;right:10px;top:3px;color:#404040;height:15px;width:15px;font-family:monospace}.other_ThemeEditor tr.sharedPropertyRow>td.label.expanded:after{content:"[-]"}.other_ThemeEditor tr.sharedPropertyRow>td.label{position:relative;padding-right:30px;text-decoration:underline}.other_ThemeEditor tr.sharedPropertyRow>td.label:hover{text-decoration:none;cursor:pointer}.other_ThemeEditor tr.propertyRow>td,.other_ThemeEditor tr.propertyRow>th{background-color:#f4f4f4}.other_ThemeEditor tr.propertyRow>td.label{padding-left:24px}.other_ThemeEditor table,.other_ThemeEditor td,.other_ThemeEditor th{border:1px solid #e5e5e5}.other_ThemeEditor .mm-label.min+.mm-content,.other_ThemeEditor .mm-label.min .mm-content{display:none}.mm-label:hover,.other_ThemeEditor .sharedPropertyRow>.te-label{cursor:pointer}.other_ThemeEditor .sharedPropertyRow>.te-label:hover{text-decoration:none}.other_ThemeEditor .propertyRow.shown>.te-label{padding-left:15px}.other_ThemeEditor .propertyRow>td{background-color:#f4f4f4}.other_ThemeEditor input,.other_ThemeEditor select,.other_ThemeEditor textarea{height:30px;float:left}.other_ThemeEditor input,.other_ThemeEditor select{width:150px}.other_ThemeEditor .te-checkbox{width:20px;height:20px;margin:0}.other_ThemeEditor .te-html-color-input{height:30px;width:120px}.other_ThemeEditor .te-html-color-button{width:30px}.other_ThemeEditor .te-html-color-button,.other_ThemeEditor button{background-color:#ccc;border:1px solid #a9a9a9;border-left:0;height:30px;float:left;padding:4px}.other_ThemeEditor .te-html-color-button,.other_ThemeEditor .te-section-table thead,.other_ThemeEditor button{cursor:pointer}.other_ThemeEditor .te-html-color-button:hover,.other_ThemeEditor button:hover{background-color:#bbb}.other_ThemeEditor .te-html-color-button:active,.other_ThemeEditor button:active{background-color:#aaa}.other_ThemeEditor .te-label{white-space:nowrap;width:1%;vertical-align:top}.other_ThemeEditor .te-section-table>tbody>tr:hover{background-color:#f8ff98}.te-section-table thead th{font-weight:700}.te-section-table.expanded>thead>tr>th:after{font:normal normal normal 14px/1 FontAwesome;content:"ï…‡";float:right;margin-right:6px;margin-top:4px}.te-section-table.collapsed>thead>tr>th:after{font:normal normal normal 14px/1 FontAwesome;content:"ï†–";float:right;margin-right:6px;margin-top:4px}#te-tableModeOptions thead>tr>th,#te-themeEditorOptions thead>tr>th{border:1px solid #6e6e73;background-color:#6e6e73;color:#fafafa}');var Wo=function(){var t="@hpcc-js/other";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}}()?localStorage:{getItem:function(t){}},Do=function(t){return"function"==typeof window.g_defaultThemes&&window.g_defaultThemes(t),JSON.parse(Wo.getItem("themeEditorThemes")||"{}")},Ao=function(t){return"function"==typeof window.g_defaultSerials&&window.g_defaultSerials(t),JSON.parse(Wo.getItem("themeEditorSerials")||"{}")},No=function(t){var e=Do(),r=[];for(var o in e)r.push(o);return void 0!==t&&void 0!==r[t]&&(r=r[t]),r},Mo=function(t){var e=Ao(),r=[];for(var o in e)r.push(o);return void 0!==t&&void 0!==r[t]&&(r=r[t]),r},Bo=function(t){return t.split(/(?=[0-9A-Z])/).map(function(t){return t.length>1?t+" ":t}).join("").replace(/(?:^|\s)\S/g,function(t){return t.toUpperCase()})},Oo=function(t,e,r,o){var n,i="",a="te-input-"+t.id+"-"+o;void 0!==t.ext&&void 0!==t.ext.inputType&&(n=t.ext.inputType),void 0!==t.inputID&&(a=t.inputID);var s="data-paramid='"+t.id+"' data-wids='"+r.map(function(t){return"object"==typeof t.widget?t.widget._id:t}).join(",")+"'";switch(t.type){case"boolean":i="<input id='"+a+"' "+s+" type='checkbox' class='te-checkbox te-input'"+(e?" checked":"")+">";break;case"number":void 0!==n?"textarea"===n?i="<textarea id='"+a+"' class='te-textarea te-input' "+s+">"+e+"</textarea>":"range"===n&&(i="<input id='"+a+"' class='te-input' type='range' "+s+" value='"+e+"'  min='"+t.ext.min+"' max='"+t.ext.max+"' step='"+t.ext.step+"'>"):i="<input id='"+a+"' type='text' class='te-text te-input' "+s+" value='"+e+"'>";break;case"string":void 0!==n?"textarea"===n&&(i="<textarea id='"+a+"' class='te-textarea te-input' "+s+">"+e+"</textarea>"):i="<input id='"+a+"' type='text' class='te-text te-input' value='"+e+"' "+s+">";break;case"html-color":var l=""===e?"":" value='"+e+"'";i="<input id='"+a+"' type='text' class='te-html-color-input te-input' "+s+" "+l+">",i+="<input type='color' class='te-html-color-button te-input' "+s+" "+l+">";break;case"set":i="<select id='"+a+"' class='te-select te-input'"+s+">"+function(t,e){var r="";return t.set.forEach(function(t){r+="<option value='"+t+"'"+(t===e?" selected":"")+">"+t+"</option>"}),r}(t,e)+"</select>";break;case"array":i="<textarea id='"+a+"' class='te-textarea te-input' data-type='array' "+s+">"+e+"</textarea>"}return void 0!==t.ext.saveButton&&(i+="<button id='"+t.ext.saveButtonID+"'>"+t.ext.saveButton+"</button>"),i},Ho=function(t){function e(){var e=t.call(this)||this;return e._tag="div",e._current_grouping=void 0,e._showing_columns=void 0,e._showing_data=void 0,e.columns(["Key","Value"]),e._contentEditors=[],e._showSettings=!0,e._defaultThemes=[],e._widgetObjsById={},e}return n(e,t),e.prototype.showSettings=function(t){return arguments.length?(this._showSettings=t,this):this._showSettings},e.prototype.onChange=function(t,e){},e.prototype.enter=function(e,r){t.prototype.enter.call(this,e,r),this._placeholderElement.style("overflow","auto")},e.prototype.widgetProperty=function(t,e,r){return void 0===r?t[e]():t[e](r)},e.prototype.load=function(t){},e.prototype.save=function(t){},e.prototype.needsPropTableRedraw=function(){return null===document.getElementById("te-themeEditorOptions")},e.prototype.update=function(e,r){var o,n;if(t.prototype.update.call(this,e,r),n=!1,void 0===(o=this)._current_grouping?o._current_grouping=o._group_params_by:o._current_grouping!==o._group_params_by&&(n=!0),void 0===o._showing_columns?o._showing_columns=o.showColumns():o._showing_columns!==o.showColumns()&&(n=!0),void 0===o._showing_data?o._showing_data=o.showData():o._showing_data!==o.showData()&&(n=!0),n&&r.selectAll("#"+this._id+" > table").remove(),this._current_grouping=this.paramGrouping(),this._widgetObjsById[this._id]=this,this._sharedProperties=this.findSharedProperties(this.data()),this.needsPropTableRedraw()&&this.showSettings()){var i=bo(this);for(var a in i)if(-1!==i[a].ext.tags.indexOf(this.editorComplexity())){var s=this[i[a].id]();"loadedTheme"!==i[a].id&&"loadedSerial"!==i[a].id||(i[a].inputID="te-load-theme"),i[a].input=Oo(i[a],s,[this._id],this._id)}else delete i[a];e.innerHTML=this.propertiesTableHtml(i);var l=document.createEvent("Events");l.initEvent("TE Properties Ready",!0,!0),document.dispatchEvent(l)}this.buildTableObjects(e,this._sharedProperties),this.initFunctionality(e)},e.prototype.exit=function(e,r){t.prototype.exit.call(this,e,r)},e.prototype.click=function(t){},e.prototype.propertiesTableHtml=function(t){var e={id:"te-themeEditorOptions",label:"Editor Options",rowArr:[]},r={id:"te-tableModeOptions",label:this.themeMode()?"Save/Load Theme":"Save/Load Serial",rowArr:[]};for(var o in t)this.themeMode()?-1===t[o].ext.tags.indexOf("Theme")&&-1===t[o].ext.tags.indexOf("Serial")?e.rowArr.push({th:Bo(t[o].id),td:t[o].input,trClass:"propertyRow"}):-1!==t[o].ext.tags.indexOf("Theme")&&r.rowArr.push({th:Bo(t[o].id),td:t[o].input,trClass:"propertyRow"}):-1===t[o].ext.tags.indexOf("Serial")&&-1===t[o].ext.tags.indexOf("Theme")?e.rowArr.push({th:Bo(t[o].id),td:t[o].input,trClass:"propertyRow"}):-1!==t[o].ext.tags.indexOf("Serial")&&r.rowArr.push({th:Bo(t[o].id),td:t[o].input,trClass:"propertyRow"});var n="";return e.rowArr.length>0&&(n+=this.tableObjHtml(e)),r.rowArr.length>0&&(n+=this.tableObjHtml(r)),n},e.prototype.buildTableObjects=function(t,e){var r={};for(var o in r=this.themeMode()?{chartColorSection:{id:"te-colorOptions",label:"Chart Colors",rowObjArr:[]},surfaceSection:{id:"te-containerOptions",label:"Container Styles/Colors",rowObjArr:[]},fontSection:{id:"te-fontOptions",label:"Font Styles/Colors",rowObjArr:[]}}:{nonSurfaceSection:{id:"te-chartOptions",label:"Chart Properties",rowObjArr:[]}},e)this.themeMode()?-1===o.toUpperCase().indexOf("FONT")||-1!==e[o].arr[0].widget._class.indexOf("layout_Surface")&&-1!==o.toUpperCase().indexOf("COLOR")?"paletteID"===o?r.chartColorSection.rowObjArr.push(e[o]):-1!==e[o].arr[0].widget._class.indexOf("layout_Surface")&&r.surfaceSection.rowObjArr.push(e[o]):r.fontSection.rowObjArr.push(e[o]):-1===e[o].arr[0].widget._class.indexOf("layout_Surface")&&r.nonSurfaceSection.rowObjArr.push(e[o]);var n="";for(var i in r)n+=this.sharedPropertyTableHtml(r[i]);t.innerHTML+=n},e.prototype.initFunctionality=function(t){var e=this;!function(t){var e=t.getElementsByClassName("te-section-table");for(var r in e)if("function"==typeof e[r].getElementsByTagName){var o=e[r].getElementsByTagName("thead");o[0].onclick=function(t){var e=t.toElement;"TH"===e.tagName&&(e=e.parentElement.parentElement);var r=e.parentElement,o="";-1===r.className.split(" ").indexOf("expanded")?(r.className="te-section-table expanded",o="shown"):(r.className="te-section-table collapsed",o="hidden");var n=r.getElementsByTagName("tbody");n[0].className=o}}var n=t.getElementsByClassName("sharedPropertyRow");for(var i in n)if("function"==typeof n[i].getElementsByClassName){var a=n[i].getElementsByClassName("te-label");a[0].onclick=function(t){var e=t.toElement,r=e.parentElement,o="";-1===r.className.split(" ").indexOf("expanded")?(r.className="sharedPropertyRow expanded",o="shown"):(r.className="sharedPropertyRow collapsed",o="hidden");for(var n=r.nextSibling;null!==n;)-1===n.className.split(" ").indexOf("sharedPropertyRow")?(n.className="propertyRow "+o,n=n.nextSibling):n=null}}}(t),function(t){var r=t.getElementsByClassName("te-input");for(var o in r){if(isNaN(parseInt(o)))break;var n=r[o],i=n.getAttribute("id");"te-load-theme"===i?n.onchange=function(t){var r=t.srcElement;e.load(r.value)}:null!==i&&-1!==i.indexOf("te-input-themeMode")?n.onchange=function(t){var r=t.srcElement;e.themeMode(r.checked);var o=document.getElementById("te-load-theme"),n=null!==o?o.value:"Default";e.load(n)}:"INPUT"!==n.tagName&&"SELECT"!==n.tagName&&"TEXTAREA"!==n.tagName||(n.onchange=function(t){var r=t.srcElement,o=r.getAttribute("id");-1!==r.className.split(" ").indexOf("te-html-color-button")&&(o=r.previousSibling.getAttribute("id"),r.previousSibling.value=r.value);var n=r.getAttribute("type"),i=o.split("-"),a=i.slice(0,i.length-1).join("-")+"-",s=r.getAttribute("data-wids"),l=r.getAttribute("data-paramid"),c=s.split(",");c.forEach(function(t){var o=a+t,i=document.getElementById(o);if("checkbox"===n)i.checked=r.checked,e._widgetObjsById[t][l](r.checked);else if("array"===r.getAttribute("data-type")){i.value=r.value;try{e._widgetObjsById[t][l](JSON.parse(r.value))}catch(t){}}else i.value=r.value,e._widgetObjsById[t][l](r.value),-1!==i.className.split(" ").indexOf("te-html-color-input")?i.nextSibling.value=r.value:-1!==i.className.split(" ").indexOf("te-html-color-button")&&(i.previousSibling.value=r.value)}),e.data().forEach(function(t){t.render()})})}}(t),function(t){if(e.showSettings()){var r=document.getElementById("te-save-button");r.onclick=function(t){var e=t.target,r=e.previousSibling.value;if(r.length>1){var o=document.getElementById("te-load-theme"),n=o.getElementsByTagName("option"),i=!1;for(var a in n){var s=n[a].value;s===r&&(i=!0)}i||(o.innerHTML+="<option value='"+r+"'>"+r+"</option>"),e.previousSibling.value="",o.value=r}else alert("Save Name cannot be empty.")}}}()},e.prototype.sharedPropertyTableHtml=function(t){var e={id:t.id,label:t.label,rowArr:[]};return t.rowObjArr.forEach(function(t){t.arr.forEach(function(a,s){0===s&&e.rowArr.push({th:o(t),td:i(t),trClass:"sharedPropertyRow collapsed"}),e.rowArr.push({th:r(a),td:n(t,s),trClass:"propertyRow hidden"})})}),this.tableObjHtml(e);function r(t){return t.widget.classID().split("_").join("/")+" <i>["+t.widget._id+"]</i>"}function o(t){return Bo(t.id)}function n(t,e){var r,o,n,i=(o=e,null!==(n=(r=t).arr[o].widget[r.id]())?n:"");return Oo(t,i,[t.arr[e]],t.arr[e].widget._id)}function i(t){var e=function(t){var e=t.arr[0].widget[t.id]();if(t.arr.forEach(function(t,r){if(e!==t.widget[t.id]())return""}),null!==e)return"array"===t.type?JSON.stringify(e):e;return""}(t);return Oo(t,e,t.arr,"shared")}},e.prototype.tableObjHtml=function(t){var e="<table id='"+t.id+"' class='te-section-table expanded'>";return e+="<thead><tr><th colspan='2'>"+t.label+"</th></tr></thead>",e+="<tbody>",t.rowArr.forEach(function(t){e+=this.tableRowObjHtml(t)},this),(e+="</tbody>")+"</table>"},e.prototype.tableRowObjHtml=function(t){var e=void 0!==t.trClass?"<tr class='"+t.trClass+"'>":"<tr>";return e+="<th class='te-label'>"+t.th+"</th>",(e+="<td>"+t.td+"</td>")+"</tr>"},e.prototype.setWidgetObjsById=function(t){var e=this,r=t.widget[t.id]();"widgetArray"===t.type?r.forEach(function(t){e._widgetObjsById[t._id]=t}):"widget"===t.type&&null!==r&&(this._widgetObjsById[r._id]=r)},e.prototype.checkTagFilter=function(t){var e=["Basic"],r=!1;return t.forEach(function(t){-1!==e.indexOf(t)&&(r=!0)}),r},e.prototype.findSharedProperties=function(t){var e,r=this;if(void 0!==t&&t.length>0){var o=[];e={};var n={},i={};t.forEach(function(t){var e=function t(e,o){var n=[];if(null!==e){var i=bo(e);i.forEach(function(o,i){if(void 0!==o.ext.tags&&n.push({id:o.id,type:o.type,description:o.description,set:o.set,ext:o.ext,widget:e}),"widgetArray"===o.type){var a=r.widgetProperty(e,o.id);a.forEach(function(e){var r=t(e);n=n.concat(r)})}else if("widget"===o.type){var s=r.widgetProperty(e,o.id),l=t(s);n=n.concat(l)}})}return n}(t);o=o.concat(e)}),o.forEach(function(t){if(-1!==["widget","widgetArray"].indexOf(t.type))r.setWidgetObjsById(t);else if(r.checkTagFilter(t.ext.tags)){var o=t.id;-1!==t.widget._class.indexOf("Surface")?(void 0===n[o]&&(n[o]={arr:[]}),n[o].id=t.id,n[o].description=t.description,n[o].type=t.type,n[o].set=t.set,n[o].ext=t.ext,n[o].arr.push(t)):(void 0===i[o]&&(i[o]={arr:[]}),i[o].id=t.id,i[o].description=t.description,i[o].type=t.type,i[o].set=t.set,i[o].ext=t.ext,i[o].arr.push(t)),void 0===e[o]&&(e[o]={arr:[]}),e[o].id=t.id,e[o].description=t.description,e[o].type=t.type,e[o].set=t.set,e[o].ext=t.ext,e[o].arr.push(t)}})}return e},e}(e.HTMLWidget);Ho.prototype._class+=" other_ThemeEditor",Ho.prototype.publish("themeMode",!0,"boolean","Edit default values",null,{tags:["Basic"]}),Ho.prototype.publish("saveTheme","","string","Save Theme",null,{tags:["Basic","Theme"],saveButton:"Save",saveButtonID:"te-save-button"}),Ho.prototype.publish("loadedTheme",No(1),"set","Loaded Theme",No(),{tags:["Basic","Theme"]}),Ho.prototype.publish("saveSerial","","string","Save Serial",null,{tags:["Basic","Serial"],saveButton:"Save",saveButtonID:"te-save-button"}),Ho.prototype.publish("loadedSerial",Mo(0),"set","Loaded Serial",Mo(),{tags:["Basic","Serial"]}),Ho.prototype.publish("showColumns",!0,"boolean","Show Columns",null,{tags:["Intermediate"]}),Ho.prototype.publish("showData",!0,"boolean","Show Data",null,{tags:["Intermediate"]}),Ho.prototype.publish("shareCountMin",1,"number","Share Count Min",null,{tags:["Private"]}),Ho.prototype.publish("paramGrouping","By Param","set","Param Grouping",["By Param","By Widget"],{tags:["Private"]}),Ho.prototype.publish("editorComplexity","Basic","set","Choose what publish properties to display within the editor.",["Basic","Intermediate","Advanced","Private"],{tags:["Private"]}),Ho.prototype.publish("sectionTitle","","string","Section Title",null,{tags:["Private"]}),Ho.prototype.publish("collapsibleSections",!0,"boolean","Collapsible Sections",null,{tags:["Intermediate"]}),Ho.prototype.getThemes=Do,Ho.prototype.getSerials=Ao,Ho.prototype.getDefaultThemes=No,Ho.prototype.getDefaultSerials=Mo,t.Audio=C,t.AutoCompleteText=E,t.BUILD_VERSION="2.10.1",t.CalendarHeatMap=_r,t.Column=yo,t.ColumnDropdown=vo,t.Comms=Hr,t.HPCCBadge=eo,t.HeatMap=to,t.Html=ro,t.IconList=oo,t.Legend=lo,t.MorphText=uo,t.MouseHoverColumn=mo,t.NestedTable=ho,t.Opportunity=_o,t.PKG_NAME="@hpcc-js/other",t.PKG_VERSION="2.13.2",t.Paginator=no,t.Persist=So,t.PropertyEditor=Po,t.RadioCheckbox=Ro,t.Select=Io,t.Table=ao,t.ThemeEditor=Ho,t.cache=function(t){if(!arguments.length)return zr;zr=t},t.createConnection=function(t){if(t=t||document.URL,(new Cr).url(t).isWsWorkunits()){var e=Or(t);if(e instanceof Dr&&e.wuid())return new Vr(e.getUrl({pathname:""}),e.wuid()).url(t)}return null},t.createResult=$r,t.enableCache=function(t){if(!arguments.length)return Ur;Ur=t,t||(zr={})},t.flattenResult=function(t,e){var r={columns:[],data:[]};if(t&&t.length){var o={};if(e&&e.length)e.forEach(function(t){o[t.value.toLowerCase()]=r.columns.length,r.columns.push(t.key)});else for(var n in t[0])o[n.toLowerCase()]=r.columns.length,r.columns.push(n);t.forEach(function(t,e){var n=[];for(var i in t)void 0!==o[i.toLowerCase()]&&(n[o[i.toLowerCase()]]=t[i]);r.data.push(n)})}return r},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.min.js.map