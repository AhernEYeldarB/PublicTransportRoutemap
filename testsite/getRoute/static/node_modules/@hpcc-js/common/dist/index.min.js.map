{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","../../../node_modules/d3-selection/src/namespaces.js","../../../node_modules/d3-selection/src/namespace.js","../../../node_modules/d3-selection/src/creator.js","../../../node_modules/d3-selection/src/selector.js","../../../node_modules/d3-selection/src/selectorAll.js","../../../node_modules/d3-selection/src/matcher.js","../../../node_modules/d3-selection/src/selection/sparse.js","../../../node_modules/d3-selection/src/selection/enter.js","../../../node_modules/d3-selection/src/selection/data.js","../../../node_modules/d3-selection/src/selection/sort.js","../../../node_modules/d3-selection/src/window.js","../../../node_modules/d3-selection/src/selection/style.js","../../../node_modules/d3-selection/src/selection/classed.js","../../../node_modules/d3-selection/src/selection/text.js","../../../node_modules/d3-selection/src/selection/html.js","../../../node_modules/d3-selection/src/selection/raise.js","../../../node_modules/d3-selection/src/selection/lower.js","../../../node_modules/d3-selection/src/selection/insert.js","../../../node_modules/d3-selection/src/selection/remove.js","../../../node_modules/d3-selection/src/selection/clone.js","../../../node_modules/d3-selection/src/selection/on.js","../../../node_modules/d3-selection/src/selection/dispatch.js","../../../node_modules/d3-selection/src/selection/index.js","../../../node_modules/d3-selection/src/select.js","../../../node_modules/d3-selection/src/selection/select.js","../../../node_modules/d3-selection/src/selection/selectAll.js","../../../node_modules/d3-selection/src/selection/filter.js","../../../node_modules/d3-selection/src/constant.js","../../../node_modules/d3-selection/src/selection/exit.js","../../../node_modules/d3-selection/src/selection/join.js","../../../node_modules/d3-selection/src/selection/merge.js","../../../node_modules/d3-selection/src/selection/order.js","../../../node_modules/d3-selection/src/selection/call.js","../../../node_modules/d3-selection/src/selection/nodes.js","../../../node_modules/d3-selection/src/selection/node.js","../../../node_modules/d3-selection/src/selection/size.js","../../../node_modules/d3-selection/src/selection/empty.js","../../../node_modules/d3-selection/src/selection/each.js","../../../node_modules/d3-selection/src/selection/attr.js","../../../node_modules/d3-selection/src/selection/property.js","../../../node_modules/d3-selection/src/selection/append.js","../../../node_modules/d3-selection/src/selection/datum.js","../../../node_modules/d3-selection/src/local.js","../../../node_modules/d3-selection/src/sourceEvent.js","../../../node_modules/d3-selection/src/point.js","../../../node_modules/d3-selection/src/mouse.js","../../../node_modules/d3-selection/src/touch.js","../../../node_modules/d3-dispatch/src/dispatch.js","../../../node_modules/d3-timer/src/timer.js","../../../node_modules/d3-timer/src/timeout.js","../../../node_modules/d3-transition/src/transition/schedule.js","../../../node_modules/d3-transition/src/interrupt.js","../../../node_modules/d3-color/src/define.js","../../../node_modules/d3-color/src/color.js","../../../node_modules/d3-color/src/math.js","../../../node_modules/d3-color/src/lab.js","../../../node_modules/d3-color/src/cubehelix.js","../../../node_modules/d3-interpolate/src/basis.js","../../../node_modules/d3-interpolate/src/basisClosed.js","../../../node_modules/d3-interpolate/src/constant.js","../../../node_modules/d3-interpolate/src/color.js","../../../node_modules/d3-interpolate/src/rgb.js","../../../node_modules/d3-interpolate/src/array.js","../../../node_modules/d3-interpolate/src/date.js","../../../node_modules/d3-interpolate/src/number.js","../../../node_modules/d3-interpolate/src/object.js","../../../node_modules/d3-interpolate/src/string.js","../../../node_modules/d3-interpolate/src/value.js","../../../node_modules/d3-interpolate/src/round.js","../../../node_modules/d3-interpolate/src/transform/decompose.js","../../../node_modules/d3-interpolate/src/transform/parse.js","../../../node_modules/d3-interpolate/src/transform/index.js","../../../node_modules/d3-interpolate/src/zoom.js","../../../node_modules/d3-interpolate/src/hsl.js","../../../node_modules/d3-interpolate/src/lab.js","../../../node_modules/d3-interpolate/src/hcl.js","../../../node_modules/d3-interpolate/src/cubehelix.js","../../../node_modules/d3-transition/src/transition/tween.js","../../../node_modules/d3-transition/src/transition/interpolate.js","../../../node_modules/d3-transition/src/transition/selection.js","../../../node_modules/d3-transition/src/transition/style.js","../../../node_modules/d3-transition/src/transition/index.js","../../../node_modules/d3-ease/src/quad.js","../../../node_modules/d3-ease/src/cubic.js","../../../node_modules/d3-transition/src/transition/select.js","../../../node_modules/d3-transition/src/transition/selectAll.js","../../../node_modules/d3-transition/src/transition/filter.js","../../../node_modules/d3-transition/src/transition/merge.js","../../../node_modules/d3-transition/src/transition/transition.js","../../../node_modules/d3-transition/src/transition/on.js","../../../node_modules/d3-transition/src/transition/attr.js","../../../node_modules/d3-transition/src/transition/attrTween.js","../../../node_modules/d3-transition/src/transition/styleTween.js","../../../node_modules/d3-transition/src/transition/text.js","../../../node_modules/d3-transition/src/transition/remove.js","../../../node_modules/d3-transition/src/transition/delay.js","../../../node_modules/d3-transition/src/transition/duration.js","../../../node_modules/d3-transition/src/transition/ease.js","../../../node_modules/d3-transition/src/transition/end.js","../../../node_modules/d3-ease/src/poly.js","../../../node_modules/d3-ease/src/sin.js","../../../node_modules/d3-ease/src/exp.js","../../../node_modules/d3-ease/src/circle.js","../../../node_modules/d3-ease/src/bounce.js","../../../node_modules/d3-ease/src/back.js","../../../node_modules/d3-ease/src/elastic.js","../../../node_modules/d3-transition/src/selection/transition.js","../../../node_modules/d3-transition/src/selection/index.js","../../../node_modules/d3-transition/src/selection/interrupt.js","../../../node_modules/d3-transition/src/active.js","../../../node_modules/d3-array/src/ascending.js","../../../node_modules/d3-array/src/bisector.js","../../../node_modules/d3-array/src/bisect.js","../../../node_modules/d3-array/src/pairs.js","../../../node_modules/d3-array/src/descending.js","../../../node_modules/d3-array/src/number.js","../../../node_modules/d3-array/src/variance.js","../../../node_modules/d3-array/src/deviation.js","../../../node_modules/d3-array/src/extent.js","../../../node_modules/d3-array/src/array.js","../../../node_modules/d3-array/src/constant.js","../../../node_modules/d3-array/src/identity.js","../../../node_modules/d3-array/src/range.js","../../../node_modules/d3-array/src/ticks.js","../../../node_modules/d3-array/src/threshold/sturges.js","../../../node_modules/d3-array/src/quantile.js","../../../node_modules/d3-array/src/max.js","../../../node_modules/d3-array/src/mean.js","../../../node_modules/d3-array/src/median.js","../../../node_modules/d3-array/src/min.js","../../../node_modules/d3-array/src/sum.js","../../../node_modules/d3-array/src/transpose.js","../../../node_modules/d3-collection/src/map.js","../../../node_modules/d3-collection/src/nest.js","../../../node_modules/d3-collection/src/set.js","../../../node_modules/d3-collection/src/values.js","../../../node_modules/d3-dsv/src/dsv.js","../../../node_modules/d3-dsv/src/csv.js","../../../node_modules/d3-dsv/src/tsv.js","../../../node_modules/d3-format/src/formatDecimal.js","../../../node_modules/d3-format/src/exponent.js","../../../node_modules/d3-format/src/formatSpecifier.js","../../../node_modules/d3-format/src/formatPrefixAuto.js","../../../node_modules/d3-format/src/formatRounded.js","../../../node_modules/d3-format/src/formatTypes.js","../../../node_modules/d3-format/src/identity.js","../../../node_modules/d3-format/src/locale.js","../../../node_modules/d3-format/src/defaultLocale.js","../../../node_modules/d3-format/src/formatGroup.js","../../../node_modules/d3-format/src/formatNumerals.js","../../../node_modules/d3-format/src/formatTrim.js","../../../node_modules/d3-format/src/precisionFixed.js","../../../node_modules/d3-format/src/precisionPrefix.js","../../../node_modules/d3-format/src/precisionRound.js","../../../node_modules/d3-time/src/interval.js","../../../node_modules/d3-time/src/millisecond.js","../../../node_modules/d3-time/src/duration.js","../../../node_modules/d3-time/src/second.js","../../../node_modules/d3-time/src/minute.js","../../../node_modules/d3-time/src/hour.js","../../../node_modules/d3-time/src/day.js","../../../node_modules/d3-time/src/week.js","../../../node_modules/d3-time/src/month.js","../../../node_modules/d3-time/src/year.js","../../../node_modules/d3-time/src/utcMinute.js","../../../node_modules/d3-time/src/utcHour.js","../../../node_modules/d3-time/src/utcDay.js","../../../node_modules/d3-time/src/utcWeek.js","../../../node_modules/d3-time/src/utcMonth.js","../../../node_modules/d3-time/src/utcYear.js","../../../node_modules/d3-time-format/src/locale.js","../../../node_modules/d3-time-format/src/defaultLocale.js","../../../node_modules/d3-time-format/src/isoFormat.js","../../../node_modules/d3-time-format/src/isoParse.js","../src/Class.ts","../src/PropertyExt.ts","../src/Utility.ts","../src/Database.ts","../../../node_modules/style-inject/dist/style-inject.es.js","../src/Widget.ts","../src/HTMLWidget.ts","../src/CanvasWidget.ts","../src/Platform.ts","../src/Transition.ts","../src/SVGWidget.ts","../src/Text.ts","../src/FAChar.ts","../../../node_modules/colorbrewer/index.js","../../../node_modules/colorbrewer/colorbrewer.js","../../../node_modules/d3-scale/src/array.js","../../../node_modules/d3-scale/src/ordinal.js","../../../node_modules/d3-scale/src/band.js","../../../node_modules/d3-scale/src/constant.js","../../../node_modules/d3-scale/src/number.js","../../../node_modules/d3-scale/src/continuous.js","../../../node_modules/d3-scale/src/linear.js","../../../node_modules/d3-scale/src/tickFormat.js","../../../node_modules/d3-scale/src/nice.js","../../../node_modules/d3-scale/src/log.js","../../../node_modules/d3-scale/src/pow.js","../../../node_modules/d3-scale/src/quantize.js","../../../node_modules/d3-scale/src/time.js","../../../node_modules/d3-scale/src/colors.js","../../../node_modules/d3-scale/src/category10.js","../../../node_modules/d3-scale/src/category20b.js","../../../node_modules/d3-scale/src/category20c.js","../../../node_modules/d3-scale/src/category20.js","../../../node_modules/d3-scale/src/cubehelix.js","../../../node_modules/d3-scale/src/rainbow.js","../../../node_modules/d3-scale/src/viridis.js","../../../node_modules/d3-scale/src/sequential.js","../src/Palette.ts","../src/Shape.ts","../src/Icon.ts","../src/Entity.ts","../src/EntityCard.ts","../src/EntityPin.ts","../src/EntityRect.ts","../src/TextBox.ts","../src/EntityVertex.ts","../src/Image.ts","../src/List.ts","../src/Menu.ts","../src/ProgressBar.ts","../../../node_modules/d3-drag/src/noevent.js","../../../node_modules/d3-drag/src/nodrag.js","../../../node_modules/d3-drag/src/constant.js","../../../node_modules/d3-drag/src/event.js","../../../node_modules/d3-drag/src/drag.js","../src/Surface.ts","../src/ResizeSurface.ts","../../../node_modules/d3-brush/src/constant.js","../../../node_modules/d3-brush/src/event.js","../../../node_modules/d3-brush/src/noevent.js","../../../node_modules/d3-brush/src/brush.js","../../../node_modules/d3-zoom/src/constant.js","../../../node_modules/d3-zoom/src/event.js","../../../node_modules/d3-zoom/src/transform.js","../../../node_modules/d3-zoom/src/noevent.js","../../../node_modules/d3-zoom/src/zoom.js","../src/TitleBar.ts","../src/SVGZoomWidget.ts","../src/WidgetArray.ts","../src/__package__.ts","../../../node_modules/d3-dsv/src/autoType.js","../../../node_modules/d3-selection/src/create.js","../../../node_modules/d3-array/src/cross.js","../../../node_modules/d3-ease/src/linear.js","../../../node_modules/d3-collection/src/entries.js","../../../node_modules/d3-array/src/histogram.js","../../../node_modules/d3-interpolate/src/discrete.js","../../../node_modules/d3-interpolate/src/hue.js","../../../node_modules/d3-collection/src/keys.js","../../../node_modules/d3-array/src/merge.js","../../../node_modules/d3-array/src/permute.js","../../../node_modules/d3-interpolate/src/piecewise.js","../../../node_modules/d3-interpolate/src/quantize.js","../../../node_modules/d3-scale/src/identity.js","../../../node_modules/d3-scale/src/quantile.js","../../../node_modules/d3-scale/src/threshold.js","../../../node_modules/d3-scale/src/utcTime.js","../../../node_modules/d3-array/src/scan.js","../../../node_modules/d3-selection/src/selectAll.js","../../../node_modules/d3-array/src/shuffle.js","../../../node_modules/d3-array/src/threshold/freedmanDiaconis.js","../../../node_modules/d3-array/src/threshold/scott.js","../../../node_modules/d3-selection/src/touches.js","../../../node_modules/d3-array/src/zip.js"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__metadata","metadataKey","metadataValue","metadata","xhtml","namespaces","svg","xlink","xml","xmlns","namespace","name","prefix","indexOf","slice","space","local","creator","fullname","ownerDocument","createElementNS","document","uri","namespaceURI","documentElement","createElement","none","selector","querySelector","empty","selectorAll","querySelectorAll","matcher","matches","sparse","update","EnterNode","parent","datum","_next","_parent","__data__","appendChild","child","insertBefore","next","keyPrefix","bindIndex","group","enter","exit","data","node","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","ascending","a","NaN","defaultView","styleValue","style","getPropertyValue","getComputedStyle","classArray","string","trim","split","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","add","classedRemove","remove","textRemove","textContent","htmlRemove","innerHTML","raise","nextSibling","parentNode","lower","previousSibling","firstChild","constantNull","removeChild","selection_cloneShallow","cloneNode","selection_cloneDeep","push","setAttribute","join","splice","contains","filterEvents","exports","event","mouseenter","mouseleave","filterContextListener","listener","index","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","typename","on","__on","o","j","m","type","removeEventListener","capture","onAdd","value","wrap","addEventListener","customEvent","that","args","sourceEvent","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","root","Selection","groups","parents","_groups","_parents","selection","d3Select","select","subgroups","subnode","subgroup","selectAll","filter","match","size","each","x","bind","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","map","onenter","onupdate","onexit","append","merge","order","groups0","groups1","m0","m1","Math","min","merges","group0","group1","sort","compare","compareNode","sortgroups","sortgroup","callback","nodes","attr","getAttributeNS","removeAttributeNS","removeAttribute","v","setAttributeNS","priority","removeProperty","setProperty","property","classed","text","html","insert","before","clone","deep","typenames","parseTypenames","dispatch","nextId","Local","_","toString","source","current","point","ownerSVGElement","createSVGPoint","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","mouse","changedTouches","touch","touches","identifier","get","id","set","noop","Error","Dispatch","concat","types","T","copy","taskHead","taskTail","frame","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","f","setTimeout","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","e","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","timeout$1","elapsed","stop","TypeError","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","timing","schedules","__transition","self","tween","start","state","tick","duration","ease","init","interrupt","active","define","factory","extend","definition","Color","reI","reN","reP","reHex3","reHex6","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color","format","toLowerCase","exec","Rgb","parseInt","rgbn","rgba","hsla","g","rgbConvert","rgb","opacity","hex","max","round","h","l","Hsl","hsl","hslConvert","hsl2rgb","m2","displayable","brighter","k","pow","darker","isNaN","deg2rad","PI","rad2deg","Xn","Yn","Zn","t3","labConvert","Lab","Hcl","cos","sin","z","rgb2lrgb","xyz2lab","lab","lab2xyz","lrgb2rgb","hclConvert","atan2","sqrt","hcl","A","B","C","D","E","ED","EB","BC_DA","cubehelix","Cubehelix","bl","cubehelixConvert","basis","v0","v1","v2","v3","basis$1","values","floor","basisClosed","constant$1","linear","hue","constant","gamma","nogamma","exponential","cosh","sinh","interpolateRgb","rgbGamma","end","colorRgb","rgbSpline","spline","colors","rgbBasis","rgbBasisClosed","array","nb","na","date","setTime","reinterpolate","object","reA","reB","interpolateString","am","bm","bs","bi","lastIndex","q","number","one","zero","interpolate","isArray","valueOf","interpolateRound","cssNode","cssRoot","cssView","svgNode","degrees","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","decompose","atan","interpolateTransform","parse","pxComma","pxParen","degParen","pop","xa","ya","xb","yb","translate","scale","interpolateTransformCss","transform","interpolateTransformSvg","baseVal","consolidate","matrix","rho","SQRT2","rho2","rho4","epsilon2","exp","interpolateZoom","p0","p1","S","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","log","d1","b0","b1","r0","r1","coshr0","u","colorHsl","hsl$2","hslLong","colorLab","colorHcl","hcl$2","hclLong","cubehelixGamma","colorCubehelix","cubehelix$2","cubehelixLong","tweenValue","transition","_id","interpolate$1","interpolateNumber","styleRemove","Transition","_name","newId","selection_prototype","quadInOut","cubicInOut","children","inherit","id0","id1","on0","on1","sit","every","onFunction","attrTween","string00","string10","interpolate0","string0","string1","value1","_value","attrInterpolateNS","attrInterpolate","styleTween","styleNull","styleFunction","listener0","undefined","styleMaybeRemove","styleConstant","styleInterpolate","textFunction","textConstant","removeFunction","tween0","tween1","easeConstant","Promise","resolve","reject","cancel","polyIn","custom","exponent","polyOut","polyInOut","pi","halfPi","sinInOut","expInOut","circleInOut","b2","b3","b4","b5","b6","b7","b8","b9","bounceOut","backIn","overshoot","backOut","backInOut","tau","elasticIn","asin","amplitude","period","elasticOut","elasticInOut","defaultTiming","easeCubicInOut","ascending$1","bisector","lo","hi","mid","right","ascendingBisect","bisectRight","bisectLeft","pair","d3Descending","d3Variance","valueof","delta","mean","sum","d3Deviation","variance","extent","constant$2","identity$1","sequence","step","ceil","range","e10","e5","e2","ticks","count","reverse","tickIncrement","isFinite","power","LN10","error","tickStep","step0","abs","step1","sturges","LN2","threshold","value0","d3Max","d3Mean","d3Median","numbers","quantile","d3Min","d3Sum","transpose","row","Map","d3Nest","sortValues","rollup","nest","keys","sortKeys","depth","createResult","setResult","valuesByKey","result","createObject","setObject","createMap","setMap","entries","sortKey","Set","has","clear","proto","d3Values","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","Function","JSON","stringify","inferColumns","rows","columnSet","forEach","column","pad","width","formatDate","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","year","formatYear","getUTCFullYear","getUTCMonth","getUTCDate","dsv","delimiter","reFormat","DELIMITER","charCodeAt","parseRows","N","I","eof","eol","token","replace","preformatBody","formatValue","formatRow","test","convert","customConverter","formatBody","formatRows","csv","csvParse","csvParseRows","csvFormat","csvFormatBody","csvFormatRows","tsv","tsvParse","tsvParseRows","tsvFormat","tsvFormatBody","tsvFormatRows","formatDecimal","toExponential","coefficient","exponent$1","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","fill","align","sign","symbol","comma","precision","formatRounded","formatTypes","%","toFixed","toPrecision","X","toUpperCase","identity$2","locale","prefixes","formatLocale","grouping","thousands","substring","currency","decimal","numerals","formatNumerals","percent","newFormat","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","formatTrim","padding","formatPrefix","defaultLocale","precisionFixed","precisionPrefix","precisionRound","newInterval","floori","offseti","field","d0","offset","millisecond","durationMinute","durationWeek","second","minute","getMinutes","hour","getTimezoneOffset","getHours","day","setHours","setDate","getDate","weekday","getDay","sunday","monday","thursday","month","setMonth","getMonth","getFullYear","setFullYear","utcMinute","setUTCSeconds","utcHour","setUTCMinutes","utcDay","setUTCHours","setUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcMonth","setUTCMonth","utcYear","setUTCFullYear","localDate","H","M","L","utcDate","UTC","newYear","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","Q","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","U","formatWeekNumberSunday","V","formatWeekNumberISO","w","formatWeekdayNumberSunday","W","formatWeekNumberMonday","Y","formatFullYear","Z","formatZone","formatLiteralPercent","utcFormats","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseSpecifier","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","pads","charAt","newParse","newDate","week","timeMonday","timeDay","utcFormat","utcParse","-","0","numberRe","percentRe","requoteRe","requote","timeYear","getMilliseconds","getSeconds","timeSunday","timeThursday","dow","timeFormat","timeParse","formatIso","toISOString","parseIso","Class","class","_class","classID","classMeta","classID2Meta","implements","derivedCtor","baseCtor","getOwnPropertyNames","descriptor","mixin","mixinClass","overrideMethod","methodID","newMethod","origMethod","cssTag","__meta_","__private_","isMeta","Meta","defaultValue","description","ext","origDefaultValue","optional","checkedAssign","__hpcc_debug","options","console","Boolean","Number","String","some","publishedProperties","MetaProxy","proxy","method","propExtID","PropertyExt","_super","_this","_publishedProperties","calcPublishedProperties","_watchArrIdx","_watchArr","meta","tslib_1.__extends","includePrivate","expandProxies","protoStack","getPrototypeOf","unshift","_i","protoStack_1","resolvePublishedProxy","item","publishedProperty","obj","isMetaProxy","selfProp","widgetWalker","visitor","publishItem","widget","widgets","propertyWalker","context","serialize","retVal","__class","_a","prop","val","serialization","valid","deserialize","props","autoExpand","this_1","currVal","publishedModified","publishReset","privateArr","exceptionsArr","isPrivateItem","isException","publish","override","internal","broadcast","configurable","owner","disable","hidden","validate","publishWidget","WidgetType","publishProxy","monitorProperty","propID","func","_key","newVal","oldVal","idx_1","propertyID","context_1","monitor","idx","deepEqual","arrA","arrB","dateA","dateB","getTime","regexpA","regexpB","monitor2","applyTheme","theme","clsArr","paramName","param","tags","copyPropsTo","other","ignore","hashSum","more","eventID","stopPropagation","origFunc","d3Event","retVal2","prevClassID","reset","SelectionBase","__widget","svgGlowID","__svgGlowID","SelectionBag","click","ctrlKey","items","element","isEmpty","isSelected","itemArray","SimpleSelection","widgetElement","skipBringToTop","_widgetElement","_skipBringToTop","elements","selected","_initialSelection","mouseOver","mouseOut","domNode","wasSelected","retVal_1","SimpleSelectionMixin","_selection","serializeState","deserializeState","perf","mozNow","msNow","oNow","webkitNow","removeHTMLFromString","str","div","innerText","nargs","nargs2","downloadBlob","blob","filename","navigator","msSaveBlob","href","URL","createObjectURL","body","timestamp","currentdate","d3TimeFormat","downloadString","mimeType","Blob","checksum","chk","_mixin","dest","debounce","execAsap","_dummyArgs","__hpcc_debounce_timeout","fa-glass","fa-music","fa-search","fa-envelope-o","fa-heart","fa-star","fa-star-o","fa-user","fa-film","fa-th-large","fa-th","fa-th-list","fa-check","fa-times","fa-search-plus","fa-search-minus","fa-power-off","fa-signal","fa-cog","fa-trash-o","fa-home","fa-file-o","fa-clock-o","fa-road","fa-download","fa-arrow-circle-o-down","fa-arrow-circle-o-up","fa-inbox","fa-play-circle-o","fa-repeat","fa-refresh","fa-list-alt","fa-lock","fa-flag","fa-headphones","fa-volume-off","fa-volume-down","fa-volume-up","fa-qrcode","fa-barcode","fa-tag","fa-tags","fa-book","fa-bookmark","fa-print","fa-camera","fa-font","fa-bold","fa-italic","fa-text-height","fa-text-width","fa-align-left","fa-align-center","fa-align-right","fa-align-justify","fa-list","fa-outdent","fa-indent","fa-video-camera","fa-picture-o","fa-pencil","fa-map-marker","fa-adjust","fa-tint","fa-pencil-square-o","fa-share-square-o","fa-check-square-o","fa-arrows","fa-step-backward","fa-fast-backward","fa-backward","fa-play","fa-pause","fa-stop","fa-forward","fa-fast-forward","fa-step-forward","fa-eject","fa-chevron-left","fa-chevron-right","fa-plus-circle","fa-minus-circle","fa-times-circle","fa-check-circle","fa-question-circle","fa-info-circle","fa-crosshairs","fa-times-circle-o","fa-check-circle-o","fa-ban","fa-arrow-left","fa-arrow-right","fa-arrow-up","fa-arrow-down","fa-share","fa-expand","fa-compress","fa-plus","fa-minus","fa-asterisk","fa-exclamation-circle","fa-gift","fa-leaf","fa-fire","fa-eye","fa-eye-slash","fa-exclamation-triangle","fa-plane","fa-calendar","fa-random","fa-comment","fa-magnet","fa-chevron-up","fa-chevron-down","fa-retweet","fa-shopping-cart","fa-folder","fa-folder-open","fa-arrows-v","fa-arrows-h","fa-bar-chart","fa-twitter-square","fa-facebook-square","fa-camera-retro","fa-key","fa-cogs","fa-comments","fa-thumbs-o-up","fa-thumbs-o-down","fa-star-half","fa-heart-o","fa-sign-out","fa-linkedin-square","fa-thumb-tack","fa-external-link","fa-sign-in","fa-trophy","fa-github-square","fa-upload","fa-lemon-o","fa-phone","fa-square-o","fa-bookmark-o","fa-phone-square","fa-twitter","fa-facebook","fa-github","fa-unlock","fa-credit-card","fa-rss","fa-hdd-o","fa-bullhorn","fa-bell","fa-certificate","fa-hand-o-right","fa-hand-o-left","fa-hand-o-up","fa-hand-o-down","fa-arrow-circle-left","fa-arrow-circle-right","fa-arrow-circle-up","fa-arrow-circle-down","fa-globe","fa-wrench","fa-tasks","fa-filter","fa-briefcase","fa-arrows-alt","fa-users","fa-link","fa-cloud","fa-flask","fa-scissors","fa-files-o","fa-paperclip","fa-floppy-o","fa-square","fa-bars","fa-list-ul","fa-list-ol","fa-strikethrough","fa-underline","fa-table","fa-magic","fa-truck","fa-pinterest","fa-pinterest-square","fa-google-plus-square","fa-google-plus","fa-money","fa-caret-down","fa-caret-up","fa-caret-left","fa-caret-right","fa-columns","fa-sort","fa-sort-desc","fa-sort-asc","fa-envelope","fa-linkedin","fa-undo","fa-gavel","fa-tachometer","fa-comment-o","fa-comments-o","fa-bolt","fa-sitemap","fa-umbrella","fa-clipboard","fa-lightbulb-o","fa-exchange","fa-cloud-download","fa-cloud-upload","fa-user-md","fa-stethoscope","fa-suitcase","fa-bell-o","fa-coffee","fa-cutlery","fa-file-text-o","fa-building-o","fa-hospital-o","fa-ambulance","fa-medkit","fa-fighter-jet","fa-beer","fa-h-square","fa-plus-square","fa-angle-double-left","fa-angle-double-right","fa-angle-double-up","fa-angle-double-down","fa-angle-left","fa-angle-right","fa-angle-up","fa-angle-down","fa-desktop","fa-laptop","fa-tablet","fa-mobile","fa-circle-o","fa-quote-left","fa-quote-right","fa-spinner","fa-circle","fa-reply","fa-github-alt","fa-folder-o","fa-folder-open-o","fa-smile-o","fa-frown-o","fa-meh-o","fa-gamepad","fa-keyboard-o","fa-flag-o","fa-flag-checkered","fa-terminal","fa-code","fa-reply-all","fa-star-half-o","fa-location-arrow","fa-crop","fa-code-fork","fa-chain-broken","fa-question","fa-info","fa-exclamation","fa-superscript","fa-subscript","fa-eraser","fa-puzzle-piece","fa-microphone","fa-microphone-slash","fa-shield","fa-calendar-o","fa-fire-extinguisher","fa-rocket","fa-maxcdn","fa-chevron-circle-left","fa-chevron-circle-right","fa-chevron-circle-up","fa-chevron-circle-down","fa-html5","fa-css3","fa-anchor","fa-unlock-alt","fa-bullseye","fa-ellipsis-h","fa-ellipsis-v","fa-rss-square","fa-play-circle","fa-ticket","fa-minus-square","fa-minus-square-o","fa-level-up","fa-level-down","fa-check-square","fa-pencil-square","fa-external-link-square","fa-share-square","fa-compass","fa-caret-square-o-down","fa-caret-square-o-up","fa-caret-square-o-right","fa-eur","fa-gbp","fa-usd","fa-inr","fa-jpy","fa-rub","fa-krw","fa-btc","fa-file","fa-file-text","fa-sort-alpha-asc","fa-sort-alpha-desc","fa-sort-amount-asc","fa-sort-amount-desc","fa-sort-numeric-asc","fa-sort-numeric-desc","fa-thumbs-up","fa-thumbs-down","fa-youtube-square","fa-youtube","fa-xing","fa-xing-square","fa-youtube-play","fa-dropbox","fa-stack-overflow","fa-instagram","fa-flickr","fa-adn","fa-bitbucket","fa-bitbucket-square","fa-tumblr","fa-tumblr-square","fa-long-arrow-down","fa-long-arrow-up","fa-long-arrow-left","fa-long-arrow-right","fa-apple","fa-windows","fa-android","fa-linux","fa-dribbble","fa-skype","fa-foursquare","fa-trello","fa-female","fa-male","fa-gratipay","fa-sun-o","fa-moon-o","fa-archive","fa-bug","fa-vk","fa-weibo","fa-renren","fa-pagelines","fa-stack-exchange","fa-arrow-circle-o-right","fa-arrow-circle-o-left","fa-caret-square-o-left","fa-dot-circle-o","fa-wheelchair","fa-vimeo-square","fa-try","fa-plus-square-o","fa-space-shuttle","fa-slack","fa-envelope-square","fa-wordpress","fa-openid","fa-university","fa-graduation-cap","fa-yahoo","fa-google","fa-reddit","fa-reddit-square","fa-stumbleupon-circle","fa-stumbleupon","fa-delicious","fa-digg","fa-pied-piper","fa-pied-piper-alt","fa-drupal","fa-joomla","fa-language","fa-fax","fa-building","fa-child","fa-paw","fa-spoon","fa-cube","fa-cubes","fa-behance","fa-behance-square","fa-steam","fa-steam-square","fa-recycle","fa-car","fa-taxi","fa-tree","fa-spotify","fa-deviantart","fa-soundcloud","fa-database","fa-file-pdf-o","fa-file-word-o","fa-file-excel-o","fa-file-powerpoint-o","fa-file-image-o","fa-file-archive-o","fa-file-audio-o","fa-file-video-o","fa-file-code-o","fa-vine","fa-codepen","fa-jsfiddle","fa-life-ring","fa-circle-o-notch","fa-rebel","fa-empire","fa-git-square","fa-git","fa-hacker-news","fa-tencent-weibo","fa-qq","fa-weixin","fa-paper-plane","fa-paper-plane-o","fa-history","fa-circle-thin","fa-header","fa-paragraph","fa-sliders","fa-share-alt","fa-share-alt-square","fa-bomb","fa-futbol-o","fa-tty","fa-binoculars","fa-plug","fa-slideshare","fa-twitch","fa-yelp","fa-newspaper-o","fa-wifi","fa-calculator","fa-paypal","fa-google-wallet","fa-cc-visa","fa-cc-mastercard","fa-cc-discover","fa-cc-amex","fa-cc-paypal","fa-cc-stripe","fa-bell-slash","fa-bell-slash-o","fa-trash","fa-copyright","fa-at","fa-eyedropper","fa-paint-brush","fa-birthday-cake","fa-area-chart","fa-pie-chart","fa-line-chart","fa-lastfm","fa-lastfm-square","fa-toggle-off","fa-toggle-on","fa-bicycle","fa-bus","fa-ioxhost","fa-angellist","fa-cc","fa-ils","fa-meanpath","fa-buysellads","fa-connectdevelop","fa-dashcube","fa-forumbee","fa-leanpub","fa-sellsy","fa-shirtsinbulk","fa-simplybuilt","fa-skyatlas","fa-cart-plus","fa-cart-arrow-down","fa-diamond","fa-ship","fa-user-secret","fa-motorcycle","fa-street-view","fa-heartbeat","fa-venus","fa-mars","fa-mercury","fa-transgender","fa-transgender-alt","fa-venus-double","fa-mars-double","fa-venus-mars","fa-mars-stroke","fa-mars-stroke-v","fa-mars-stroke-h","fa-neuter","fa-genderless","fa-facebook-official","fa-pinterest-p","fa-whatsapp","fa-server","fa-user-plus","fa-user-times","fa-bed","fa-viacoin","fa-train","fa-subway","fa-medium","fa-y-combinator","fa-optin-monster","fa-opencart","fa-expeditedssl","fa-battery-full","fa-battery-three-quarters","fa-battery-half","fa-battery-quarter","fa-battery-empty","fa-mouse-pointer","fa-i-cursor","fa-object-group","fa-object-ungroup","fa-sticky-note","fa-sticky-note-o","fa-cc-jcb","fa-cc-diners-club","fa-clone","fa-balance-scale","fa-hourglass-o","fa-hourglass-start","fa-hourglass-half","fa-hourglass-end","fa-hourglass","fa-hand-rock-o","fa-hand-paper-o","fa-hand-scissors-o","fa-hand-lizard-o","fa-hand-spock-o","fa-hand-pointer-o","fa-hand-peace-o","fa-trademark","fa-registered","fa-creative-commons","fa-gg","fa-gg-circle","fa-tripadvisor","fa-odnoklassniki","fa-odnoklassniki-square","fa-get-pocket","fa-wikipedia-w","fa-safari","fa-chrome","fa-firefox","fa-opera","fa-internet-explorer","fa-television","fa-contao","fa-500px","fa-amazon","fa-calendar-plus-o","fa-calendar-minus-o","fa-calendar-times-o","fa-calendar-check-o","fa-industry","fa-map-pin","fa-map-signs","fa-map-o","fa-map","fa-commenting","fa-commenting-o","fa-houzz","fa-vimeo","fa-black-tie","fa-fonticons","tpl","matches_1","tplField","_args","sortCaseSensitive","oFxNcL","oFyNcL","sre","dre","ore","xN","yN","xD","yD","cLoc","numS","parseFloat","_naturalSort","sortBy","lVal","rVal","d3Ascending","def","location","search","paramParts","decodeURIComponent","searchStr","pos","subjectString","_tagName","_ns","tagName","selectors","referenceNode","refIdx","parts","classParts","package","path","widgetID","memberWidgetID","_sources","scope","propParts","testScope","cache","versionString","_sp","major","minor","patch","d3Aggr","median","deviation","lastFoundFormat","Field","_children","_owner","label","Utility.checksum","mask","typeTransformer","maskTransformer","formatter","formatTransformer","cloneProp","d3Format","asDefault","fieldsArr","label_default","Grid","dataChecksum","_data","_dataChecksums","_dataChecksum","_dataVersion","fields","resetColumns","legacyColumns","legacyData","_clone","schema","fieldByLabel","ignoreCase","_dataCalcChecksum","parsedData","cell","formattedData","fieldsChecksum","fieldsArr_1","_row","col","_idx","columnData","_col","grid","hipieMappings","missingDataString","mappedColumns","hasRollup","mapping","mappedColumn","groupby","hasFunction","function","leaves","param1","param2","legacyView","LegacyView","nestView","columnIndicies","RollupView","rollupView","rollupFunc","aggregateView","aggrType","aggrColumn","aggrDeltaColumn","aggregate","colIdx_1","deltaIdx_1","_nest","_rollup","pivot","filterIdx","analyse","isBoolean","typeTest","isNumber","isString","isUSState","isDateTime","isDateTimeFormat","isDate","isDateFormat","isTime","isTimeFormat","jsonObj","colIdx","json","temp_1","d3CsvFormatRows","Utility.removeHTMLFromString","d3CsvParse","d3TsvParse","d3TsvFormatRows","fieldsOrig","_grid","rawData","_formattedDataChecksum","_formattedData","_parsedDataChecksum","_parsedData","_whichData","opts","parsed","formatted","_columnIndicies","_nestChecksum","nest_1","d3Map","_walkData","prevRow","entry","cells","dateTimeFormats","dateFormats","timeFormats","formatPicker","d3TimeParse","styleInject","css","ref","insertAt","head","getElementsByTagName","styleSheet","cssText","createTextNode","g_fontSizeContext","g_fontSizeContextCache","Widget","_isRootNode","_db","_dataMeta","_appData","_prevNow","lazyRender","debouncedCallback","render","_idSeed","_pos","_size","height","_widgetScale","_visible","_target","_placeholderElement","_parentWidget","_element","_renderCount","g_all","__hpcc_theme","importJSON","export","leakCheck","newNode","watchArray","destructObserver","MutationObserver","mutations","leaks","mutation","removedNodes","disconnect","pNode","observe","childList","renderCount","columnIdx","cellIdxFunc","defValue","cellFunc","cloneData","flattenData","rowIdx","newItem","rowToObj","__lparam","_overlayElement","resize","visible","display","_display","dataMeta","appData","calcSnap","snapSize","snap","gridSize","gridSize2","toWidget","parentOverlay","locateParentWidget","locateSVGNode","locateOverlayNode","locateAncestor","locateClosestAncestor","classIDArr","getAbsolutePos","ctm","getCTM","hasOverlay","syncOverlay","newPos","_prevPos","xScale","yScale","getBBox","refresh","textSize","_text","fontName","fontSize","bold","fontSizeCalc","getContext","hash","font","measureText","getElementById","HTMLElement","SVGElement","isDOMHidden","offsetParent","hasSize","publishedWidgets","_tag","context2","preUpdate","postUpdate","renderCount_1","renderPromise","animationFrameRender","_domNode","origClassed","str_obj","HTMLWidget","_drawStartPos","_boundingBox","calcFrameWidth","calcWidth","calcFrameHeight","calcHeight","hasHScroll","hasVScroll","clientWidth","clientHeight","firstElementChild","Element","reposition","overlay","observer","_mutation","attributes","bbox","CanvasWidget","resetContext","_ctx","_version","tem","ua","ieVersion","userAgent","isIE","svgMarkerGlitch","_scrollBarWidth","WebKitMutationObserver","MozMutationObserver","listeners","MutationListener","callback2","handleEvent","evt","addedNodes","attributeName","attributeNamespace","oldValue","config","characterData","outer","visibility","msOverflowStyle","widthNoScroll","offsetWidth","overflow","inner","widthWithScroll","Transition$1","_widget","_duration","_delay","_ease","d3CubicInOut","lerp","intersectLineLine","a1","a2","points","uaT","ubT","uB","ub","SVGGlowFilter","feOffset","feColorMatrix","rgb2ColorMatrix","feGaussianBlur","feBlend","d3Rgb","SVGWidget","_enableOverflow","_popMarkersDebounced","_popMarkers","move","transitionDuration","enableOverflow","_parentRelativeDiv","_parentOverlay","svgDefs","_svgSelectionFilter","selectionGlowColor","transX","transY","getOffsetPos","containsRect","containsCircle","radius","center","distance","intersection","pointA","pointB","intersectRect","TL","TR","BR","BL","intersectRectRect","rect1","rect2","intersectCircle","deter","u1","u2","intersectCircleLine","serializeSVG","origSvg","cloneSVG","origNodes","compStyles","i_1","styleName","stylePriority","getPropertyPriority","XMLSerializer","serializeToString","toBlob","rasterize","extraWidgets","sizes","reduce","prev","curr","canvas","ctx","fillStyle","fillRect","xPos","all","image","Image","onerror","onload","drawImage","src","then","downloadSVG","downloadPNG","_pushMarkers","_fixIEMarkers","Text","textParts","lineHeight","widths","line","fontFamily","anchor","_prevHash","_textElement","dblclick","bbox_1","rotation","width_1","textLine","_d","colorFill","clipPos","substr","FAChar","char","colorbrewer$1","colorbrewer","YlGn","3","4","5","6","7","8","9","YlGnBu","GnBu","BuGn","PuBuGn","PuBu","BuPu","RdPu","PuRd","OrRd","YlOrRd","YlOrBr","Purples","Blues","Greens","Oranges","Reds","Greys","PuOr","10","11","BrBG","PRGn","PiYG","RdBu","RdGy","RdYlBu","Spectral","RdYlGn","Accent","Dark2","Paired","12","Pastel1","Pastel2","Set1","Set2","Set3","module","implicit","ordinal","domain","unknown","band","bandwidth","ordinalRange","paddingInner","paddingOuter","rescale","rangeRound","constant$3","number$1","unit","deinterpolateLinear","bimap","deinterpolate","polymap","bisect","clamp","continuous","piecewise","output","input","interpolateValue","deinterpolateClamp","invert","reinterpolateClamp","linearish","tickFormat","nice","x0","x1","pow10","powp","base","logp","log10","log2","reflect","quantize","invertExtent","durationSecond","durationHour","durationDay","durationMonth","durationYear","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","tickIntervals","tickInterval","d3SchemeCategory10","d3SchemeCategory20b","d3SchemeCategory20c","d3SchemeCategory20","cubehelix$3","interpolateCubehelixLong","warm","cool","rainbow","ramp","d3InterpolateViridis","magma","inferno","plasma","sequential","interpolator","d3Schemes","category10","category20","category20b","category20c","m_colorbrewer","_colorbrewer.default","_colorbrewer","m_d3","Viridis","Magma","d3InterpolateMagma","Inferno","d3InterpolateInferno","Plasma","d3InterpolatePlasma","d3Ordinal","brewerOrdinal","hpccOrdinal","flatuiSchemes","FlatUI_default","FlatUI_American","FlatUI_Aussie","FlatUI_British","FlatUI_Canadian","FlatUI_Chinese","FlatUI_Dutch","FlatUI_French","FlatUI_German","FlatUI_Indian","FlatUI_Russian","FlatUI_Spanish","FlatUI_Swedish","FlatUI_Turkish","flatuiOrdinal","ordinalCache","fetchOrdinalItem","palette_ordinal","d3ScaleOrdinal","newColors","_item","largestPalette","newID","cloneNotExists","switch","_colors","rainbowCache","fetchRainbowItem","steps","palette_rainbow","_steps","_custom","subPaletteSize","prevColor","scale_1","d3ScaleLinear","d3InterpolateLab","d3ScaleQuantize","d3ScaleSequential","low","high","RdWhGr","textColor","backgroundColor","d3RGB","ordinalDivID","brewerDivID","customDivID","customArr","palette","Shape","shape","getShapeElementTag","element2","_tooltipElement","colorStroke","tooltip","cornerRadius","pinPath","_shape","arrow_h","arrowHeight","arrow_w","arrowWidth","arrow_b","_origRadius","Icon","_shapeWidget","_faChar","diameter","_defs","_root","el","paddingPercent","imageUrl","shape_colorFill_exists","image_colorFill_exists","image_colorFill","shape_colorFill","Entity","_annotationLocal","d3Local","_background_widget","_icon_widget","_title_widget","_desc_widget","_annotation_widgets","getAnnotationsBBox","_element_background","_element_icon","_element_title","_element_desc","_element_anno","shape_colorStroke","descriptionFontSize","annoXPos","annotations","annotationIcons","anno","annotationDiameter","annotationPaddingPercent","faChar","annoDiam","annotationSpacing","moveAnnotations","x_offset","y_offset","EntityCard","icon_bbox","title_bbox","desc_bbox","anno_w","anno_h","anno_gap","_background_h","fixedHeight","_background_w","fixedWidth","EntityPin","is_hovering","titleOnlyShowOnHover","iconOnlyShowOnHover","descriptionOnlyShowOnHover","_anno_h","annotationOnlyShowOnHover","background_bbox","calcBackgroundBBox","icon_y","title_y","desc_y","anno_y","remove_padding","EntityRect","icon","annotations_bbox","iconWidth","titleX","titleW","EntityRectList","_enityRectLocal","Utility.SimpleSelectionMixin","entityRectData","idxColumns","idxs","idxColumn","origRow","margin","titleColumn","entityRect","borderColor","backgroundShape","backgroundColorFill","backgroundColorStroke","iconColor","iconDiameter","iconPaddingPercent","title","titleFontSize","titleColor","descriptionColor","__inputs","tslib_1.__decorate","inputType","TextBox","paddingLeft","paddingRight","paddingTop","paddingBottom","getTextX","textBBox","fixedSize","colorFill_default","colorFill_exists","EntityVertex","_textbox_widget","_element_textbox","iconColorFill","iconColorStroke","text_bbox","_icon_x","_icon_y","iconAnchor","img","_imgElement","styleImageElement","sizing","lockAspectRatio","customWidth","customHeight","alignment","List","_listWidgets","lineEnter","newTextBox","listHeight","listWidth","yPos","Menu","_icon","_list","hideMenu","_open","toggleMenu","showMenu","preShowMenu","menuBBox","postHideMenu","ProgressBar","_running","calcCSS","halflife","perc","bar_size","bar_color","blur_opacity","blurOpacity","blur_opacity_hex","blur_color","blurColor","blur_size","blurSize","blur_fx","blurBar","_elementID","updateProgress","halfLife","finish","_style","decay","_remaining","nopropagation","stopImmediatePropagation","noevent","preventDefault","dragDisable","view","__noselect","MozUserSelect","yesdrag","noclick","constant$4","DragEvent","subject","defaultFilter","button","defaultContainer","defaultSubject","defaultTouchable","d3Drag","mousedownx","mousedowny","mousemoving","touchending","container","touchable","gestures","clickDistance2","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","nodrag","sublisteners","clickDistance","Surface","_iconWidget","_containerWidget","_titleRectWidget","_textWidget","_menuWidget","content","_surfaceButtons","_clipRect","showTitle","showIcon","buttonContainer","icon_shape","surfaceButtons","buttonAnnotations","buttonClientHeight","offsetHeight","iconClientSize","textClientSize","menuClientSize","_titleRegionHeight","titleRegionHeight","yTitle","titleTextHeight","titleTextWidth","topMargin","leftMargin","menuPadding","buttonGutter","showContent","xOffset_1","yOffset_1","hits","i2","i3","nearest","_origMenuParam","menu","_origShowContent","ResizeSurface","handleWidth","handles","loc","d3Dispatch","allowResize","_dragHandlePos","_dragStartPos","_dragStartSize","_prevPosSize","_textPosSize","_iconPosSize","_dx","_dy","posSize","updateHandles","sizeHandles","sizeHandlesEnter","constant$5","BrushEvent","noevent$1","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","xy","XY","cursors","nw","ne","se","sw","flipX","flipY","signsX","signsY","defaultExtent","__brush","d3Brush","brush","dim","handleSize","initialize","handle","redraw","started","emitter","Emitter","n0","n1","e0","e1","s0","s1","moving","lockX","lockY","mode","metaKey","altKey","signX","signY","shifting","shiftKey","point0","emit","moved","ended","keyCode","point1","dragEnable","selection0","selection1","starting","constant$6","ZoomEvent","Transform","applyX","applyY","invertX","invertY","rescaleX","rescaleY","__zoom","noevent$2","defaultTransform","defaultWheelDelta","deltaY","deltaMode","defaultConstrain","translateExtent","dx0","dx1","dy0","dy1","d3Zoom","touchstarting","constrain","wheelDelta","scaleExtent","touchDelay","wheelDelay","zoom","wheeled","dblclicked","centroid","Gesture","wheel","y0","k1","touch0","touch1","l0","l1","dp","dl","collection","scaleBy","scaleTo","translateBy","translateTo","Button","_enabled","mouseMove","enabled","StickyButton","ToggleButton","Spacer","vline","IconBar","_buttons","_divIconBar","buttons","hiddenButtons","icons","SelectionButton","sb","SelectionBar","TitleBar","_divTitle","_divTitleIcon","titleIconFont","titleIconFontSize","_divTitleText","titleFont","_divDescriptionText","descriptionFont","titleIcon","description_exists","SVGZoomWidget","_zoomScale","_zoomTranslate","_mouseCapture","_mouseDownMode","_iconBar","zoomToFit","zoomPlus","zoomMinus","_currZoom","onZoomed","getScreenBBox","targetel","tbbox","zoomScale","zoomTranslate","zoomExtent","zoomTo","zoomDuration","d3ZoomIdentity","centerOnBBox","zoomToBBox","widthOnly","newScale","zoomToFitLimit_exists","zoomToFitLimit","zoomToScale","_renderElement","zoomToWidth","_zoomG","_zoomGrab","_brush","_prevZoomable","zoomable","showToolbar","WidgetArray","values0","values1","histogram","xz","tz","shift","bin","bins","thresholds","ts","arrays","merged","pairs","indexes","permutes","samples","logs","pows","pointish","quantiles","timeMonth","timeWeek","timeHour","timeMinute","timeSecond","timeMillisecond","utcWeek","utcSecond","utcMillisecond","xi","xj","random"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow;\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, delay);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clockNow, interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: function() {\n    return this.rgb().hex();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: function() {\n    return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\n// https://beta.observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\nimport transition_end from \"./end\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i(t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i(t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i(t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","export function expIn(t) {\n  return Math.pow(2, 10 * t - 10);\n}\n\nexport function expOut(t) {\n  return 1 - Math.pow(2, -10 * t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {Transition} from \"./transition/index\";\nimport {SCHEDULED} from \"./transition/schedule\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(array, f) {\n  if (f == null) f = pair;\n  var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n  while (i < n) pairs[i] = f(p, p = array[++i]);\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = 0,\n      i = -1,\n      mean = 0,\n      value,\n      delta,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  if (m > 1) return sum / (m - 1);\n}\n","import variance from \"./variance\";\n\nexport default function(array, f) {\n  var v = variance(array, f);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return x;\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}\n","import ascending from \"./ascending\";\nimport number from \"./number\";\nimport quantile from \"./quantile\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      numbers = [];\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  return quantile(numbers.sort(ascending), 0.5);\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n","import min from \"./min\";\n\nexport default function(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows\n  };\n}\n","import dsv from \"./dsv\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\n","import dsv from \"./dsv\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTrim from \"./formatTrim\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(new Date(+start)); while (offseti(start, step), floori(start), start < stop)\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) while (--step >= 0) while (offseti(date, 1), !test(date)) {} // eslint-disable-line no-empty\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import { classID2Meta, ClassMeta } from \"@hpcc-js/util\";\r\n\r\nfunction applyMixins(derivedCtor: any, baseCtors: any[]) {\r\n    baseCtors.forEach(baseCtor => {\r\n        Object.getOwnPropertyNames(baseCtor).forEach(name => {\r\n            if (name !== \"constructor\") {\r\n                const descriptor = Object.getOwnPropertyDescriptor(baseCtor, name);\r\n                Object.defineProperty(derivedCtor, name, descriptor);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nexport class Class {\r\n    _class: string;\r\n\r\n    class(): string;\r\n    class(_: string): this;\r\n    class(_?: string): string | this {\r\n        if (!arguments.length) return this._class;\r\n        this._class = _;\r\n        return this;\r\n    }\r\n\r\n    classID() {\r\n        return this._class.split(\" \").pop();\r\n    }\r\n\r\n    classMeta(): ClassMeta {\r\n        return classID2Meta(this.classID());\r\n    }\r\n\r\n    implements(source) {\r\n        applyMixins(this, [source]);\r\n    }\r\n\r\n    mixin(mixinClass) {\r\n        this.implements(mixinClass.prototype);\r\n        //  Special case mixins  ---\r\n        if (mixinClass.prototype.hasOwnProperty(\"_class\")) {\r\n            this._class += \" \" + mixinClass.prototype._class.split(\" \").pop();\r\n        }\r\n    }\r\n\r\n    overrideMethod(methodID: string, newMethod: (...args: any[]) => any): this {\r\n        if (this[methodID] === undefined) {\r\n            throw new Error(\"Method:  \" + methodID + \" does not exist.\");\r\n        }\r\n        const origMethod = this[methodID];\r\n        this[methodID] = function () {\r\n            arguments[arguments.length] = origMethod;\r\n            arguments.length++;\r\n            return newMethod.apply(this, arguments);\r\n        };\r\n        return this;\r\n    }\r\n\r\n    cssTag(id: string): string {\r\n        return (\"\" + id).replace(/[^a-z0-9]/g, (s) => {\r\n            const c = s.charCodeAt(0);\r\n            if (c === 32) return \"-\";\r\n            if (c >= 65 && c <= 90) return \"_\" + s.toLowerCase();\r\n            return \"_0x\" + c.toString(16);\r\n        });\r\n    }\r\n}\r\nClass.prototype._class = \"common_Class\";\r\n","import { hashSum } from \"@hpcc-js/util\";\r\nimport { event as d3Event } from \"d3-selection\";\r\nimport { Class } from \"./Class\";\r\n\r\nconst GEN_PUB_STUBS: boolean = false;\r\n\r\nfunction deepEqual(a, b) {\r\n    if (a === b) return true;\r\n\r\n    const arrA = Array.isArray(a);\r\n    const arrB = Array.isArray(b);\r\n    let i;\r\n\r\n    if (arrA && arrB) {\r\n        if (a.length !== b.length) return false;\r\n        for (i = 0; i < a.length; i++)\r\n            if (!deepEqual(a[i], b[i])) return false;\r\n        return true;\r\n    }\r\n\r\n    // tslint:disable-next-line:triple-equals\r\n    if (arrA != arrB) return false;\r\n\r\n    if (a && b && typeof a === \"object\" && typeof b === \"object\") {\r\n        const keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) return false;\r\n\r\n        const dateA = a instanceof Date;\r\n        const dateB = b instanceof Date;\r\n        if (dateA && dateB) return a.getTime() === b.getTime();\r\n        // tslint:disable-next-line:triple-equals\r\n        if (dateA != dateB) return false;\r\n\r\n        const regexpA = a instanceof RegExp;\r\n        const regexpB = b instanceof RegExp;\r\n        if (regexpA && regexpB) return a.toString() === b.toString();\r\n        // tslint:disable-next-line:triple-equals\r\n        if (regexpA != regexpB) return false;\r\n\r\n        for (i = 0; i < keys.length; i++)\r\n            if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\r\n\r\n        for (i = 0; i < keys.length; i++)\r\n            if (!deepEqual(a[keys[i]], b[keys[i]])) return false;\r\n\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nconst __meta_ = \"__meta_\";\r\nconst __private_ = \"__private_\";\r\nconst __prop_ = \"_\";\r\nconst __prop_data_ = \"__prop_\";\r\nconst __default_ = \"__default_\";\r\n\r\nfunction isMeta(key) {\r\n    return key.indexOf(__meta_) === 0;\r\n}\r\n\r\nfunction isPrivate(obj, key) {\r\n    return obj[__private_ + key] || obj[__private_ + __meta_ + key];\r\n}\r\n\r\nexport interface IAutoExpand extends PropertyExt {\r\n    //  AutoExpand items may have \"incomplete\" instances while the user is editing them in the PropertyEditor\r\n    owner(): PropertyExt;\r\n    owner(_: PropertyExt): this;\r\n    valid(): boolean;\r\n}\r\n\r\nexport type TagTypes = \"Private\" | \"Shared\" | \"Basic\" | \"Intermediate\" | \"Advanced\" | \"Theme\" | \"Serial\";\r\nexport type PublishTypes = \"any\" | \"number\" | \"boolean\" | \"string\" | \"set\" | \"array\" | \"object\" | \"widget\" | \"widgetArray\" | \"propertyArray\" | \"html-color\" | \"proxy\";\r\nexport interface IPublishExt {\r\n    override?: boolean;\r\n    disable?: (w) => boolean;\r\n    validate?: (w) => boolean;\r\n    hidden?: (w) => boolean;\r\n    optional?: boolean;\r\n    tags?: TagTypes[];\r\n    autoExpand?: new () => IAutoExpand;\r\n    render?: boolean;\r\n    icons?: string[];\r\n    editor_input?: (context, widget, cell, param) => void;\r\n    saveButton?: string;\r\n    saveButtonID?: string;\r\n    number?: any;\r\n    reset?: boolean;\r\n    //  Amcharts - really needed?\r\n    min?: number;\r\n    max?: number;\r\n    step?: number;\r\n    inputType?: string;\r\n    internal?: boolean;\r\n    range?: { min: number, max: number, step: number };\r\n    multiline?: boolean;\r\n}\r\n\r\nexport class Meta {\r\n    id;\r\n    type: PublishTypes;\r\n    origDefaultValue;\r\n    defaultValue;\r\n    description;\r\n    set;\r\n    ext: IPublishExt;\r\n    checkedAssign;\r\n\r\n    constructor(id, defaultValue, type, description, set, ext?: IPublishExt) {\r\n        ext = ext || {};\r\n        this.id = id;\r\n        this.type = type;\r\n        this.origDefaultValue = defaultValue;\r\n        this.defaultValue = ext.optional && defaultValue === null ? undefined : defaultValue;\r\n        this.description = description;\r\n        this.set = set;\r\n        this.ext = ext;\r\n\r\n        switch (type) {\r\n            case \"any\":\r\n                this.checkedAssign = _ => _;\r\n                break;\r\n            case \"set\":\r\n                this.checkedAssign = function (_) {\r\n                    if ((window as any).__hpcc_debug) {\r\n                        const options = typeof set === \"function\" ? set.call(this) : set;\r\n                        if (options && options.length && options.indexOf(_) < 0) {\r\n                            console.error(\"Invalid value for '\" + this.classID() + \".\" + id + \"':  \" + _ + \" expected \" + JSON.stringify(options));\r\n                        }\r\n                    }\r\n                    return _;\r\n                };\r\n                break;\r\n            case \"html-color\":\r\n                this.checkedAssign = function (_) {\r\n                    if ((window as any).__hpcc_debug && _ && _ !== \"red\") {\r\n                        const litmus = \"red\";\r\n                        const d = document.createElement(\"div\");\r\n                        d.style.color = litmus;\r\n                        d.style.color = _;\r\n                        // Element's style.color will be reverted to litmus or set to \"\" if an invalid color is given\r\n                        if (d.style.color === litmus || d.style.color === \"\") {\r\n                            console.error(\"Invalid value for '\" + this.classID() + \".\" + id + \"':  \" + _ + \" expected \" + type);\r\n                        }\r\n                    }\r\n                    return _;\r\n                };\r\n                break;\r\n            case \"boolean\":\r\n                this.checkedAssign = function (_) {\r\n                    return typeof (_) === \"string\" && [\"false\", \"off\", \"0\"].indexOf(_.toLowerCase()) >= 0 ? false : Boolean(_);\r\n                };\r\n                break;\r\n            case \"number\":\r\n                this.checkedAssign = function (_) {\r\n                    return Number(_);\r\n                };\r\n                break;\r\n            case \"string\":\r\n                this.checkedAssign = function (_) {\r\n                    return String(_);\r\n                };\r\n                break;\r\n            case \"array\":\r\n                this.checkedAssign = function (_) {\r\n                    if (!(_ instanceof Array)) {\r\n                        console.error(\"Invalid value for '\" + this.classID() + \".\" + id + \"':  \" + _ + \" expected \" + type);\r\n                    }\r\n                    return _;\r\n                };\r\n                break;\r\n            case \"object\":\r\n                this.checkedAssign = function (_) {\r\n                    if (!(_ instanceof Object)) {\r\n                        console.error(\"Invalid value for '\" + this.classID() + \".\" + id + \"':  \" + _ + \" expected \" + type);\r\n                    }\r\n                    return _;\r\n                };\r\n                break;\r\n            case \"widget\":\r\n                this.checkedAssign = function (_) {\r\n                    if (!_._class || _._class.indexOf(\"common_PropertyExt\") < 0) {\r\n                        console.error(\"Invalid value for '\" + this.classID() + \".\" + id + \"':  \" + _ + \" expected \" + type);\r\n                    }\r\n                    return _;\r\n                };\r\n                break;\r\n            case \"widgetArray\":\r\n                this.checkedAssign = function (_) {\r\n                    if (_.some(function (row) { return (!row._class || row._class.indexOf(\"common_Widget\") < 0); })) {\r\n                        console.error(\"Invalid value for '\" + this.classID() + \".\" + id + \"':  \" + _ + \" expected \" + type);\r\n                    }\r\n                    return _;\r\n                };\r\n                break;\r\n            case \"propertyArray\":\r\n                this.checkedAssign = function (_) {\r\n                    if (_.some(function (row) { return !row.publishedProperties; })) {\r\n                        console.log(\"Invalid value for '\" + this.classID() + \".\" + id + \"':  \" + _ + \" expected \" + type);\r\n                    }\r\n                    return _;\r\n                };\r\n                break;\r\n            default:\r\n                this.checkedAssign = function (_) {\r\n                    if ((window as any).__hpcc_debug) {\r\n                        console.error(\"Unchecked property type for '\" + this.classID() + \".\" + id + \"':  \" + _ + \" expected \" + type);\r\n                    }\r\n                    return _;\r\n                };\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nclass MetaProxy {\r\n    id: string;\r\n    type;\r\n    proxy;\r\n    method;\r\n    defaultValue;\r\n    ext: IPublishExt;\r\n\r\n    constructor(id: string, proxy, method, defaultValue, ext?: IPublishExt) {\r\n        this.id = id;\r\n        this.type = \"proxy\";\r\n        this.proxy = proxy;\r\n        this.method = method;\r\n        this.defaultValue = defaultValue;\r\n        this.ext = ext || {};\r\n    }\r\n}\r\n\r\nfunction isMetaProxy(meta: Meta | MetaProxy): meta is MetaProxy {\r\n    return meta.type === \"proxy\";\r\n}\r\n\r\nexport interface IMonitorHandle {\r\n    remove(): void;\r\n}\r\n\r\nlet propExtID = 0;\r\nexport class PropertyExt extends Class {\r\n    protected _id: string;\r\n    private _watchArrIdx: number;\r\n    private _watchArr: any;\r\n    private _publishedProperties: Meta[] = [];\r\n\r\n    constructor() {\r\n        super();\r\n        this.calcPublishedProperties();\r\n\r\n        this._id = \"_pe\" + (++propExtID);\r\n        this._watchArrIdx = 0;\r\n        this._watchArr = {};\r\n\r\n        this.publishedProperties(true).forEach(function (meta) {\r\n            switch (meta.type) {\r\n                case \"array\":\r\n                case \"widgetArray\":\r\n                case \"propertyArray\":\r\n                    this[meta.id + \"_reset\"]();\r\n                    break;\r\n            }\r\n        }, this);\r\n    }\r\n\r\n    id(): string;\r\n    id(_: string): this;\r\n    id(_?): string | this {\r\n        if (!arguments.length) return this._id;\r\n        this._id = _;\r\n        return this;\r\n    }\r\n\r\n    // Publish Properties  ---\r\n    calcPublishedProperties(includePrivate = false, expandProxies = false): void {\r\n        this._publishedProperties = [];\r\n        const protoStack = [];\r\n        let __proto__ = Object.getPrototypeOf(this);\r\n        while (__proto__) {\r\n            if (__proto__ === PropertyExt.prototype) {\r\n                break;\r\n            }\r\n            protoStack.unshift(__proto__);\r\n            __proto__ = Object.getPrototypeOf(__proto__);\r\n        }\r\n        for (__proto__ of protoStack) {\r\n            for (const key in __proto__) {\r\n                if (__proto__.hasOwnProperty(key)) {\r\n                    if (isMeta(key)) {\r\n                        this._publishedProperties.push(this[key]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    resolvePublishedProxy(meta: Meta | MetaProxy) {\r\n        let item = this;\r\n        while (meta instanceof MetaProxy) {\r\n            item = item[meta.proxy];\r\n            meta = item.publishedProperty(meta.method);\r\n        }\r\n        return meta;\r\n    }\r\n\r\n    publishedProperties(includePrivate = false, expandProxies = false): Meta[] {\r\n        return this._publishedProperties.filter(meta => includePrivate || !isPrivate(this, meta.id)).map(meta => {\r\n            if (expandProxies && isMetaProxy(meta)) {\r\n                const selfProp = meta;\r\n                let item = this;\r\n                while (meta.type === \"proxy\") {\r\n                    item = item[(meta as any).proxy];\r\n                    meta = item.publishedProperty((meta as any).method);\r\n                }\r\n                if (meta.id !== selfProp.id) {\r\n                    meta = JSON.parse(JSON.stringify(meta));  //  Clone meta so we can safely replace the id.\r\n                    meta.id = selfProp.id;\r\n                }\r\n            }\r\n            return meta;\r\n        });\r\n    }\r\n\r\n    widgetWalker(visitor: (item: PropertyExt) => void) {\r\n        visitor(this);\r\n        this.publishedProperties(false, true).forEach(publishItem => {\r\n            switch (publishItem.type) {\r\n                case \"widget\":\r\n                    const widget: PropertyExt = this[publishItem.id]();\r\n                    if (widget) {\r\n                        widget.widgetWalker(visitor);\r\n                    }\r\n                    break;\r\n                case \"widgetArray\":\r\n                case \"propertyArray\":\r\n                    const widgets: PropertyExt[] = this[publishItem.id]();\r\n                    if (widgets) {\r\n                        widgets.forEach((widget) => {\r\n                            widget.widgetWalker(visitor);\r\n                        });\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n\r\n    propertyWalker(visitor: (context: this, publishItem: Meta) => void, filter?: (context: this, publishItem: Meta) => boolean) {\r\n        const context = this;\r\n        this.publishedProperties(false, true).forEach(function (publishItem) {\r\n            if (typeof (filter) !== \"function\" || filter(context, publishItem)) {\r\n                visitor(context, publishItem);\r\n            }\r\n        });\r\n    }\r\n\r\n    serialize(): { __class, [id: string]: any } {\r\n        const retVal = {\r\n            __class: this.classID()\r\n        };\r\n        for (const prop of this.publishedProperties()) {\r\n            if (prop.id === \"fields\") continue;\r\n            const val = (this as any)[prop.id]();\r\n            switch (prop.type) {\r\n                case \"propertyArray\":\r\n                    if ((this as any)[`${prop.id}_modified`]()) {\r\n                    }\r\n                    const serialization = val.filter(item => item.valid()).map(item => item.serialize()).filter(item => item !== undefined);\r\n                    if (serialization) {\r\n                        retVal[prop.id] = serialization;\r\n                    }\r\n                    break;\r\n                case \"widget\":\r\n                    retVal[prop.id] = val.serialize();\r\n                    break;\r\n                default:\r\n                    if ((this as any)[`${prop.id}_modified`]()) {\r\n                        if (!(val instanceof Object)) {\r\n                            retVal[prop.id] = val;\r\n                        }\r\n                    }\r\n            }\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    deserialize(props?: { __class, [id: string]: any }): this {\r\n        if (!props) return this;\r\n        for (const prop of this.publishedProperties()) {\r\n            const val = props[prop.id];\r\n            if (val !== undefined) {\r\n                switch (prop.type) {\r\n                    case \"propertyArray\":\r\n                        if (prop.ext && prop.ext.autoExpand) {\r\n                            this[`${prop.id}`](val.map(item => new prop.ext.autoExpand().deserialize(item)));\r\n                        }\r\n                        break;\r\n                    case \"widget\":\r\n                        const currVal = this[`${prop.id}`]();\r\n                        if (currVal.classID() === val.__class) {\r\n                            currVal.deserialize(val);\r\n                        } else {\r\n                            console.log(\"Dynamic class initialization not supported.\");\r\n                        }\r\n                        break;\r\n                    default:\r\n                        this[`${prop.id}`](val);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    publishedProperty(id) {\r\n        return this[__meta_ + id];\r\n    }\r\n\r\n    publishedModified() {\r\n        return this.publishedProperties().some(function (prop) {\r\n            return this[prop.id + \"_modified\"]();\r\n        }, this);\r\n    }\r\n\r\n    publishReset(privateArr?, exceptionsArr?) {\r\n        privateArr = (privateArr || []).map(function (id) { return __meta_ + id; });\r\n        exceptionsArr = (exceptionsArr || []).map(function (id) { return __meta_ + id; });\r\n        for (const key in this) {\r\n            if (isMeta(key)) {\r\n                const isPrivateItem = !privateArr.length || (privateArr.length && privateArr.indexOf(key) >= 0);\r\n                const isException = exceptionsArr.indexOf(key) >= 0;\r\n                if (isPrivateItem && !isException) {\r\n                    this[__private_ + key] = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    static prevClassID: string = \"\";\r\n    publish(id: string, defaultValue, type?: PublishTypes, description?: string, set?: string[] | (() => string[] | Array<{ value: string, text: string }>) | IPublishExt, ext: IPublishExt = {}): void {\r\n        if (GEN_PUB_STUBS) {\r\n            if (PropertyExt.prevClassID !== (this as any).constructor.name) {\r\n                PropertyExt.prevClassID = (this as any).constructor.name;\r\n                console.log(`//  ${PropertyExt.prevClassID}  ---`);\r\n            }\r\n            let jsType: string = type;\r\n            switch (type) {\r\n                case \"set\":\r\n                case \"html-color\":\r\n                    jsType = \"string\";\r\n                    break;\r\n                case \"array\":\r\n                case \"widgetArray\":\r\n                case \"propertyArray\":\r\n                    jsType = \"any[]\";\r\n                    break;\r\n            }\r\n            console.log(`    ${id}(): ${jsType};\r\n    ${id}(_: ${jsType}): this;\r\n    ${id}_exists(): boolean;`);\r\n        }\r\n        if (id.indexOf(\"_\") === 0) {\r\n            id = id.slice(1);\r\n        }\r\n        if (this[__meta_ + id] !== undefined && !ext.override) {\r\n            throw new Error(id + \" is already published.\");\r\n        }\r\n        const meta = this[__meta_ + id] = new Meta(id, defaultValue, type, description, set, ext);\r\n        if (meta.ext.internal) {\r\n            this[__private_ + id] = true;\r\n        }\r\n        Object.defineProperty(this, __prop_ + id, {\r\n            set(_) {\r\n                if (_ === undefined) {\r\n                    _ = null;\r\n                } else if (_ === \"\" && meta.ext.optional) {\r\n                    _ = null;\r\n                } else if (_ !== null) {\r\n                    _ = meta.checkedAssign.call(this, _);\r\n                }\r\n                this.broadcast(id, _, this[__prop_data_ + id]);\r\n                if (_ === null) {\r\n                    delete this[__prop_data_ + id];\r\n                } else {\r\n                    this[__prop_data_ + id] = _;\r\n                }\r\n            },\r\n\r\n            get() {\r\n                if (this[id + \"_disabled\"]()) return this[id + \"_default\"]();\r\n                return this[__prop_data_ + id] !== undefined ? this[__prop_data_ + id] : this[id + \"_default\"]();\r\n            },\r\n            configurable: true\r\n        });\r\n        if (this[id]) {\r\n        } else {\r\n            if (type === \"propertyArray\") {\r\n                this[id] = function (_) {\r\n                    if (!arguments.length) return this[__prop_ + id];\r\n                    _.forEach(item => item.owner(this));\r\n                    this[__prop_ + id] = _;\r\n                    return this;\r\n                };\r\n            } else {\r\n                this[id] = function (_) {\r\n                    if (!arguments.length) return this[__prop_ + id];\r\n                    this[__prop_ + id] = _;\r\n                    return this;\r\n                };\r\n            }\r\n        }\r\n        this[id + \"_disabled\"] = function () {\r\n            return ext && ext.disable ? !!ext.disable(this) : false;\r\n        };\r\n        this[id + \"_hidden\"] = function () {\r\n            return ext && ext.hidden ? !!ext.hidden(this) : false;\r\n        };\r\n        this[id + \"_valid\"] = function () {\r\n            return ext && ext.validate ? this[id + \"_disabled\"]() || (ext.optional && !this[id + \"_exists\"]()) || (ext.autoExpand && !this.valid()) || !!ext.validate(this) : true;\r\n        };\r\n        this[id + \"_modified\"] = function () {\r\n            if (type === \"propertyArray\") {\r\n                return this[__prop_data_ + id] && (this[__prop_data_ + id].some(item => item.valid()));\r\n            }\r\n            return this[__prop_data_ + id] !== undefined;\r\n        };\r\n        this[id + \"_exists\"] = function () {\r\n            if (this[__prop_data_ + id] != null && !(this[__prop_data_ + id] === \"\" && ext.optional === true)) return true;\r\n            if (this[id + \"_default\"]() != null && !(this[id + \"_default\"]() === \"\" && ext.optional === true)) return true;\r\n            return false;\r\n        };\r\n        this[id + \"_default\"] = function (_) {\r\n            if (!arguments.length) return this[__default_ + id] !== undefined ? this[__default_ + id] : meta.defaultValue;\r\n            if (_ === \"\") {\r\n                _ = null;\r\n            }\r\n            if (_ === null) {\r\n                delete this[__default_ + id];\r\n            } else {\r\n                this[__default_ + id] = _;\r\n            }\r\n            return this;\r\n        };\r\n        this[id + \"_reset\"] = function () {\r\n            switch (type) {\r\n                case \"widget\":\r\n                    if (this[__prop_data_ + id]) {\r\n                        this[__prop_data_ + id].target(null);\r\n                    }\r\n                    break;\r\n                case \"widgetArray\":\r\n                    if (this[__prop_data_ + id]) {\r\n                        this[__prop_data_ + id].forEach(function (widget) {\r\n                            widget.target(null);\r\n                        });\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            switch (type) {\r\n                case \"array\":\r\n                case \"widgetArray\":\r\n                case \"propertyArray\":\r\n                    this[__default_ + id] = this[id + \"_default\"]().map(function (row) { return row; });\r\n                    break;\r\n            }\r\n            delete this[__prop_data_ + id];\r\n            return this;\r\n        };\r\n        this[id + \"_options\"] = function () {\r\n            if (typeof set === \"function\") {\r\n                const retVal = meta.ext.optional ? [null] : [];\r\n                return retVal.concat(set.apply(this, arguments));\r\n            }\r\n            return set;\r\n        };\r\n    }\r\n\r\n    publishWidget(prefix, WidgetType, id) {\r\n        for (const key in WidgetType.prototype) {\r\n            if (key.indexOf(\"__meta\") === 0) {\r\n                const publishItem = WidgetType.prototype[key];\r\n                this.publishProxy(prefix + __prop_data_ + publishItem.id, id, publishItem.method || publishItem.id);\r\n            }\r\n        }\r\n    }\r\n\r\n    publishProxy(id: string, proxy, method?, defaultValue?) {\r\n        method = method || id;\r\n        if (this[__meta_ + id] !== undefined) {\r\n            throw new Error(id + \" is already published.\");\r\n        }\r\n        this[__meta_ + id] = new MetaProxy(id, proxy, method, defaultValue);\r\n        this[id] = function (_) {\r\n            if (!arguments.length) return defaultValue === undefined || this[id + \"_modified\"]() ? this[proxy][method]() : defaultValue;\r\n            if (defaultValue !== undefined && _ === defaultValue) {\r\n                this[proxy][method + \"_reset\"]();\r\n            } else {\r\n                this[proxy][method](_);\r\n            }\r\n            return this;\r\n        };\r\n        this[id + \"_disabled\"] = function () {\r\n            return this[proxy][method + \"_disabled\"]();\r\n        };\r\n        this[id + \"_modified\"] = function () {\r\n            return this[proxy][method + \"_modified\"]() && (defaultValue === undefined || this[proxy][method]() !== defaultValue);\r\n        };\r\n        this[id + \"_exists\"] = function () {\r\n            return this[proxy][method + \"_exists\"]();\r\n        };\r\n        this[id + \"_default\"] = function (_) {\r\n            if (!arguments.length) return this[proxy][method + \"_default\"]();\r\n            this[proxy][method + \"_default\"](_);\r\n            return this;\r\n        };\r\n        this[id + \"_reset\"] = function () {\r\n            this[proxy][method + \"_reset\"]();\r\n            return this;\r\n        };\r\n        this[id + \"_options\"] = function () {\r\n            return this[proxy][method + \"_options\"]();\r\n        };\r\n    }\r\n\r\n    monitorProperty(propID: string, func: (id: string, newVal: any, oldVal: any) => void): IMonitorHandle {\r\n        const meta = this.publishedProperty(propID);\r\n        switch (meta.type) {\r\n            case \"proxy\":\r\n                if (this[meta.proxy]) {\r\n                    return this[meta.proxy].monitorProperty(meta.method, function (_key, newVal, oldVal) {\r\n                        func(meta.id, newVal, oldVal);\r\n                    });\r\n                } else {\r\n                    return {\r\n                        remove: () => { }\r\n                    };\r\n                }\r\n            default:\r\n                const idx = this._watchArrIdx++;\r\n                this._watchArr[idx] = { propertyID: propID, callback: func };\r\n                const context = this;\r\n                return {\r\n                    remove: () => {\r\n                        delete context._watchArr[idx];\r\n                    }\r\n                };\r\n        }\r\n    }\r\n\r\n    monitor(func: (id: string, newVal: any, oldVal: any, source: PropertyExt) => void): { remove: () => void } {\r\n        const idx = this._watchArrIdx++;\r\n        this._watchArr[idx] = { propertyID: undefined, callback: func };\r\n        return {\r\n            remove: () => {\r\n                delete this._watchArr[idx];\r\n            }\r\n        };\r\n    }\r\n\r\n    broadcast(key, newVal, oldVal, source?) {\r\n        source = source || this;\r\n        if (!deepEqual(newVal, oldVal)) {\r\n            for (const idx in this._watchArr) {\r\n                const monitor = this._watchArr[idx];\r\n                if ((monitor.propertyID === undefined || monitor.propertyID === key) && monitor.callback) {\r\n                    // console.log(`${this.classID()}->broadcast(${key}, ${newVal}, ${oldVal})`);\r\n                    setTimeout(function (monitor2) {\r\n                        monitor2.callback(key, newVal, oldVal, source);\r\n                    }, 0, monitor);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    applyTheme(theme) {\r\n        if (!theme) {\r\n            return;\r\n        }\r\n        const clsArr = this._class.split(\" \");\r\n        for (const i in clsArr) {\r\n            if (theme[clsArr[i]]) {\r\n                for (const paramName in theme[clsArr[i]]) {\r\n                    if (paramName === \"overrideTags\" && theme[clsArr[i]][paramName] instanceof Object) {\r\n                        for (const param in theme[clsArr[i]][paramName]) {\r\n                            if (this.publishedProperty(paramName).ext) {\r\n                                this.publishedProperty(paramName).ext.tags = theme[clsArr[i]][paramName][param];\r\n                            }\r\n                        }\r\n                        continue;\r\n                    }\r\n                    if (this.publishedProperty(paramName)) {\r\n                        this.publishedProperty(paramName).defaultValue = theme[clsArr[i]][paramName];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    copyPropsTo(other: PropertyExt, ignore: string[] = []): this {\r\n        this.publishedProperties(false).filter(meta => ignore.indexOf(meta.id) < 0).forEach(meta => {\r\n            if (this[meta.id + \"_exists\"]()) {\r\n                other[meta.id](this[meta.id]());\r\n            } else {\r\n                other[meta.id + \"_reset\"]();\r\n            }\r\n        });\r\n        return this;\r\n    }\r\n\r\n    hashSum(ignore: string[] = [], more = {}): string {\r\n        ignore = [...ignore, \"classed\"];\r\n        const props: { [key: string]: any } = more;\r\n        this.publishedProperties(false).filter(meta => ignore.indexOf(meta.id) < 0).forEach(meta => {\r\n            if (this[meta.id + \"_exists\"]()) {\r\n                let value = this[meta.id]();\r\n                const proxyMeta = this.resolvePublishedProxy(meta);\r\n                switch (proxyMeta.type) {\r\n                    case \"widget\":\r\n                        value = value.hashSum();\r\n                        break;\r\n                    case \"widgetArray\":\r\n                    case \"propertyArray\":\r\n                        value = hashSum(value.map(v => v.hashSum()));\r\n                        break;\r\n                    default:\r\n                }\r\n                props[meta.id] = value;\r\n            }\r\n        });\r\n        return hashSum(props);\r\n    }\r\n\r\n    //  Events  ---\r\n    on(eventID, func, stopPropagation = false): this {\r\n        const context = this;\r\n        this.overrideMethod(eventID, function (...args: any[]) {\r\n            const origFunc = args[args.length - 1];\r\n            let retVal;\r\n            if (stopPropagation) {\r\n                if (d3Event) {\r\n                    d3Event.stopPropagation();\r\n                }\r\n                [].push.call(args, origFunc);\r\n            } else {\r\n                retVal = origFunc.apply(context, args);\r\n            }\r\n            const retVal2 = func.apply(context, args);\r\n            return retVal2 !== undefined ? retVal2 : retVal;\r\n        });\r\n        return this;\r\n    }\r\n}\r\nPropertyExt.prototype._class += \" common_PropertyExt\";\r\n\r\nexport function publish(defaultValue, type?: PublishTypes, description?: string, set?: string[] | (() => string[] | Array<{ value: string, text: string }>) | IPublishExt, ext: IPublishExt = {}) {\r\n    return function (target: any, key: string) {\r\n        if (!key) throw new Error(\"???\");\r\n        if (ext.reset) {\r\n            target.publishReset();\r\n        }\r\n        target.publish(key, defaultValue, type, description, set, ext);\r\n    };\r\n}\r\nexport type publish<T, U> = {\r\n    (_: U): T;\r\n    (): U;\r\n};\r\n\r\nexport function publishProxy(proxy: string, method?: string, defaultValue?, ext: { reset?: boolean } = {}) {\r\n    return function (target: any, key: string) {\r\n        if (ext.reset) {\r\n            target.publishReset();\r\n        }\r\n        target.publishProxy(key, proxy, method, defaultValue);\r\n    };\r\n}\r\n","import { isArray } from \"@hpcc-js/util\";\r\nimport { ascending as d3Ascending, descending as d3Descending } from \"d3-array\";\r\nimport { select as d3Select } from \"d3-selection\";\r\nimport { timeFormat as d3TimeFormat } from \"d3-time-format\";\r\n\r\nfunction _naturalSort(a, b, order, idx, sortCaseSensitive) {\r\n    const re = /(^([+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)?$|^0x[0-9a-f]+$|\\d+)/gi;\r\n    const sre = /(^[ ]*|[ ]*$)/g;\r\n    const dre = /(^([\\w ]+,?[\\w ]+)?[\\w ]+,?[\\w ]+\\d+:\\d+(:\\d+)?[\\w ]?|^\\d{1,4}[\\/\\-]\\d{1,4}[\\/\\-]\\d{1,4}|^\\w+, \\w+ \\d+, \\d{4})/;\r\n    const ore = /^0/;\r\n    const i = function (s) { return !sortCaseSensitive && (\"\" + s).toLowerCase() || \"\" + s; };\r\n    // convert all to strings strip whitespace\r\n    const x = i(idx ? a[idx] : a).replace(sre, \"\") || \"\";\r\n    const y = i(idx ? b[idx] : b).replace(sre, \"\") || \"\";\r\n    // chunk/tokenize\r\n    const xN = x.replace(re, \"\\0$1\\0\").replace(/\\0$/, \"\").replace(/^\\0/, \"\").split(\"\\0\");\r\n    const yN = y.replace(re, \"\\0$1\\0\").replace(/\\0$/, \"\").replace(/^\\0/, \"\").split(\"\\0\");\r\n    // numeric or date detection\r\n    const xD = (xN.length !== 1 && x.match(dre) && Date.parse(x));\r\n    const yD = xD && y.match(dre) && Date.parse(y) || null;\r\n    let oFxNcL;\r\n    let oFyNcL;\r\n    // first try and sort Hex codes or Dates\r\n    if (yD) {\r\n        if (xD < yD) {\r\n            return order === \"ascending\" ? -1 : 1;\r\n        } else if (xD > yD) {\r\n            return order === \"ascending\" ? 1 : -1;\r\n        }\r\n    }\r\n    // natural sorting through split numeric strings and default strings\r\n    for (let cLoc = 0, numS = Math.max(xN.length, yN.length); cLoc < numS; cLoc++) {\r\n        // find floats not starting with \"0\", string or 0 if not defined (Clint Priest)\r\n        oFxNcL = !(xN[cLoc] || \"\").match(ore) && parseFloat(xN[cLoc]) || xN[cLoc] || 0;\r\n        oFyNcL = !(yN[cLoc] || \"\").match(ore) && parseFloat(yN[cLoc]) || yN[cLoc] || 0;\r\n        // handle numeric vs string comparison - number < string - (Kyle Adams)\r\n        if (isNaN(oFxNcL) !== isNaN(oFyNcL)) {\r\n            return (isNaN(oFxNcL)) ? 1 : -1;\r\n        } else if (typeof oFxNcL !== typeof oFyNcL) {\r\n            // rely on string comparison if different types - i.e. \"02\" < 2 != \"02\" < \"2\"\r\n            oFxNcL += \"\";\r\n            oFyNcL += \"\";\r\n        }\r\n        if (oFxNcL < oFyNcL) { return order === \"ascending\" ? -1 : 1; }\r\n        if (oFxNcL > oFyNcL) { return order === \"ascending\" ? 1 : -1; }\r\n    }\r\n    return 0;\r\n}\r\n\r\n//  Selection Bag(s)  ---\r\nexport class SelectionBase {\r\n    protected __widget;\r\n    private __svgGlowID: string;\r\n\r\n    constructor(widget) {\r\n        //  Can't import Widget or SVGWidget as it breaks AMD loading...\r\n        this.__widget = widget;\r\n    }\r\n\r\n    svgGlowID(): string {\r\n        if (this.__svgGlowID === undefined) {\r\n            this.__svgGlowID = this.__widget.svgGlowID && this.__widget.svgGlowID() || \"\";\r\n        }\r\n        return this.__svgGlowID;\r\n    }\r\n}\r\n\r\nexport class SelectionBag extends SelectionBase {\r\n    items;\r\n    constructor(widget) {\r\n        super(widget);\r\n        this.items = {};\r\n    }\r\n\r\n    clear() {\r\n        for (const key in this.items) {\r\n            this.items[key].element()\r\n                .classed(\"selected\", false)\r\n                .attr(\"filter\", null)\r\n                ;\r\n        }\r\n        this.items = {};\r\n    }\r\n\r\n    isEmpty() {\r\n        for (const _key in this.items) { // jshint ignore:line\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    append(item) {\r\n        this.items[item._id] = item;\r\n        item.element()\r\n            .classed(\"selected\", true)\r\n            .attr(\"filter\", this.svgGlowID() ? `url(#${this.svgGlowID()})` : null)\r\n            ;\r\n    }\r\n\r\n    remove(item) {\r\n        this.items[item._id].element()\r\n            .classed(\"selected\", false)\r\n            .attr(\"filter\", null)\r\n            ;\r\n        delete this.items[item._id];\r\n    }\r\n\r\n    isSelected(item) {\r\n        return this.items[item._id] !== undefined;\r\n    }\r\n\r\n    get() {\r\n        const retVal = [];\r\n        for (const key in this.items) {\r\n            retVal.push(this.items[key]);\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    set(itemArray) {\r\n        this.clear();\r\n        itemArray.forEach(function (item) {\r\n            this.append(item);\r\n        }, this);\r\n    }\r\n\r\n    click = function (item, d3Event) {\r\n        if (d3Event.ctrlKey) {\r\n            if (this.items[item._id]) {\r\n                this.remove(item);\r\n            } else {\r\n                this.append(item);\r\n            }\r\n        } else {\r\n            this.clear();\r\n            this.append(item);\r\n        }\r\n    };\r\n}\r\n\r\nexport class SimpleSelection extends SelectionBase {\r\n    constructor(widget, widgetElement, skipBringToTop?) {\r\n        super(widget);\r\n        this.widgetElement(widgetElement);\r\n        this.skipBringToTop(skipBringToTop);\r\n    }\r\n\r\n    _widgetElement;\r\n    widgetElement(_?) {\r\n        if (!arguments.length) return this._widgetElement;\r\n        this._widgetElement = _;\r\n        return this;\r\n    }\r\n\r\n    _skipBringToTop;\r\n    skipBringToTop(_) {\r\n        if (!arguments.length) return this._skipBringToTop;\r\n        this._skipBringToTop = _;\r\n        return this;\r\n    }\r\n\r\n    _initialSelection;\r\n    enter(elements) {\r\n        const context = this;\r\n        elements\r\n            .each(function (d) {\r\n                const selected = context._initialSelection ? context._initialSelection.indexOf(JSON.stringify(d)) >= 0 : false;\r\n                d3Select(this)\r\n                    .classed(\"selected\", selected)\r\n                    .classed(\"deselected\", !selected)\r\n                    .attr(\"filter\", context.svgGlowID() && selected ? `url(#${context.svgGlowID()})` : null)\r\n                    ;\r\n            })\r\n            .on(\"click.SimpleSelection\", function () {\r\n                context.click(this);\r\n            })\r\n            .on(\"mouseover.SimpleSelection\", function () {\r\n                context.mouseOver(this);\r\n            })\r\n            .on(\"mouseout.SimpleSelection\", function () {\r\n                context.mouseOut(this);\r\n            })\r\n            ;\r\n    }\r\n    click(domNode): boolean {\r\n        if (!this._skipBringToTop) {\r\n            domNode.parentNode.appendChild(domNode);\r\n        }\r\n        const element = d3Select(domNode);\r\n        const wasSelected = element.classed(\"selected\");\r\n        this._widgetElement.selectAll(\".selected\")\r\n            .classed(\"selected\", false)\r\n            .classed(\"deselected\", true)\r\n            .attr(\"filter\", null)\r\n            ;\r\n        if (!wasSelected) {\r\n            element\r\n                .classed(\"selected\", true)\r\n                .classed(\"deselected\", false)\r\n                .attr(\"filter\", this.svgGlowID() ? `url(#${this.svgGlowID()})` : null)\r\n                ;\r\n        }\r\n        return !wasSelected;\r\n    }\r\n    mouseOver(domNode) {\r\n        d3Select(domNode)\r\n            .classed(\"over\", true)\r\n            ;\r\n    }\r\n    mouseOut(domNode) {\r\n        d3Select(domNode)\r\n            .classed(\"over\", null)\r\n            ;\r\n    }\r\n    selected(domNode) {\r\n        return d3Select(domNode).classed(\"selected\");\r\n    }\r\n    selection(_) {\r\n        if (!arguments.length) {\r\n            const retVal = [];\r\n            if (this._widgetElement) {\r\n                this._widgetElement.selectAll(\".selected\")\r\n                    .each(function (d) { retVal.push(JSON.stringify(d)); })\r\n                    ;\r\n            }\r\n            return retVal;\r\n        }\r\n        if (this._widgetElement) {\r\n            const context = this;\r\n            this._widgetElement.selectAll(\".selected,.deselected\")\r\n                .each(function (d) {\r\n                    const selected = _.indexOf(JSON.stringify(d)) >= 0;\r\n                    d3Select(this)\r\n                        .classed(\"selected\", selected)\r\n                        .classed(\"deselected\", !selected)\r\n                        .attr(\"filter\", context.svgGlowID() ? `url(#${context.svgGlowID()})` : null)\r\n                        ;\r\n                })\r\n                ;\r\n        } else {\r\n            this._initialSelection = _;\r\n        }\r\n        return this;\r\n    }\r\n}\r\n\r\nexport function SimpleSelectionMixin(skipBringToTop) {\r\n    this._selection = new SimpleSelection(this, null, skipBringToTop);\r\n}\r\n\r\nSimpleSelectionMixin.prototype.serializeState = function () {\r\n    return {\r\n        selection: this._selection.selection(),\r\n        data: this.data()\r\n    };\r\n};\r\n\r\nSimpleSelectionMixin.prototype.deserializeState = function (state) {\r\n    if (state) {\r\n        this._selection.selection(state.selection);\r\n        if (state.data) {\r\n            this.data(state.data);\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\nconst perf: any = window.performance;\r\nconst now = perf && (perf.now || perf.mozNow || perf.msNow || perf.oNow || perf.webkitNow);\r\n\r\nexport function faCode(key) {\r\n    const faCodeMap = { \"fa-glass\": \"\\uf000\", \"fa-music\": \"\\uf001\", \"fa-search\": \"\\uf002\", \"fa-envelope-o\": \"\\uf003\", \"fa-heart\": \"\\uf004\", \"fa-star\": \"\\uf005\", \"fa-star-o\": \"\\uf006\", \"fa-user\": \"\\uf007\", \"fa-film\": \"\\uf008\", \"fa-th-large\": \"\\uf009\", \"fa-th\": \"\\uf00a\", \"fa-th-list\": \"\\uf00b\", \"fa-check\": \"\\uf00c\", \"fa-times\": \"\\uf00d\", \"fa-search-plus\": \"\\uf00e\", \"fa-search-minus\": \"\\uf010\", \"fa-power-off\": \"\\uf011\", \"fa-signal\": \"\\uf012\", \"fa-cog\": \"\\uf013\", \"fa-trash-o\": \"\\uf014\", \"fa-home\": \"\\uf015\", \"fa-file-o\": \"\\uf016\", \"fa-clock-o\": \"\\uf017\", \"fa-road\": \"\\uf018\", \"fa-download\": \"\\uf019\", \"fa-arrow-circle-o-down\": \"\\uf01a\", \"fa-arrow-circle-o-up\": \"\\uf01b\", \"fa-inbox\": \"\\uf01c\", \"fa-play-circle-o\": \"\\uf01d\", \"fa-repeat\": \"\\uf01e\", \"fa-refresh\": \"\\uf021\", \"fa-list-alt\": \"\\uf022\", \"fa-lock\": \"\\uf023\", \"fa-flag\": \"\\uf024\", \"fa-headphones\": \"\\uf025\", \"fa-volume-off\": \"\\uf026\", \"fa-volume-down\": \"\\uf027\", \"fa-volume-up\": \"\\uf028\", \"fa-qrcode\": \"\\uf029\", \"fa-barcode\": \"\\uf02a\", \"fa-tag\": \"\\uf02b\", \"fa-tags\": \"\\uf02c\", \"fa-book\": \"\\uf02d\", \"fa-bookmark\": \"\\uf02e\", \"fa-print\": \"\\uf02f\", \"fa-camera\": \"\\uf030\", \"fa-font\": \"\\uf031\", \"fa-bold\": \"\\uf032\", \"fa-italic\": \"\\uf033\", \"fa-text-height\": \"\\uf034\", \"fa-text-width\": \"\\uf035\", \"fa-align-left\": \"\\uf036\", \"fa-align-center\": \"\\uf037\", \"fa-align-right\": \"\\uf038\", \"fa-align-justify\": \"\\uf039\", \"fa-list\": \"\\uf03a\", \"fa-outdent\": \"\\uf03b\", \"fa-indent\": \"\\uf03c\", \"fa-video-camera\": \"\\uf03d\", \"fa-picture-o\": \"\\uf03e\", \"fa-pencil\": \"\\uf040\", \"fa-map-marker\": \"\\uf041\", \"fa-adjust\": \"\\uf042\", \"fa-tint\": \"\\uf043\", \"fa-pencil-square-o\": \"\\uf044\", \"fa-share-square-o\": \"\\uf045\", \"fa-check-square-o\": \"\\uf046\", \"fa-arrows\": \"\\uf047\", \"fa-step-backward\": \"\\uf048\", \"fa-fast-backward\": \"\\uf049\", \"fa-backward\": \"\\uf04a\", \"fa-play\": \"\\uf04b\", \"fa-pause\": \"\\uf04c\", \"fa-stop\": \"\\uf04d\", \"fa-forward\": \"\\uf04e\", \"fa-fast-forward\": \"\\uf050\", \"fa-step-forward\": \"\\uf051\", \"fa-eject\": \"\\uf052\", \"fa-chevron-left\": \"\\uf053\", \"fa-chevron-right\": \"\\uf054\", \"fa-plus-circle\": \"\\uf055\", \"fa-minus-circle\": \"\\uf056\", \"fa-times-circle\": \"\\uf057\", \"fa-check-circle\": \"\\uf058\", \"fa-question-circle\": \"\\uf059\", \"fa-info-circle\": \"\\uf05a\", \"fa-crosshairs\": \"\\uf05b\", \"fa-times-circle-o\": \"\\uf05c\", \"fa-check-circle-o\": \"\\uf05d\", \"fa-ban\": \"\\uf05e\", \"fa-arrow-left\": \"\\uf060\", \"fa-arrow-right\": \"\\uf061\", \"fa-arrow-up\": \"\\uf062\", \"fa-arrow-down\": \"\\uf063\", \"fa-share\": \"\\uf064\", \"fa-expand\": \"\\uf065\", \"fa-compress\": \"\\uf066\", \"fa-plus\": \"\\uf067\", \"fa-minus\": \"\\uf068\", \"fa-asterisk\": \"\\uf069\", \"fa-exclamation-circle\": \"\\uf06a\", \"fa-gift\": \"\\uf06b\", \"fa-leaf\": \"\\uf06c\", \"fa-fire\": \"\\uf06d\", \"fa-eye\": \"\\uf06e\", \"fa-eye-slash\": \"\\uf070\", \"fa-exclamation-triangle\": \"\\uf071\", \"fa-plane\": \"\\uf072\", \"fa-calendar\": \"\\uf073\", \"fa-random\": \"\\uf074\", \"fa-comment\": \"\\uf075\", \"fa-magnet\": \"\\uf076\", \"fa-chevron-up\": \"\\uf077\", \"fa-chevron-down\": \"\\uf078\", \"fa-retweet\": \"\\uf079\", \"fa-shopping-cart\": \"\\uf07a\", \"fa-folder\": \"\\uf07b\", \"fa-folder-open\": \"\\uf07c\", \"fa-arrows-v\": \"\\uf07d\", \"fa-arrows-h\": \"\\uf07e\", \"fa-bar-chart\": \"\\uf080\", \"fa-twitter-square\": \"\\uf081\", \"fa-facebook-square\": \"\\uf082\", \"fa-camera-retro\": \"\\uf083\", \"fa-key\": \"\\uf084\", \"fa-cogs\": \"\\uf085\", \"fa-comments\": \"\\uf086\", \"fa-thumbs-o-up\": \"\\uf087\", \"fa-thumbs-o-down\": \"\\uf088\", \"fa-star-half\": \"\\uf089\", \"fa-heart-o\": \"\\uf08a\", \"fa-sign-out\": \"\\uf08b\", \"fa-linkedin-square\": \"\\uf08c\", \"fa-thumb-tack\": \"\\uf08d\", \"fa-external-link\": \"\\uf08e\", \"fa-sign-in\": \"\\uf090\", \"fa-trophy\": \"\\uf091\", \"fa-github-square\": \"\\uf092\", \"fa-upload\": \"\\uf093\", \"fa-lemon-o\": \"\\uf094\", \"fa-phone\": \"\\uf095\", \"fa-square-o\": \"\\uf096\", \"fa-bookmark-o\": \"\\uf097\", \"fa-phone-square\": \"\\uf098\", \"fa-twitter\": \"\\uf099\", \"fa-facebook\": \"\\uf09a\", \"fa-github\": \"\\uf09b\", \"fa-unlock\": \"\\uf09c\", \"fa-credit-card\": \"\\uf09d\", \"fa-rss\": \"\\uf09e\", \"fa-hdd-o\": \"\\uf0a0\", \"fa-bullhorn\": \"\\uf0a1\", \"fa-bell\": \"\\uf0f3\", \"fa-certificate\": \"\\uf0a3\", \"fa-hand-o-right\": \"\\uf0a4\", \"fa-hand-o-left\": \"\\uf0a5\", \"fa-hand-o-up\": \"\\uf0a6\", \"fa-hand-o-down\": \"\\uf0a7\", \"fa-arrow-circle-left\": \"\\uf0a8\", \"fa-arrow-circle-right\": \"\\uf0a9\", \"fa-arrow-circle-up\": \"\\uf0aa\", \"fa-arrow-circle-down\": \"\\uf0ab\", \"fa-globe\": \"\\uf0ac\", \"fa-wrench\": \"\\uf0ad\", \"fa-tasks\": \"\\uf0ae\", \"fa-filter\": \"\\uf0b0\", \"fa-briefcase\": \"\\uf0b1\", \"fa-arrows-alt\": \"\\uf0b2\", \"fa-users\": \"\\uf0c0\", \"fa-link\": \"\\uf0c1\", \"fa-cloud\": \"\\uf0c2\", \"fa-flask\": \"\\uf0c3\", \"fa-scissors\": \"\\uf0c4\", \"fa-files-o\": \"\\uf0c5\", \"fa-paperclip\": \"\\uf0c6\", \"fa-floppy-o\": \"\\uf0c7\", \"fa-square\": \"\\uf0c8\", \"fa-bars\": \"\\uf0c9\", \"fa-list-ul\": \"\\uf0ca\", \"fa-list-ol\": \"\\uf0cb\", \"fa-strikethrough\": \"\\uf0cc\", \"fa-underline\": \"\\uf0cd\", \"fa-table\": \"\\uf0ce\", \"fa-magic\": \"\\uf0d0\", \"fa-truck\": \"\\uf0d1\", \"fa-pinterest\": \"\\uf0d2\", \"fa-pinterest-square\": \"\\uf0d3\", \"fa-google-plus-square\": \"\\uf0d4\", \"fa-google-plus\": \"\\uf0d5\", \"fa-money\": \"\\uf0d6\", \"fa-caret-down\": \"\\uf0d7\", \"fa-caret-up\": \"\\uf0d8\", \"fa-caret-left\": \"\\uf0d9\", \"fa-caret-right\": \"\\uf0da\", \"fa-columns\": \"\\uf0db\", \"fa-sort\": \"\\uf0dc\", \"fa-sort-desc\": \"\\uf0dd\", \"fa-sort-asc\": \"\\uf0de\", \"fa-envelope\": \"\\uf0e0\", \"fa-linkedin\": \"\\uf0e1\", \"fa-undo\": \"\\uf0e2\", \"fa-gavel\": \"\\uf0e3\", \"fa-tachometer\": \"\\uf0e4\", \"fa-comment-o\": \"\\uf0e5\", \"fa-comments-o\": \"\\uf0e6\", \"fa-bolt\": \"\\uf0e7\", \"fa-sitemap\": \"\\uf0e8\", \"fa-umbrella\": \"\\uf0e9\", \"fa-clipboard\": \"\\uf0ea\", \"fa-lightbulb-o\": \"\\uf0eb\", \"fa-exchange\": \"\\uf0ec\", \"fa-cloud-download\": \"\\uf0ed\", \"fa-cloud-upload\": \"\\uf0ee\", \"fa-user-md\": \"\\uf0f0\", \"fa-stethoscope\": \"\\uf0f1\", \"fa-suitcase\": \"\\uf0f2\", \"fa-bell-o\": \"\\uf0a2\", \"fa-coffee\": \"\\uf0f4\", \"fa-cutlery\": \"\\uf0f5\", \"fa-file-text-o\": \"\\uf0f6\", \"fa-building-o\": \"\\uf0f7\", \"fa-hospital-o\": \"\\uf0f8\", \"fa-ambulance\": \"\\uf0f9\", \"fa-medkit\": \"\\uf0fa\", \"fa-fighter-jet\": \"\\uf0fb\", \"fa-beer\": \"\\uf0fc\", \"fa-h-square\": \"\\uf0fd\", \"fa-plus-square\": \"\\uf0fe\", \"fa-angle-double-left\": \"\\uf100\", \"fa-angle-double-right\": \"\\uf101\", \"fa-angle-double-up\": \"\\uf102\", \"fa-angle-double-down\": \"\\uf103\", \"fa-angle-left\": \"\\uf104\", \"fa-angle-right\": \"\\uf105\", \"fa-angle-up\": \"\\uf106\", \"fa-angle-down\": \"\\uf107\", \"fa-desktop\": \"\\uf108\", \"fa-laptop\": \"\\uf109\", \"fa-tablet\": \"\\uf10a\", \"fa-mobile\": \"\\uf10b\", \"fa-circle-o\": \"\\uf10c\", \"fa-quote-left\": \"\\uf10d\", \"fa-quote-right\": \"\\uf10e\", \"fa-spinner\": \"\\uf110\", \"fa-circle\": \"\\uf111\", \"fa-reply\": \"\\uf112\", \"fa-github-alt\": \"\\uf113\", \"fa-folder-o\": \"\\uf114\", \"fa-folder-open-o\": \"\\uf115\", \"fa-smile-o\": \"\\uf118\", \"fa-frown-o\": \"\\uf119\", \"fa-meh-o\": \"\\uf11a\", \"fa-gamepad\": \"\\uf11b\", \"fa-keyboard-o\": \"\\uf11c\", \"fa-flag-o\": \"\\uf11d\", \"fa-flag-checkered\": \"\\uf11e\", \"fa-terminal\": \"\\uf120\", \"fa-code\": \"\\uf121\", \"fa-reply-all\": \"\\uf122\", \"fa-star-half-o\": \"\\uf123\", \"fa-location-arrow\": \"\\uf124\", \"fa-crop\": \"\\uf125\", \"fa-code-fork\": \"\\uf126\", \"fa-chain-broken\": \"\\uf127\", \"fa-question\": \"\\uf128\", \"fa-info\": \"\\uf129\", \"fa-exclamation\": \"\\uf12a\", \"fa-superscript\": \"\\uf12b\", \"fa-subscript\": \"\\uf12c\", \"fa-eraser\": \"\\uf12d\", \"fa-puzzle-piece\": \"\\uf12e\", \"fa-microphone\": \"\\uf130\", \"fa-microphone-slash\": \"\\uf131\", \"fa-shield\": \"\\uf132\", \"fa-calendar-o\": \"\\uf133\", \"fa-fire-extinguisher\": \"\\uf134\", \"fa-rocket\": \"\\uf135\", \"fa-maxcdn\": \"\\uf136\", \"fa-chevron-circle-left\": \"\\uf137\", \"fa-chevron-circle-right\": \"\\uf138\", \"fa-chevron-circle-up\": \"\\uf139\", \"fa-chevron-circle-down\": \"\\uf13a\", \"fa-html5\": \"\\uf13b\", \"fa-css3\": \"\\uf13c\", \"fa-anchor\": \"\\uf13d\", \"fa-unlock-alt\": \"\\uf13e\", \"fa-bullseye\": \"\\uf140\", \"fa-ellipsis-h\": \"\\uf141\", \"fa-ellipsis-v\": \"\\uf142\", \"fa-rss-square\": \"\\uf143\", \"fa-play-circle\": \"\\uf144\", \"fa-ticket\": \"\\uf145\", \"fa-minus-square\": \"\\uf146\", \"fa-minus-square-o\": \"\\uf147\", \"fa-level-up\": \"\\uf148\", \"fa-level-down\": \"\\uf149\", \"fa-check-square\": \"\\uf14a\", \"fa-pencil-square\": \"\\uf14b\", \"fa-external-link-square\": \"\\uf14c\", \"fa-share-square\": \"\\uf14d\", \"fa-compass\": \"\\uf14e\", \"fa-caret-square-o-down\": \"\\uf150\", \"fa-caret-square-o-up\": \"\\uf151\", \"fa-caret-square-o-right\": \"\\uf152\", \"fa-eur\": \"\\uf153\", \"fa-gbp\": \"\\uf154\", \"fa-usd\": \"\\uf155\", \"fa-inr\": \"\\uf156\", \"fa-jpy\": \"\\uf157\", \"fa-rub\": \"\\uf158\", \"fa-krw\": \"\\uf159\", \"fa-btc\": \"\\uf15a\", \"fa-file\": \"\\uf15b\", \"fa-file-text\": \"\\uf15c\", \"fa-sort-alpha-asc\": \"\\uf15d\", \"fa-sort-alpha-desc\": \"\\uf15e\", \"fa-sort-amount-asc\": \"\\uf160\", \"fa-sort-amount-desc\": \"\\uf161\", \"fa-sort-numeric-asc\": \"\\uf162\", \"fa-sort-numeric-desc\": \"\\uf163\", \"fa-thumbs-up\": \"\\uf164\", \"fa-thumbs-down\": \"\\uf165\", \"fa-youtube-square\": \"\\uf166\", \"fa-youtube\": \"\\uf167\", \"fa-xing\": \"\\uf168\", \"fa-xing-square\": \"\\uf169\", \"fa-youtube-play\": \"\\uf16a\", \"fa-dropbox\": \"\\uf16b\", \"fa-stack-overflow\": \"\\uf16c\", \"fa-instagram\": \"\\uf16d\", \"fa-flickr\": \"\\uf16e\", \"fa-adn\": \"\\uf170\", \"fa-bitbucket\": \"\\uf171\", \"fa-bitbucket-square\": \"\\uf172\", \"fa-tumblr\": \"\\uf173\", \"fa-tumblr-square\": \"\\uf174\", \"fa-long-arrow-down\": \"\\uf175\", \"fa-long-arrow-up\": \"\\uf176\", \"fa-long-arrow-left\": \"\\uf177\", \"fa-long-arrow-right\": \"\\uf178\", \"fa-apple\": \"\\uf179\", \"fa-windows\": \"\\uf17a\", \"fa-android\": \"\\uf17b\", \"fa-linux\": \"\\uf17c\", \"fa-dribbble\": \"\\uf17d\", \"fa-skype\": \"\\uf17e\", \"fa-foursquare\": \"\\uf180\", \"fa-trello\": \"\\uf181\", \"fa-female\": \"\\uf182\", \"fa-male\": \"\\uf183\", \"fa-gratipay\": \"\\uf184\", \"fa-sun-o\": \"\\uf185\", \"fa-moon-o\": \"\\uf186\", \"fa-archive\": \"\\uf187\", \"fa-bug\": \"\\uf188\", \"fa-vk\": \"\\uf189\", \"fa-weibo\": \"\\uf18a\", \"fa-renren\": \"\\uf18b\", \"fa-pagelines\": \"\\uf18c\", \"fa-stack-exchange\": \"\\uf18d\", \"fa-arrow-circle-o-right\": \"\\uf18e\", \"fa-arrow-circle-o-left\": \"\\uf190\", \"fa-caret-square-o-left\": \"\\uf191\", \"fa-dot-circle-o\": \"\\uf192\", \"fa-wheelchair\": \"\\uf193\", \"fa-vimeo-square\": \"\\uf194\", \"fa-try\": \"\\uf195\", \"fa-plus-square-o\": \"\\uf196\", \"fa-space-shuttle\": \"\\uf197\", \"fa-slack\": \"\\uf198\", \"fa-envelope-square\": \"\\uf199\", \"fa-wordpress\": \"\\uf19a\", \"fa-openid\": \"\\uf19b\", \"fa-university\": \"\\uf19c\", \"fa-graduation-cap\": \"\\uf19d\", \"fa-yahoo\": \"\\uf19e\", \"fa-google\": \"\\uf1a0\", \"fa-reddit\": \"\\uf1a1\", \"fa-reddit-square\": \"\\uf1a2\", \"fa-stumbleupon-circle\": \"\\uf1a3\", \"fa-stumbleupon\": \"\\uf1a4\", \"fa-delicious\": \"\\uf1a5\", \"fa-digg\": \"\\uf1a6\", \"fa-pied-piper\": \"\\uf1a7\", \"fa-pied-piper-alt\": \"\\uf1a8\", \"fa-drupal\": \"\\uf1a9\", \"fa-joomla\": \"\\uf1aa\", \"fa-language\": \"\\uf1ab\", \"fa-fax\": \"\\uf1ac\", \"fa-building\": \"\\uf1ad\", \"fa-child\": \"\\uf1ae\", \"fa-paw\": \"\\uf1b0\", \"fa-spoon\": \"\\uf1b1\", \"fa-cube\": \"\\uf1b2\", \"fa-cubes\": \"\\uf1b3\", \"fa-behance\": \"\\uf1b4\", \"fa-behance-square\": \"\\uf1b5\", \"fa-steam\": \"\\uf1b6\", \"fa-steam-square\": \"\\uf1b7\", \"fa-recycle\": \"\\uf1b8\", \"fa-car\": \"\\uf1b9\", \"fa-taxi\": \"\\uf1ba\", \"fa-tree\": \"\\uf1bb\", \"fa-spotify\": \"\\uf1bc\", \"fa-deviantart\": \"\\uf1bd\", \"fa-soundcloud\": \"\\uf1be\", \"fa-database\": \"\\uf1c0\", \"fa-file-pdf-o\": \"\\uf1c1\", \"fa-file-word-o\": \"\\uf1c2\", \"fa-file-excel-o\": \"\\uf1c3\", \"fa-file-powerpoint-o\": \"\\uf1c4\", \"fa-file-image-o\": \"\\uf1c5\", \"fa-file-archive-o\": \"\\uf1c6\", \"fa-file-audio-o\": \"\\uf1c7\", \"fa-file-video-o\": \"\\uf1c8\", \"fa-file-code-o\": \"\\uf1c9\", \"fa-vine\": \"\\uf1ca\", \"fa-codepen\": \"\\uf1cb\", \"fa-jsfiddle\": \"\\uf1cc\", \"fa-life-ring\": \"\\uf1cd\", \"fa-circle-o-notch\": \"\\uf1ce\", \"fa-rebel\": \"\\uf1d0\", \"fa-empire\": \"\\uf1d1\", \"fa-git-square\": \"\\uf1d2\", \"fa-git\": \"\\uf1d3\", \"fa-hacker-news\": \"\\uf1d4\", \"fa-tencent-weibo\": \"\\uf1d5\", \"fa-qq\": \"\\uf1d6\", \"fa-weixin\": \"\\uf1d7\", \"fa-paper-plane\": \"\\uf1d8\", \"fa-paper-plane-o\": \"\\uf1d9\", \"fa-history\": \"\\uf1da\", \"fa-circle-thin\": \"\\uf1db\", \"fa-header\": \"\\uf1dc\", \"fa-paragraph\": \"\\uf1dd\", \"fa-sliders\": \"\\uf1de\", \"fa-share-alt\": \"\\uf1e0\", \"fa-share-alt-square\": \"\\uf1e1\", \"fa-bomb\": \"\\uf1e2\", \"fa-futbol-o\": \"\\uf1e3\", \"fa-tty\": \"\\uf1e4\", \"fa-binoculars\": \"\\uf1e5\", \"fa-plug\": \"\\uf1e6\", \"fa-slideshare\": \"\\uf1e7\", \"fa-twitch\": \"\\uf1e8\", \"fa-yelp\": \"\\uf1e9\", \"fa-newspaper-o\": \"\\uf1ea\", \"fa-wifi\": \"\\uf1eb\", \"fa-calculator\": \"\\uf1ec\", \"fa-paypal\": \"\\uf1ed\", \"fa-google-wallet\": \"\\uf1ee\", \"fa-cc-visa\": \"\\uf1f0\", \"fa-cc-mastercard\": \"\\uf1f1\", \"fa-cc-discover\": \"\\uf1f2\", \"fa-cc-amex\": \"\\uf1f3\", \"fa-cc-paypal\": \"\\uf1f4\", \"fa-cc-stripe\": \"\\uf1f5\", \"fa-bell-slash\": \"\\uf1f6\", \"fa-bell-slash-o\": \"\\uf1f7\", \"fa-trash\": \"\\uf1f8\", \"fa-copyright\": \"\\uf1f9\", \"fa-at\": \"\\uf1fa\", \"fa-eyedropper\": \"\\uf1fb\", \"fa-paint-brush\": \"\\uf1fc\", \"fa-birthday-cake\": \"\\uf1fd\", \"fa-area-chart\": \"\\uf1fe\", \"fa-pie-chart\": \"\\uf200\", \"fa-line-chart\": \"\\uf201\", \"fa-lastfm\": \"\\uf202\", \"fa-lastfm-square\": \"\\uf203\", \"fa-toggle-off\": \"\\uf204\", \"fa-toggle-on\": \"\\uf205\", \"fa-bicycle\": \"\\uf206\", \"fa-bus\": \"\\uf207\", \"fa-ioxhost\": \"\\uf208\", \"fa-angellist\": \"\\uf209\", \"fa-cc\": \"\\uf20a\", \"fa-ils\": \"\\uf20b\", \"fa-meanpath\": \"\\uf20c\", \"fa-buysellads\": \"\\uf20d\", \"fa-connectdevelop\": \"\\uf20e\", \"fa-dashcube\": \"\\uf210\", \"fa-forumbee\": \"\\uf211\", \"fa-leanpub\": \"\\uf212\", \"fa-sellsy\": \"\\uf213\", \"fa-shirtsinbulk\": \"\\uf214\", \"fa-simplybuilt\": \"\\uf215\", \"fa-skyatlas\": \"\\uf216\", \"fa-cart-plus\": \"\\uf217\", \"fa-cart-arrow-down\": \"\\uf218\", \"fa-diamond\": \"\\uf219\", \"fa-ship\": \"\\uf21a\", \"fa-user-secret\": \"\\uf21b\", \"fa-motorcycle\": \"\\uf21c\", \"fa-street-view\": \"\\uf21d\", \"fa-heartbeat\": \"\\uf21e\", \"fa-venus\": \"\\uf221\", \"fa-mars\": \"\\uf222\", \"fa-mercury\": \"\\uf223\", \"fa-transgender\": \"\\uf224\", \"fa-transgender-alt\": \"\\uf225\", \"fa-venus-double\": \"\\uf226\", \"fa-mars-double\": \"\\uf227\", \"fa-venus-mars\": \"\\uf228\", \"fa-mars-stroke\": \"\\uf229\", \"fa-mars-stroke-v\": \"\\uf22a\", \"fa-mars-stroke-h\": \"\\uf22b\", \"fa-neuter\": \"\\uf22c\", \"fa-genderless\": \"\\uf22d\", \"fa-facebook-official\": \"\\uf230\", \"fa-pinterest-p\": \"\\uf231\", \"fa-whatsapp\": \"\\uf232\", \"fa-server\": \"\\uf233\", \"fa-user-plus\": \"\\uf234\", \"fa-user-times\": \"\\uf235\", \"fa-bed\": \"\\uf236\", \"fa-viacoin\": \"\\uf237\", \"fa-train\": \"\\uf238\", \"fa-subway\": \"\\uf239\", \"fa-medium\": \"\\uf23a\", \"fa-y-combinator\": \"\\uf23b\", \"fa-optin-monster\": \"\\uf23c\", \"fa-opencart\": \"\\uf23d\", \"fa-expeditedssl\": \"\\uf23e\", \"fa-battery-full\": \"\\uf240\", \"fa-battery-three-quarters\": \"\\uf241\", \"fa-battery-half\": \"\\uf242\", \"fa-battery-quarter\": \"\\uf243\", \"fa-battery-empty\": \"\\uf244\", \"fa-mouse-pointer\": \"\\uf245\", \"fa-i-cursor\": \"\\uf246\", \"fa-object-group\": \"\\uf247\", \"fa-object-ungroup\": \"\\uf248\", \"fa-sticky-note\": \"\\uf249\", \"fa-sticky-note-o\": \"\\uf24a\", \"fa-cc-jcb\": \"\\uf24b\", \"fa-cc-diners-club\": \"\\uf24c\", \"fa-clone\": \"\\uf24d\", \"fa-balance-scale\": \"\\uf24e\", \"fa-hourglass-o\": \"\\uf250\", \"fa-hourglass-start\": \"\\uf251\", \"fa-hourglass-half\": \"\\uf252\", \"fa-hourglass-end\": \"\\uf253\", \"fa-hourglass\": \"\\uf254\", \"fa-hand-rock-o\": \"\\uf255\", \"fa-hand-paper-o\": \"\\uf256\", \"fa-hand-scissors-o\": \"\\uf257\", \"fa-hand-lizard-o\": \"\\uf258\", \"fa-hand-spock-o\": \"\\uf259\", \"fa-hand-pointer-o\": \"\\uf25a\", \"fa-hand-peace-o\": \"\\uf25b\", \"fa-trademark\": \"\\uf25c\", \"fa-registered\": \"\\uf25d\", \"fa-creative-commons\": \"\\uf25e\", \"fa-gg\": \"\\uf260\", \"fa-gg-circle\": \"\\uf261\", \"fa-tripadvisor\": \"\\uf262\", \"fa-odnoklassniki\": \"\\uf263\", \"fa-odnoklassniki-square\": \"\\uf264\", \"fa-get-pocket\": \"\\uf265\", \"fa-wikipedia-w\": \"\\uf266\", \"fa-safari\": \"\\uf267\", \"fa-chrome\": \"\\uf268\", \"fa-firefox\": \"\\uf269\", \"fa-opera\": \"\\uf26a\", \"fa-internet-explorer\": \"\\uf26b\", \"fa-television\": \"\\uf26c\", \"fa-contao\": \"\\uf26d\", \"fa-500px\": \"\\uf26e\", \"fa-amazon\": \"\\uf270\", \"fa-calendar-plus-o\": \"\\uf271\", \"fa-calendar-minus-o\": \"\\uf272\", \"fa-calendar-times-o\": \"\\uf273\", \"fa-calendar-check-o\": \"\\uf274\", \"fa-industry\": \"\\uf275\", \"fa-map-pin\": \"\\uf276\", \"fa-map-signs\": \"\\uf277\", \"fa-map-o\": \"\\uf278\", \"fa-map\": \"\\uf279\", \"fa-commenting\": \"\\uf27a\", \"fa-commenting-o\": \"\\uf27b\", \"fa-houzz\": \"\\uf27c\", \"fa-vimeo\": \"\\uf27d\", \"fa-black-tie\": \"\\uf27e\", \"fa-fonticons\": \"\\uf280\" };\r\n    return faCodeMap[key];\r\n}\r\n\r\nexport function removeHTMLFromString(str: string, div?: HTMLDivElement) {\r\n    div = div ? div : document.createElement(\"div\");\r\n    div.innerHTML = str;\r\n    return div.textContent || div.innerText || \"\";\r\n}\r\n\r\n//  Template   ---\r\n//  https://github.com/Matt-Esch/string-template (MIT)\r\nconst nargs = /\\{([0-9a-zA-Z_\\s\\[\\]]+)\\}/g;\r\nconst nargs2 = /\\{\\{([0-9a-zA-Z_\\s\\[\\]]+)\\}\\}/g;\r\n\r\nexport function templateFields(tpl: string): string[] {\r\n    if (!tpl) return [];\r\n    const retVal: string[] = [];\r\n    const matches = tpl.match(nargs);\r\n    if (matches && matches.length) {\r\n        for (const tplField of matches) {\r\n            retVal.push(tplField.substring(1, tplField.length - 1));\r\n        }\r\n    }\r\n    return retVal;\r\n}\r\n\r\nexport function template(tpl: string, _args) {\r\n    if (!tpl) return \"\";\r\n    let args;\r\n\r\n    if (arguments.length === 2 && typeof arguments[1] === \"object\") {\r\n        args = arguments[1];\r\n    } else {\r\n        args = new Array(arguments.length - 1);\r\n        for (let i = 1; i < arguments.length; ++i) {\r\n            args[i - 1] = arguments[i];\r\n        }\r\n    }\r\n\r\n    if (!args || !args.hasOwnProperty) {\r\n        args = {};\r\n    }\r\n\r\n    //  Array handling\r\n    for (const key in args) {\r\n        if (isArray(args[key])) {\r\n            args[key].forEach(function (row, idx) {\r\n                args[key + \"[\" + idx + \"]\"] = row;\r\n            });\r\n        }\r\n    }\r\n\r\n    return tpl\r\n        .replace(nargs2, function replaceArg(match, i) {\r\n            const result = args.hasOwnProperty(i) ? args[i] : null;\r\n            if (result === null || result === undefined) {\r\n                return match;\r\n            }\r\n            return removeHTMLFromString(result);\r\n        })\r\n        .replace(nargs, function replaceArg(match, i, index) {\r\n            const result = args.hasOwnProperty(i) ? args[i] : null;\r\n            if (result === null || result === undefined) {\r\n                return \"\";\r\n            }\r\n            return result;\r\n        })\r\n        ;\r\n}\r\n\r\nexport function naturalSort(data, order, idx, sortCaseSensitive) {\r\n    return data.slice(0).sort(function (a, b) {\r\n        return _naturalSort(a, b, order, idx, sortCaseSensitive);\r\n    });\r\n}\r\n\r\nexport function multiSort(data, sortBy) {\r\n    if (sortBy && sortBy.length) {\r\n        data.sort(function (l, r) {\r\n            for (let i = 0; i < sortBy.length; ++i) {\r\n                const lVal = l[sortBy[i].idx];\r\n                const rVal = r[sortBy[i].idx];\r\n                if (lVal !== rVal) {\r\n                    return sortBy[i].reverse ? d3Descending(lVal, rVal) : d3Ascending(lVal, rVal);\r\n                }\r\n            }\r\n            return 0;\r\n        });\r\n    }\r\n    return data;\r\n}\r\n\r\nexport const Selection = SelectionBag;\r\n\r\nexport function urlParams() {\r\n    const def = window.location.search.split(\"?\")[1];\r\n    const retVal = {};\r\n    if (def) {\r\n        def.split(\"&\").forEach(function (param) {\r\n            const paramParts = param.split(\"=\");\r\n            switch (paramParts.length) {\r\n                case 1:\r\n                    retVal[decodeURIComponent(paramParts[0])] = undefined;\r\n                    break;\r\n                case 2:\r\n                    retVal[decodeURIComponent(paramParts[0])] = decodeURIComponent(paramParts[1]);\r\n                    break;\r\n                default:\r\n                    throw new Error(\"Invalid URL Param:  \" + param);\r\n            }\r\n        });\r\n    }\r\n    return retVal;\r\n}\r\n\r\nexport function endsWith(str: string, searchStr: string, pos?: number) {\r\n    const subjectString = str.toString();\r\n    if (typeof pos !== \"number\" || !isFinite(pos) || Math.floor(pos) !== pos || pos > subjectString.length) {\r\n        pos = subjectString.length;\r\n    }\r\n    pos -= searchStr.length;\r\n    const lastIndex = subjectString.indexOf(searchStr, pos);\r\n    return lastIndex !== -1 && lastIndex === pos;\r\n}\r\n\r\nexport function d3ArrayAdapter(array) {\r\n    return {\r\n        ownerDocument: {\r\n            createElement(_tagName) {\r\n                return {\r\n                    get __data__() { return this.row; },\r\n                    set __data__(_) { this.row = array[this.index] = _; }\r\n                };\r\n            },\r\n\r\n            createElementNS(_ns, tagName) {\r\n                return this.createElement(tagName);\r\n            }\r\n        },\r\n\r\n        querySelectorAll(selectors) {\r\n            if (selectors) throw new Error(\"unsupported\");\r\n            const context = this;\r\n            return array.map(function (row, idx) {\r\n                return {\r\n                    ownerDocument: context.ownerDocument,\r\n                    parentNode: context,\r\n                    get __data__() { return row; },\r\n                    set __data__(_) { array[idx] = _; }\r\n                };\r\n            });\r\n        },\r\n\r\n        appendChild(node) {\r\n            node.parentNode = this;\r\n            node.index = array.length;\r\n            array.push(null);\r\n            return node;\r\n        },\r\n\r\n        insertBefore(node, referenceNode) {\r\n            const idx = array.indexOf(node.__data__);\r\n            const refIdx = array.indexOf(referenceNode.__data__);\r\n            if (idx > refIdx) {\r\n                array.splice(refIdx, 0, array.splice(idx, 1)[0]);\r\n            } else if (idx < refIdx - 1) {\r\n                array.splice(refIdx - 1, 0, array.splice(idx, 1)[0]);\r\n            }\r\n            return node;\r\n        },\r\n\r\n        removeChild(node) {\r\n            array.splice(array.indexOf(node.__data__), 1);\r\n            return node;\r\n        }\r\n    };\r\n}\r\n\r\nexport function downloadBlob(blob: Blob, filename: string) {\r\n    let a = document.createElement(\"a\");\r\n    if (navigator.msSaveBlob) { // IE10+\r\n        a = null;\r\n        return navigator.msSaveBlob(blob, filename);\r\n    } else if (\"download\" in a) { // html 5\r\n        a.href = URL.createObjectURL(blob);\r\n        a.setAttribute(\"download\", filename);\r\n        document.body.appendChild(a);\r\n        setTimeout(function () {\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        }, 10);\r\n        return true;\r\n    }\r\n}\r\n\r\nexport function timestamp() {\r\n    const currentdate = new Date();\r\n    const timeFormat = d3TimeFormat(\"%Y-%m-%dT%H_%M_%S\");\r\n    return timeFormat(currentdate);\r\n}\r\n\r\nexport function downloadString(format: \"CSV\" | \"TSV\" | \"JSON\" | \"TEXT\" | \"SVG\", blob: string, id?: string) {\r\n    const filename = id || (\"data_\" + timestamp()) + \".\" + format.toLowerCase();\r\n\r\n    let mimeType = \"\";\r\n    switch (format) {\r\n        case \"TSV\":\r\n            mimeType = \"text/tab-seperated-values\";\r\n            break;\r\n        case \"JSON\":\r\n            mimeType = \"application/json\";\r\n            break;\r\n        case \"SVG\":\r\n            mimeType = \"image/svg+xml\";\r\n            break;\r\n        case \"CSV\":\r\n        case \"TEXT\":\r\n        default:\r\n            mimeType = \"text/csv\";\r\n    }\r\n    downloadBlob(new Blob([blob], { type: mimeType }), filename);\r\n}\r\n\r\nexport function widgetPath(classID) {\r\n    return \"../\" + classID.split(\"_\").join(\"/\");\r\n}\r\n\r\nexport function parseClassID(classID, prefix = \"..\") {\r\n    const parts = classID.split(\".\");\r\n    const classParts = parts[0].split(\"_\");\r\n    return {\r\n        package: `@hpcc-js/${classParts[0]}`,\r\n        path: prefix + \"/\" + parts[0].split(\"_\").join(\"/\"),\r\n        widgetID: classParts.length > 1 ? classParts[1] : null,\r\n        memberWidgetID: parts.length > 1 ? parts[1] : null\r\n    };\r\n}\r\n\r\nexport function checksum(s) {\r\n    if (s instanceof Array) {\r\n        s = s.join(\"\") + s.length;\r\n    }\r\n    switch (typeof s) {\r\n        case \"string\":\r\n            break;\r\n        default:\r\n            s = \"\" + s;\r\n    }\r\n    let chk = 0x12345678;\r\n    for (let i = 0, l = s.length; i < l; ++i) {\r\n        chk += (s.charCodeAt(i) * (i + 1));\r\n    }\r\n    // tslint:disable-next-line:no-bitwise\r\n    return (chk & 0xffffffff).toString(16);\r\n}\r\nexport function getTime() {\r\n    return (now && now.call(perf)) || (new Date().getTime());\r\n}\r\nexport function mixin(dest, _sources) {\r\n    dest = dest || {};\r\n    for (let i = 1, l = arguments.length; i < l; i++) {\r\n        _mixin(dest, arguments[i]);\r\n    }\r\n    return dest;\r\n}\r\n\r\nfunction _mixin(dest, source) {\r\n    let s;\r\n    const empty = {};\r\n    for (const key in source) {\r\n        s = source[key];\r\n        if (!(key in dest) || (dest[key] !== s && (!(key in empty) || empty[key] !== s))) {\r\n            dest[key] = s;\r\n        }\r\n    }\r\n    return dest;\r\n}\r\n\r\nexport function exists(prop, scope) {\r\n    if (!prop || !scope) {\r\n        return false;\r\n    }\r\n    const propParts = prop.split(\".\");\r\n    let testScope = scope;\r\n    for (let i = 0; i < propParts.length; ++i) {\r\n        const item = propParts[i];\r\n        if (testScope[item] === undefined) {\r\n            return false;\r\n        }\r\n        testScope = testScope[item];\r\n    }\r\n    return true;\r\n}\r\n\r\nexport function logStringify(obj) {\r\n    const cache = [];\r\n    return JSON.stringify(obj, function (_key, value) {\r\n        if (typeof value === \"object\" && value !== null) {\r\n            if (cache.indexOf(value) !== -1) {\r\n                return;\r\n            }\r\n\r\n            cache.push(value);\r\n        }\r\n        return value;\r\n    });\r\n}\r\n\r\nexport function debounce(func, threshold = 100, execAsap = false) {\r\n    return function debounced(..._dummyArgs) {\r\n        const obj = this || {};\r\n        const args = arguments;\r\n        function delayed() {\r\n            if (!execAsap)\r\n                func.apply(obj, args);\r\n            obj.__hpcc_debounce_timeout = null;\r\n        }\r\n        if (obj.__hpcc_debounce_timeout)\r\n            clearTimeout(obj.__hpcc_debounce_timeout);\r\n        else if (execAsap)\r\n            func.apply(obj, args);\r\n        obj.__hpcc_debounce_timeout = setTimeout(delayed, threshold);\r\n    };\r\n}\r\n\r\nexport function parseVersionString(versionString) {\r\n    const _sp = versionString.split(\".\");\r\n    return {\r\n        major: parseInt(_sp[0].replace(\"v\", \"\")),\r\n        minor: parseInt(_sp[1]),\r\n        patch: parseInt(_sp[2].split(\"-\")[0])\r\n    };\r\n}\r\n","import { deviation as d3Deviation, max as d3Max, mean as d3Mean, median as d3Median, min as d3Min, sum as d3Sum, variance as d3Variance } from \"d3-array\";\r\nimport { map as d3Map, nest as d3Nest } from \"d3-collection\";\r\nimport { csvFormatRows as d3CsvFormatRows, csvParse as d3CsvParse, tsvFormatRows as d3TsvFormatRows, tsvParse as d3TsvParse } from \"d3-dsv\";\r\nimport { format as d3Format } from \"d3-format\";\r\nimport { timeFormat as d3TimeFormat, timeParse as d3TimeParse } from \"d3-time-format\";\r\nimport { PropertyExt } from \"./PropertyExt\";\r\nimport * as Utility from \"./Utility\";\r\n\r\nconst d3Aggr = {\r\n    min: d3Min,\r\n    max: d3Max,\r\n    mean: d3Mean,\r\n    median: d3Median,\r\n    variance: d3Variance,\r\n    deviation: d3Deviation,\r\n    sum: d3Sum\r\n};\r\n\r\nlet lastFoundFormat = null;\r\n\r\nexport interface INestedColumn {\r\n    label: string;\r\n    columns: Array<string | INestedColumn>;\r\n}\r\n\r\n//  Field  ---\r\nexport type FieldType = \"string\" | \"number\" | \"boolean\" | \"date\" | \"time\" | \"hidden\" | \"nested\";\r\n\r\nexport class Field extends PropertyExt {\r\n    private _owner: Grid;\r\n    idx: number;\r\n    protected _children: Field[] = [];\r\n\r\n    constructor(id?) {\r\n        super();\r\n        PropertyExt.call(this);\r\n\r\n        this._id = id || this._id;\r\n    }\r\n\r\n    owner(): Grid;\r\n    owner(_: Grid): this;\r\n    owner(_?: Grid): Grid | this {\r\n        if (!arguments.length) return this._owner;\r\n        this._owner = _;\r\n        return this;\r\n    }\r\n\r\n    valid(): boolean {\r\n        return !!this.label();\r\n    }\r\n\r\n    checksum(): string {\r\n        return Utility.checksum(this.label() + this.type() + this.mask() + this.format());\r\n    }\r\n\r\n    typeTransformer(_: any) {\r\n        switch (this.type()) {\r\n            case \"number\":\r\n                return Number(_);\r\n            case \"string\":\r\n                return String(_);\r\n            case \"boolean\":\r\n                return typeof (_) === \"string\" && [\"false\", \"off\", \"0\"].indexOf(_.toLowerCase()) >= 0 ? false : Boolean(_);\r\n            case \"time\":\r\n            case \"date\":\r\n                return this.maskTransformer(_);\r\n        }\r\n        return _;\r\n    }\r\n\r\n    maskTransformer(_) {\r\n        return this.formatter(this.mask()).parse(String(_));\r\n    }\r\n\r\n    formatTransformer(_) {\r\n        return this.formatter(this.format())(_);\r\n    }\r\n\r\n    parse(_) {\r\n        if (!_) {\r\n            return _;\r\n        }\r\n        try {\r\n            return this.typeTransformer(_);\r\n        } catch (e) {\r\n            console.log(\"Unable to parse:  \" + _);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    transform(_) {\r\n        if (!_) {\r\n            return _;\r\n        }\r\n        try {\r\n            return this.formatTransformer(this.typeTransformer(_));\r\n        } catch (e) {\r\n            console.log(\"Unable to transform:  \" + _);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    clone() {\r\n        const context = this;\r\n        const retVal = new Field(this._id);\r\n        cloneProp(retVal, \"label\");\r\n        cloneProp(retVal, \"type\");\r\n        cloneProp(retVal, \"mask\");\r\n        cloneProp(retVal, \"format\");\r\n\r\n        function cloneProp(dest, key) {\r\n            dest[key + \"_default\"](context[key + \"_default\"]());\r\n            if (context[key + \"_exists\"]()) {\r\n                dest[key](context[key]());\r\n            }\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    formatter(format) {\r\n        let retVal;\r\n        if (!format) {\r\n            retVal = function (_) {\r\n                return _;\r\n            };\r\n            retVal.parse = function (_) {\r\n                return _;\r\n            };\r\n            return retVal;\r\n        }\r\n        switch (this.type()) {\r\n            case \"time\":\r\n            case \"date\":\r\n                return d3TimeFormat(format);\r\n        }\r\n        retVal = d3Format(format);\r\n        retVal.parse = function (_) {\r\n            return _;\r\n        };\r\n        return retVal;\r\n    }\r\n\r\n    children(): Field[];\r\n    children(_: Array<string | INestedColumn | Field>, asDefault?: boolean): this;\r\n    children(_?: Array<string | INestedColumn | Field>, asDefault?: boolean): Field[] | this {\r\n        if (_ === void 0) return this._children;\r\n        this.type(\"nested\");\r\n        const fieldsArr = this._children;\r\n        this._children = _.map((field: string | INestedColumn | Field, idx): Field => {\r\n            if (field instanceof Field) {\r\n                fieldsArr[idx] = field;\r\n                return field;\r\n            } else if (typeof field === \"string\") {\r\n                if (asDefault) {\r\n                    return (fieldsArr[idx] || new Field()).label_default(field);\r\n                } else {\r\n                    return (fieldsArr[idx] || new Field()).label(field);\r\n                }\r\n            } else {\r\n                if (asDefault) {\r\n                    return (fieldsArr[idx] || new Field())\r\n                        .label_default(field.label)\r\n                        .children(field.columns) as Field\r\n                        ;\r\n                } else {\r\n                    return (fieldsArr[idx] || new Field())\r\n                        .label(field.label)\r\n                        .children(field.columns) as Field\r\n                        ;\r\n                }\r\n            }\r\n        }, this);\r\n        return this;\r\n    }\r\n\r\n    label_default: { (): string; (x: string): Field; };\r\n    label: { (): string; (x: string): Field; };\r\n    mask: { (): string; (x: string): Field; };\r\n    format: { (): string; (x: string): Field; };\r\n}\r\nField.prototype._class += \" common_Database.Field\";\r\n\r\nexport interface Field {\r\n    type(): FieldType;\r\n    type(_: FieldType): this;\r\n}\r\n\r\nField.prototype.publish(\"label\", \"\", \"string\", \"Label\", null, { optional: true });\r\nField.prototype.publish(\"type\", \"\", \"set\", \"Type\", [\"\", \"string\", \"number\", \"boolean\", \"date\", \"time\", \"hidden\", \"nested\"], { optional: true });\r\nField.prototype.publish(\"mask\", \"\", \"string\", \"Time Mask\", null, { disable: (w: any) => w.type() !== \"time\", optional: true });\r\nField.prototype.publish(\"format\", \"\", \"string\", \"Format\", null, { optional: true });\r\n\r\n//  Grid  ---\r\nexport class Grid extends PropertyExt {\r\n    _dataChecksum: boolean;\r\n    _dataVersion: number;\r\n\r\n    private _data = [];\r\n    private _dataChecksums = [];\r\n\r\n    constructor(dataChecksum?) {\r\n        super();\r\n        dataChecksum = dataChecksum || false;\r\n        this._dataChecksum = dataChecksum;\r\n        this._dataVersion = 0;\r\n        this.clear();\r\n    }\r\n\r\n    clear() {\r\n        this.fields([]);\r\n        this._data = [];\r\n        this._dataChecksums = [];\r\n        ++this._dataVersion;\r\n        return this;\r\n    }\r\n\r\n    //  Backward compatability  ---\r\n    resetColumns() {\r\n        const fields = this.fields() as Field[];\r\n        this.legacyColumns([]);\r\n        this.legacyColumns(fields.map(function (field) {\r\n            return field.label();\r\n        }));\r\n    }\r\n\r\n    legacyColumns(_?, asDefault?): any | Grid {\r\n        if (!arguments.length) return this.row(0);\r\n        this.row(0, _, asDefault);\r\n        return this;\r\n    }\r\n\r\n    legacyData(_?, _clone?) {\r\n        return Grid.prototype.data.apply(this, arguments);\r\n    }\r\n\r\n    //  Meta  ---\r\n    schema() {\r\n    }\r\n\r\n    field(idx) {\r\n        return this.fields()[idx];\r\n    }\r\n\r\n    fieldByLabel(_, ignoreCase?) {\r\n        return this.fields().filter(function (field: Field, idx) {\r\n            field.idx = idx;\r\n            return ignoreCase ? field.label().toLowerCase() === _.toLowerCase() : field.label() === _;\r\n        })[0];\r\n    }\r\n\r\n    data(_?, clone?): any | Grid {\r\n        if (!arguments.length) return this._data;\r\n        this._data = clone ? _.map(function (d) { return d.map(function (d2) { return d2; }); }) : _;\r\n        this._dataCalcChecksum();\r\n        return this;\r\n    }\r\n\r\n    parsedData() {\r\n        const context = this;\r\n        return this._data.map(function (row) {\r\n            return row.map(function (cell, idx) {\r\n                return context.fields()[idx].parse(cell);\r\n            });\r\n        });\r\n    }\r\n\r\n    formattedData() {\r\n        return this._data.map(row => {\r\n            return this.fields().map((field, idx) => {\r\n                return field.transform(row[idx]);\r\n            });\r\n        });\r\n    }\r\n\r\n    fieldsChecksum() {\r\n        return Utility.checksum(this.fields().map(function (field) { return field.checksum(); }));\r\n    }\r\n\r\n    dataChecksum() {\r\n        return Utility.checksum(this._dataChecksum ? this._dataChecksums : this._dataVersion);\r\n    }\r\n\r\n    checksum() {\r\n        return Utility.checksum([this.dataChecksum(), this.fieldsChecksum()]);\r\n    }\r\n\r\n    //  Row Access  ---\r\n    private _dataCalcChecksum(idx?) {\r\n        ++this._dataVersion;\r\n        if (this._dataChecksum) {\r\n            if (arguments.length) {\r\n                this._dataChecksums[idx] = Utility.checksum(this._data[idx]);\r\n            } else {\r\n                this._dataChecksums = this._data.map(function (row) { return Utility.checksum(row); });\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    row(row?, _?, asDefault?): any | Grid {\r\n        if (arguments.length < 2) return row === 0 ? this.fields().map(function (d) { return d.label(); }) : this._data[row - 1];\r\n        if (row === 0) {\r\n            const fieldsArr = this.fields();\r\n            this.fields(_.map(function (field: string | INestedColumn, idx) {\r\n                if (typeof field === \"string\") {\r\n                    if (asDefault) {\r\n                        return (fieldsArr[idx] || new Field()).label_default(field);\r\n                    } else {\r\n                        return (fieldsArr[idx] || new Field()).label(field);\r\n                    }\r\n                } else {\r\n                    if (asDefault) {\r\n                        return (fieldsArr[idx] || new Field())\r\n                            .label_default(field.label)\r\n                            .children(field.columns)\r\n                            ;\r\n                    } else {\r\n                        return (fieldsArr[idx] || new Field())\r\n                            .label(field.label)\r\n                            .children(field.columns)\r\n                            ;\r\n                    }\r\n                }\r\n            }, this));\r\n        } else {\r\n            this._data[row - 1] = _;\r\n            this._dataCalcChecksum(row - 1);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    rows(_?): any | Grid {\r\n        if (!arguments.length) return [this.row(0)].concat(this._data);\r\n        this.row(0, _[0]);\r\n        this._data = _.filter(function (_row, idx) { return idx > 0; });\r\n        this._dataCalcChecksum();\r\n        return this;\r\n    }\r\n\r\n    //  Column Access  ---\r\n    column(col, _?): any | Grid {\r\n        if (arguments.length < 2) return [this.fields()[col].label()].concat(this._data.map(function (row, _idx) { return row[col]; }));\r\n        _.forEach(function (d, idx) {\r\n            if (idx === 0) {\r\n                this.fields()[col] = new Field().label(_[0]);\r\n            } else {\r\n                this._data[idx - 1][col] = d;\r\n                this._dataCalcChecksum(idx - 1);\r\n            }\r\n        }, this);\r\n        return this;\r\n    }\r\n\r\n    columnData(col, _): any | Grid {\r\n        if (arguments.length < 2) return this._data.map(function (row, _idx) { return row[col]; });\r\n        _.forEach(function (d, idx) {\r\n            this._data[idx][col] = d;\r\n            this._dataCalcChecksum(idx);\r\n        }, this);\r\n        return this;\r\n    }\r\n\r\n    columns(_?): any | Grid {\r\n        if (!arguments.length) return this.fields().map(function (_col, idx) {\r\n            return this.column(idx);\r\n        }, this);\r\n        _.forEach(function (_col, idx) {\r\n            this.column(idx, _[idx]);\r\n        }, this);\r\n        return this;\r\n    }\r\n\r\n    //  Cell Access  ---\r\n    cell(row, col, _) {\r\n        if (arguments.length < 3) return this.row(row)[col];\r\n        if (row === 0) {\r\n            this.fields()[col] = new Field().label(_);\r\n        } else {\r\n            this._data[row][col] = _;\r\n            this._dataCalcChecksum(row);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    //  Grid Access  ---\r\n    grid(_?) {\r\n        return Grid.prototype.rows.apply(this, arguments);\r\n    }\r\n\r\n    //  Hipie Helpers  ---\r\n\r\n    hipieMappings(columns, missingDataString) {\r\n        missingDataString = missingDataString || \"\";\r\n        if (!this.fields().length || !this._data.length) {\r\n            return [];\r\n        }\r\n        const mappedColumns = [];\r\n        let hasRollup = false;\r\n        columns.forEach(function (mapping, idx) {\r\n            const mappedColumn = {\r\n                groupby: false,\r\n                func: \"\",\r\n                params: []\r\n            };\r\n            if (mapping.hasFunction()) {\r\n                mappedColumn.func = mapping.function();\r\n                if (mappedColumn.func === \"SCALE\") {\r\n                    mappedColumn.groupby = true;\r\n                } else {\r\n                    hasRollup = true;\r\n                }\r\n\r\n                mapping.params().forEach(function (param) {\r\n                    const field = this.fieldByLabel(param, true);\r\n                    mappedColumn.params.push(field ? field.idx : -1);\r\n                }, this);\r\n            } else {\r\n                mappedColumn.groupby = true;\r\n                const field = this.fieldByLabel(mapping.id(), true);\r\n                mappedColumn.params.push(field ? field.idx : -1);\r\n            }\r\n            mappedColumns.push(mappedColumn);\r\n        }, this);\r\n\r\n        if (hasRollup) {\r\n            const retVal = [];\r\n            this.rollup(mappedColumns.filter(function (mappedColumn) {\r\n                return mappedColumn.groupby === true;\r\n            }).map(function (d) {\r\n                return d.params[0];\r\n            }), function (leaves) {\r\n                const row = mappedColumns.map(function (mappedColumn) {\r\n                    const param1 = mappedColumn.params[0];\r\n                    const param2 = mappedColumn.params[1];\r\n                    switch (mappedColumn.func) {\r\n                        case \"SUM\":\r\n                            return d3Sum(leaves, function (d) { return d[param1]; });\r\n                        case \"AVE\":\r\n                            return d3Mean(leaves, function (d) { return d[param1] / d[param2]; });\r\n                        case \"MIN\":\r\n                            return d3Min(leaves, function (d) { return d[param1]; });\r\n                        case \"MAX\":\r\n                            return d3Max(leaves, function (d) { return d[param1]; });\r\n                        case \"SCALE\":\r\n                            console.log(\"Unexpected function:  \" + mappedColumn.func);\r\n                            //  All leaves should have the same values, use mean just in case they don't?\r\n                            return d3Mean(leaves, function (d) { return d[param1] / +param2; });\r\n                    }\r\n                    //  All leaves should have the same value.\r\n                    return leaves[0][param1];\r\n                });\r\n                retVal.push(row);\r\n                return row;\r\n            });\r\n            return retVal;\r\n        } else {\r\n            return this._data.map(function (row) {\r\n                return mappedColumns.map(function (mappedColumn) {\r\n                    const param1 = mappedColumn.params[0];\r\n                    const param2 = mappedColumn.params[1];\r\n                    switch (mappedColumn.func) {\r\n                        case \"SCALE\":\r\n                            return row[param1] / +param2;\r\n                        case \"SUM\":\r\n                        case \"AVE\":\r\n                        case \"MIN\":\r\n                        case \"MAX\":\r\n                            console.log(\"Unexpected function:  \" + mappedColumn.func);\r\n                    }\r\n                    return row[param1];\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    legacyView() {\r\n        return new LegacyView(this);\r\n    }\r\n\r\n    nestView(columnIndicies) {\r\n        return new RollupView(this, columnIndicies);\r\n    }\r\n\r\n    rollupView(columnIndicies, rollupFunc?) {\r\n        return new RollupView(this, columnIndicies, rollupFunc);\r\n    }\r\n\r\n    aggregateView(columnIndicies, aggrType, aggrColumn, aggrDeltaColumn = \"\") {\r\n        const context = this;\r\n        return new RollupView(this, columnIndicies, function (values) {\r\n            switch (aggrType) {\r\n                case null:\r\n                case undefined:\r\n                case \"\":\r\n                    values.aggregate = values.length;\r\n                    return values;\r\n                default:\r\n                    const columns = context.legacyColumns();\r\n                    const colIdx = columns.indexOf(aggrColumn);\r\n                    const deltaIdx = columns.indexOf(aggrDeltaColumn);\r\n                    values.aggregate = d3Aggr[aggrType](values, function (value) {\r\n                        return (+value[colIdx] - (deltaIdx >= 0 ? +value[deltaIdx] : 0)) / (deltaIdx >= 0 ? +value[deltaIdx] : 1);\r\n                    });\r\n                    return values;\r\n            }\r\n        });\r\n    }\r\n\r\n    //  Nesting  ---\r\n    private _nest(columnIndicies, _rollup?) {\r\n        if (!(columnIndicies instanceof Array)) {\r\n            columnIndicies = [columnIndicies];\r\n        }\r\n        const nest = d3Nest();\r\n        columnIndicies.forEach(function (idx) {\r\n            nest.key(function (d) {\r\n                return d[idx];\r\n            });\r\n        });\r\n        return nest;\r\n    }\r\n\r\n    nest(columnIndicies) {\r\n        return this._nest(columnIndicies)\r\n            .entries(this._data)\r\n            ;\r\n    }\r\n\r\n    rollup(columnIndicies, rollup) {\r\n        return this._nest(columnIndicies)\r\n            .rollup(rollup)\r\n            .entries(this._data)\r\n            ;\r\n    }\r\n\r\n    //  Util  ---\r\n    length() {\r\n        return this._data.length + 1;\r\n    }\r\n\r\n    width() {\r\n        return this.fields().length;\r\n    }\r\n\r\n    pivot() {\r\n        this.resetColumns();\r\n        this.rows(this.columns());\r\n        return this;\r\n    }\r\n\r\n    clone(deep) {\r\n        return new Grid()\r\n            .fields(this.fields(), deep)\r\n            .data(this.data(), deep)\r\n            ;\r\n    }\r\n\r\n    filter(filter) {\r\n        const filterIdx = {};\r\n        this.row(0).forEach(function (col, idx) {\r\n            filterIdx[col] = idx;\r\n        });\r\n        return new Grid()\r\n            .fields(this.fields(), true)\r\n            .data(this.data().filter(function (row) {\r\n                for (const key in filter) {\r\n                    if (filter[key] !== row[filterIdx[key]]) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            }))\r\n            ;\r\n    }\r\n\r\n    analyse(columns) {\r\n        if (!(columns instanceof Array)) {\r\n            columns = [columns];\r\n        }\r\n        const retVal = [];\r\n        columns.forEach(function (col) {\r\n            const rollup = this.rollup(col, function (leaves) {\r\n                return leaves.length;\r\n            });\r\n            retVal.push(rollup);\r\n            const keys = rollup.map(function (d) { return d.key; });\r\n            this.fields()[col].isBoolean = typeTest(keys, isBoolean);\r\n            this.fields()[col].isNumber = typeTest(keys, isNumber);\r\n            this.fields()[col].isString = !this.fields()[col].isNumber && typeTest(keys, isString);\r\n            this.fields()[col].isUSState = this.fields()[col].isString && typeTest(keys, isUSState);\r\n            this.fields()[col].isDateTime = this.fields()[col].isString && typeTest(keys, isDateTime);\r\n            this.fields()[col].isDateTimeFormat = lastFoundFormat;\r\n            this.fields()[col].isDate = !this.fields()[col].isDateTime && typeTest(keys, isDate);\r\n            this.fields()[col].isDateFormat = lastFoundFormat;\r\n            this.fields()[col].isTime = this.fields()[col].isString && !this.fields()[col].isDateTime && !this.fields()[col].isDate && typeTest(keys, isTime);\r\n            this.fields()[col].isTimeFormat = lastFoundFormat;\r\n        }, this);\r\n        return retVal;\r\n    }\r\n\r\n    //  Import/Export  ---\r\n    jsonObj(_?): any | Grid {\r\n        if (!arguments.length) return this._data.map(function (row) {\r\n            const retVal = {};\r\n            this.row(0).forEach(function (col, idx) {\r\n                retVal[col] = row[idx];\r\n            });\r\n            return retVal;\r\n        }, this);\r\n        this.clear();\r\n        this.data(_.map(function (row) {\r\n            const retVal = [];\r\n            for (const key in row) {\r\n                let colIdx = this.row(0).indexOf(key);\r\n                if (colIdx < 0) {\r\n                    colIdx = this.fields().length;\r\n                    this.fields().push(new Field().label(key));\r\n                }\r\n                retVal[colIdx] = row[key];\r\n            }\r\n            return retVal;\r\n        }, this));\r\n        return this;\r\n    }\r\n\r\n    json(_: string | object): this;\r\n    json(): string;\r\n    json(_?: string | object): string | this {\r\n        if (!arguments.length) return JSON.stringify(this.jsonObj(), null, \"  \");\r\n        if (typeof (_) === \"string\") {\r\n            _ = JSON.parse(_);\r\n        }\r\n        this.jsonObj(_);\r\n        return this;\r\n    }\r\n\r\n    csv(_): this;\r\n    csv(): string;\r\n    csv(_?): string | this {\r\n        if (!arguments.length) {\r\n            const temp = document.createElement(\"div\");\r\n            return d3CsvFormatRows(this.grid().map(row => {\r\n                return row.map(cell => {\r\n                    return Utility.removeHTMLFromString(cell, temp);\r\n                });\r\n            }));\r\n        }\r\n        this.jsonObj(d3CsvParse(_));\r\n        return this;\r\n    }\r\n\r\n    tsv(_): this;\r\n    tsv(): string;\r\n    tsv(_?): string | this {\r\n        if (!arguments.length) return d3TsvFormatRows(this.grid());\r\n        this.jsonObj(d3TsvParse(_));\r\n        return this;\r\n    }\r\n}\r\nGrid.prototype._class += \" common_Database.Grid\";\r\nexport interface Grid {\r\n    fields(): Field[];\r\n    fields(_: Field[], clone?: boolean): this;\r\n}\r\n\r\nGrid.prototype.publish(\"fields\", [], \"propertyArray\", \"Fields\");\r\nconst fieldsOrig = Grid.prototype.fields;\r\nGrid.prototype.fields = function (_?, clone?) {\r\n    if (!arguments.length) return fieldsOrig.apply(this, arguments);\r\n    return fieldsOrig.call(this, clone ? _.map(function (d) { return d.clone(); }) : _);\r\n};\r\n\r\n//  Views  ---\r\nexport class LegacyView {\r\n    _grid;\r\n    _parsedData;\r\n    _parsedDataChecksum;\r\n    _formattedData;\r\n    _formattedDataChecksum;\r\n\r\n    constructor(grid) {\r\n        this._grid = grid;\r\n    }\r\n\r\n    checksum() {\r\n        const value = this._grid.on.apply(this._grid, arguments);\r\n        return value === this._grid ? this : value;\r\n    }\r\n\r\n    fields() {\r\n        const value = this._grid.on.apply(this._grid, arguments);\r\n        return value === this._grid ? this : value;\r\n    }\r\n\r\n    grid() {\r\n        return this._grid;\r\n    }\r\n    columns(_?) {\r\n        if (!arguments.length) return this._grid.legacyColumns();\r\n        this._grid.legacyColumns(_);\r\n        return this;\r\n    }\r\n    rawData(_?) {\r\n        if (!arguments.length) return this._grid.legacyData();\r\n        this._grid.legacyData(_);\r\n        return this;\r\n    }\r\n    formattedData() {\r\n        if (this._formattedDataChecksum !== this._grid.checksum()) {\r\n            this._formattedDataChecksum = this._grid.checksum();\r\n            this._formattedData = this._grid.formattedData();\r\n        }\r\n        return this._formattedData;\r\n    }\r\n    parsedData() {\r\n        if (this._parsedDataChecksum !== this._grid.checksum()) {\r\n            this._parsedDataChecksum = this._grid.checksum();\r\n            this._parsedData = this._grid.parsedData();\r\n        }\r\n        return this._parsedData;\r\n    }\r\n    protected _whichData(opts?) {\r\n        if (opts) {\r\n            if (opts.parsed) {\r\n                return this.formattedData();\r\n            } else if (opts.formatted) {\r\n                return this.formattedData();\r\n            }\r\n        }\r\n        return this.rawData();\r\n    }\r\n    data(_) {\r\n        return LegacyView.prototype.rawData.apply(this, arguments);\r\n    }\r\n}\r\n\r\nexport class RollupView extends LegacyView {\r\n    _columnIndicies;\r\n    _rollup;\r\n    _nestChecksum;\r\n    _nest;\r\n\r\n    constructor(grid, columns, rollup?) {\r\n        super(grid);\r\n        if (!(columns instanceof Array)) {\r\n            columns = [columns];\r\n        }\r\n        this._columnIndicies = columns.filter(function (column) { return column; }).map(function (column) {\r\n            switch (typeof column) {\r\n                case \"string\":\r\n                    return this._grid.fieldByLabel(column).idx;\r\n            }\r\n            return column;\r\n        }, this);\r\n\r\n        rollup = rollup || function (d) { return d; };\r\n        this._rollup = rollup;\r\n    }\r\n\r\n    nest() {\r\n        if (this._nestChecksum !== this._grid.checksum()) {\r\n            this._nestChecksum = this._grid.checksum();\r\n\r\n            const nest = d3Nest();\r\n            this._columnIndicies.forEach(function (idx) {\r\n                nest.key(function (d) {\r\n                    return d[idx];\r\n                });\r\n            });\r\n            this._nest = nest\r\n                .rollup(this._rollup)\r\n                ;\r\n        }\r\n        return this._nest;\r\n    }\r\n    entries(opts?) {\r\n        return this.nest().entries(this._whichData(opts));\r\n    }\r\n    map(opts) {\r\n        return this.nest().map(this._whichData(opts));\r\n    }\r\n    d3Map(opts) {\r\n        return this.nest().map(this._whichData(opts), d3Map);\r\n    }\r\n    _walkData(entries, prevRow = []) {\r\n        let retVal = [];\r\n        entries.forEach(function (entry) {\r\n            if (entry instanceof Array) {\r\n                retVal.push(prevRow.concat([entry]));\r\n            } else if (entry.values instanceof Array) {\r\n                retVal = retVal.concat(this._walkData(entry.values, prevRow.concat([entry.key])));\r\n            } else if (entry.value instanceof Array) {\r\n                retVal = retVal.concat(this._walkData(entry.value, prevRow.concat([entry.key])));\r\n            }\r\n        }, this);\r\n        return retVal;\r\n    }\r\n    data(opts) {\r\n        return this._walkData(this.entries(opts));\r\n    }\r\n}\r\n\r\n//  --- --- ---\r\nfunction typeTest(cells, test) {\r\n    if (!(cells instanceof Array)) {\r\n        cells = [cells];\r\n    }\r\n    return cells.filter(function (d) { return d !== \"\"; }).every(test);\r\n}\r\nfunction isBoolean(cell) {\r\n    return typeof cell === \"boolean\";\r\n}\r\nfunction isNumber(cell) {\r\n    return typeof cell === \"number\" || !isNaN(cell);\r\n}\r\nfunction isString(cell) {\r\n    return typeof cell === \"string\";\r\n}\r\nconst dateTimeFormats = [\r\n];\r\nconst dateFormats = [\r\n    \"%Y-%m-%d\",\r\n    \"%Y%m%d\"\r\n];\r\nconst timeFormats = [\r\n    \"%H:%M:%S.%LZ\",\r\n    \"%H:%M:%SZ\",\r\n    \"%H:%M:%S\"\r\n];\r\ndateFormats.forEach(function (d) {\r\n    timeFormats.forEach(function (t) {\r\n        dateTimeFormats.push(d + \"T\" + t);\r\n    });\r\n});\r\nfunction formatPicker(formats, cell) {\r\n    for (let i = 0; i < formats.length; ++i) {\r\n        const date = d3TimeParse(formats[i])(cell);\r\n        if (date) {\r\n            lastFoundFormat = formats[i];\r\n            return formats[i];\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction isDateTime(cell) {\r\n    return formatPicker(dateTimeFormats, cell);\r\n}\r\nfunction isDate(cell) {\r\n    return formatPicker(dateFormats, cell);\r\n}\r\nfunction isTime(cell) {\r\n    return formatPicker(timeFormats, cell);\r\n}\r\nfunction isUSState(cell) {\r\n    return [\"AL\", \"AK\", \"AZ\", \"AR\", \"CA\", \"CO\", \"CT\", \"DE\", \"FL\", \"GA\", \"HI\", \"ID\", \"IL\", \"IN\", \"IA\", \"KS\", \"KY\", \"LA\", \"ME\", \"MD\", \"MA\", \"MI\", \"MN\", \"MS\", \"MO\", \"MT\", \"NE\", \"NV\", \"NH\", \"NJ\", \"NM\", \"NY\", \"NC\", \"ND\", \"OH\", \"OK\", \"OR\", \"PA\", \"RI\", \"SC\", \"SD\", \"TN\", \"TX\", \"UT\", \"VT\", \"VA\", \"WA\", \"WV\", \"WI\", \"WY\", \"AS\", \"DC\", \"FM\", \"GU\", \"MH\", \"MP\", \"PW\", \"PR\", \"VI\"].indexOf(String(cell).toUpperCase()) >= 0;\r\n}\r\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import { select as d3Select } from \"d3-selection\";\r\nimport \"d3-transition\";\r\nimport { Field, Grid } from \"./Database\";\r\nimport { } from \"./Platform\";\r\nimport { PropertyExt } from \"./PropertyExt\";\r\nimport { debounce } from \"./Utility\";\r\n\r\nimport \"../src/Widget.css\";\r\n\r\nexport type IPrimative = boolean | number | string | object;\r\nexport type IFieldType = \"boolean\" | \"number\" | \"string\" | \"dataset\" | \"object\" | \"any\";\r\nexport interface InputField {\r\n    id: string;\r\n    type: IFieldType;\r\n    multi?: boolean;\r\n    default?: IPrimative | InputField[];\r\n    children?: InputField[];\r\n}\r\n\r\nexport interface IPos {\r\n    x: number;\r\n    y: number;\r\n}\r\n\r\nexport interface ISize {\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\nexport interface BBox {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\nexport interface DataMetaT {\r\n    min?: number;\r\n    max?: number;\r\n    mean?: number;\r\n    stdDev?: number;\r\n    sum?: number;\r\n}\r\n\r\nlet g_fontSizeContext: CanvasRenderingContext2D;\r\nconst g_fontSizeContextCache: { [key: string]: ISize } = {};\r\n\r\nlet widgetID = 0;\r\nexport abstract class Widget extends PropertyExt {\r\n    _idSeed: string;\r\n\r\n    protected _tag: string;\r\n    protected _isRootNode: boolean = true;\r\n\r\n    protected _db = new Grid();\r\n    protected _pos;\r\n    protected _prevPos;\r\n    protected _size;\r\n    protected _widgetScale;\r\n    protected _visible;\r\n    protected _display;\r\n    protected _dataMeta: DataMetaT = {};\r\n\r\n    protected _target: null | HTMLElement | SVGElement;\r\n    protected _placeholderElement;\r\n    protected _parentWidget;\r\n\r\n    protected _element;\r\n\r\n    protected _renderCount;\r\n\r\n    protected _overlayElement;\r\n\r\n    constructor() {\r\n        super();\r\n        this._class = Object.getPrototypeOf(this)._class;\r\n        this._id = this._idSeed + widgetID++;\r\n\r\n        this._db = new Grid();\r\n        this._pos = { x: 0, y: 0 };\r\n        this._size = { width: 0, height: 0 };\r\n        this._widgetScale = 1;\r\n        this._visible = true;\r\n\r\n        this._target = null;\r\n        this._placeholderElement = null;\r\n        this._parentWidget = null;\r\n\r\n        this._element = d3Select(null);\r\n\r\n        this._renderCount = 0;\r\n\r\n        if ((window as any).__hpcc_debug) {\r\n            if ((window as any).g_all === undefined) {\r\n                (window as any).g_all = {};\r\n            }\r\n            (window as any).g_all[this._id] = this;\r\n        }\r\n        if ((window as any).__hpcc_theme) {\r\n            this.applyTheme((window as any).__hpcc_theme);\r\n        }\r\n    }\r\n\r\n    importJSON(_: string | object): this {\r\n        this._db.json(_);\r\n        return this;\r\n    }\r\n\r\n    export(_: \"JSON\" | \"CSV\" | \"TSV\" = \"JSON\") {\r\n        switch (_) {\r\n            case \"CSV\":\r\n                return this._db.csv();\r\n            case \"TSV\":\r\n                return this._db.tsv();\r\n            case \"JSON\":\r\n            default:\r\n                return this._db.json();\r\n        }\r\n    }\r\n\r\n    leakCheck(newNode) {\r\n        const context = this;\r\n        const watchArray = [newNode];\r\n        const destructObserver = new MutationObserver(function (mutations) {\r\n            let leaks = false;\r\n            mutations.forEach(function (mutation) {\r\n                for (let i = 0; i < mutation.removedNodes.length; ++i) {\r\n                    const node = mutation.removedNodes.item(i);\r\n                    if (watchArray.indexOf(node) >= 0 && context._target) {\r\n                        leaks = true;\r\n                        destructObserver.disconnect();\r\n                    }\r\n                }\r\n            });\r\n            if (leaks) {\r\n                console.log(\"leak:  \" + context.id() + \" - \" + context.classID() + \"\\t\\twidget.target(null); was not called for this widget before it was removed from the page.\");\r\n            }\r\n        });\r\n        let pNode = newNode.parentNode;\r\n        while (pNode) {\r\n            destructObserver.observe(pNode, { childList: true });\r\n            watchArray.push(pNode);\r\n            pNode = pNode.parentNode;\r\n        }\r\n    }\r\n\r\n    renderCount(): number {\r\n        return this._renderCount;\r\n    }\r\n\r\n    //  Implementation  ---\r\n    columns(): string[];\r\n    columns(_: string[], asDefault?: boolean): this;\r\n    columns(_?: string[], asDefault?: boolean): string[] | this {\r\n        if (!arguments.length) return this._db.legacyColumns();\r\n        this._db.legacyColumns(_, asDefault);\r\n        return this;\r\n    }\r\n\r\n    protected columnIdx(column: string): number {\r\n        return this.columns().indexOf(column);\r\n    }\r\n\r\n    protected cellIdxFunc<T>(colIdx: number, defValue?: T): (row: any) => T {\r\n        return colIdx < 0 ? () => defValue : row => row[colIdx];\r\n    }\r\n\r\n    protected cellFunc<T>(column: string, defValue?: T): (row: any) => T {\r\n        return this.cellIdxFunc<T>(this.columnIdx(column), defValue);\r\n    }\r\n\r\n    parsedData() {\r\n        return this._db.parsedData();\r\n    }\r\n\r\n    formattedData() {\r\n        return this._db.formattedData();\r\n    }\r\n\r\n    data(): any;\r\n    data(_: any): this;\r\n    data(_?: any): any | this {\r\n        if (!arguments.length) return this._db.legacyData();\r\n        this._db.legacyData(_);\r\n        return this;\r\n    }\r\n\r\n    cloneData() {\r\n        return this.data().map(function (row) { return row.slice(0); });\r\n    }\r\n\r\n    flattenData(columns: string[] = this.columns(), data: any = this.data()) {\r\n        const retVal = [];\r\n        data.forEach(function (row, rowIdx) {\r\n            columns.filter(function (_col, idx) { return idx > 0; }).forEach(function (_col, idx) {\r\n                const val = row[idx + 1];\r\n                if (typeof val !== \"undefined\") {\r\n                    const newItem = {\r\n                        rowIdx,\r\n                        colIdx: idx + 1,\r\n                        label: row[0],\r\n                        value: val\r\n                    };\r\n                    retVal.push(newItem);\r\n                }\r\n            }, this);\r\n        }, this);\r\n        return retVal;\r\n    }\r\n\r\n    rowToObj(row: any[]): object {\r\n        if (!row) return {};\r\n        const retVal: any = {};\r\n        this.fields().forEach(function (field, idx) {\r\n            retVal[field.label_default() || field.label()] = row[idx];\r\n        });\r\n        if (row.length === this.columns().length + 1) {\r\n            retVal.__lparam = row[this.columns().length];\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    pos(): IPos;\r\n    pos(_: IPos): this;\r\n    pos(_?: IPos): IPos | this {\r\n        if (!arguments.length) return this._pos;\r\n        this._pos = _;\r\n        if (this._overlayElement) {\r\n            this._overlayElement\r\n                .attr(\"transform\", \"translate(\" + _.x + \",\" + _.y + \")scale(\" + this._widgetScale + \")\")\r\n                ;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    x(): number;\r\n    x(_): this;\r\n    x(_?): number | this {\r\n        if (!arguments.length) return this._pos.x;\r\n        this.pos({ x: _, y: this._pos.y });\r\n        return this;\r\n    }\r\n\r\n    y(): number;\r\n    y(_): this;\r\n    y(_?): number | this {\r\n        if (!arguments.length) return this._pos.y;\r\n        this.pos({ x: this._pos.x, y: _ });\r\n        return this;\r\n    }\r\n\r\n    size(): ISize;\r\n    size(_): this;\r\n    size(_?): ISize | this {\r\n        if (!arguments.length) return this._size;\r\n        this._size = _;\r\n        if (this._overlayElement) {\r\n            this._overlayElement\r\n                .attr(\"width\", _.width)\r\n                .attr(\"height\", _.height)\r\n                ;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    width(): number;\r\n    width(_): this;\r\n    width(_?): number | this {\r\n        if (!arguments.length) return this._size.width;\r\n        this.size({ width: _, height: this._size.height });\r\n        return this;\r\n    }\r\n\r\n    height(): number;\r\n    height(_): this;\r\n    height(_?): number | this {\r\n        if (!arguments.length) return this._size.height;\r\n        this.size({ width: this._size.width, height: _ });\r\n        return this;\r\n    }\r\n\r\n    resize(size?: ISize, delta: ISize = { width: 0, height: 0 }) {\r\n        let width;\r\n        let height;\r\n        if (size && size.width && size.height) {\r\n            width = size.width;\r\n            height = size.height;\r\n        } else {\r\n            const style = window.getComputedStyle(this._target, null);\r\n            width = parseFloat(style.getPropertyValue(\"width\")) - delta.width;\r\n            height = parseFloat(style.getPropertyValue(\"height\")) - delta.height;\r\n        }\r\n        this.size({\r\n            width,\r\n            height\r\n        });\r\n        return this;\r\n    }\r\n\r\n    scale(): number;\r\n    scale(_): Widget;\r\n    scale(_?): number | Widget {\r\n        if (!arguments.length) return this._widgetScale;\r\n        this._widgetScale = _;\r\n        if (this._overlayElement) {\r\n            this._overlayElement\r\n                .attr(\"transform\", \"translate(\" + _.x + \",\" + _.y + \")scale(\" + this._widgetScale + \")\")\r\n                ;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    visible(): boolean;\r\n    visible(_): this;\r\n    visible(_?): boolean | this {\r\n        if (!arguments.length) return this._visible;\r\n        this._visible = _;\r\n        if (this._element) {\r\n            this._element\r\n                .style(\"visibility\", this._visible ? null : \"hidden\")\r\n                .style(\"opacity\", this._visible ? null : 0)\r\n                ;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    display(): boolean;\r\n    display(_): this;\r\n    display(_?): boolean | this {\r\n        if (!arguments.length) return this._display;\r\n        this._display = _;\r\n        if (this._element) {\r\n            this._element.style(\"display\", this._display ? null : \"none\");\r\n        }\r\n        return this;\r\n    }\r\n\r\n    dataMeta(): DataMetaT;\r\n    dataMeta(_): this;\r\n    dataMeta(_?): DataMetaT | this {\r\n        if (!arguments.length) return this._dataMeta;\r\n        this._dataMeta = _;\r\n        return this;\r\n    }\r\n\r\n    private _appData = new Object({});\r\n    appData(key: string): any;\r\n    appData(key: string, value: any): this;\r\n    appData(key: string, value?: any): any | this {\r\n        if (arguments.length < 2) return this._appData[key];\r\n        this._appData[key] = value;\r\n        return this;\r\n    }\r\n\r\n    calcSnap(snapSize) {\r\n        function snap(x, gridSize) {\r\n            function snapDelta(x2, gridSize2) {\r\n                let dx = x2 % gridSize2;\r\n                if (Math.abs(dx) > gridSize2 - Math.abs(dx)) {\r\n                    dx = (gridSize2 - Math.abs(dx)) * (dx < 0 ? 1 : -1);\r\n                }\r\n                return dx;\r\n            }\r\n            return x - snapDelta(x, gridSize);\r\n        }\r\n        const l = snap(this._pos.x - this._size.width / 2, snapSize);\r\n        const t = snap(this._pos.y - this._size.height / 2, snapSize);\r\n        const r = snap(this._pos.x + this._size.width / 2, snapSize);\r\n        const b = snap(this._pos.y + this._size.height / 2, snapSize);\r\n        const w = r - l;\r\n        const h = b - t;\r\n        return [{ x: l + w / 2, y: t + h / 2 }, { width: w, height: h }];\r\n    }\r\n\r\n    //  DOM/SVG Node Helpers  ---\r\n    toWidget(domNode): Widget | null {\r\n        if (!domNode) {\r\n            return null;\r\n        }\r\n        const element = d3Select(domNode);\r\n        if (element) {\r\n            const widget = element.datum();\r\n            if (widget && widget instanceof Widget) {\r\n                return widget;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    parentOverlay() {\r\n        return null;\r\n    }\r\n\r\n    locateParentWidget(domNode?): Widget | null {\r\n        domNode = domNode || (this._target ? this._target.parentNode : null);\r\n        if (domNode) {\r\n            const widget = this.toWidget(domNode);\r\n            if (widget) {\r\n                return widget;\r\n            } else if (domNode.parentNode) {\r\n                return this.locateParentWidget(domNode.parentNode);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    locateSVGNode(domNode): SVGSVGElement | null {\r\n        if (!domNode) {\r\n            return null;\r\n        }\r\n        if (domNode.tagName === \"svg\") {\r\n            return domNode;\r\n        }\r\n        return this.locateSVGNode(domNode.parentNode);\r\n    }\r\n\r\n    locateOverlayNode() {\r\n        let widget = this.locateParentWidget(this._target);\r\n        while (widget) {\r\n            const retVal = widget.parentOverlay();\r\n            if (retVal) {\r\n                return retVal;\r\n            }\r\n            widget = this.locateParentWidget(widget._target.parentNode);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    locateAncestor(classID): Widget | null {\r\n        return this.locateClosestAncestor([classID]);\r\n    }\r\n\r\n    locateClosestAncestor(classIDArr): Widget | null {\r\n        let widget = this.locateParentWidget(this._target);\r\n        while (widget) {\r\n            if (classIDArr.indexOf(widget.classID()) !== -1) {\r\n                return widget;\r\n            }\r\n            widget = this.locateParentWidget(widget._target.parentNode);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getAbsolutePos(domNode, w, h) {\r\n        const root = this.locateSVGNode(domNode);\r\n        if (!root) {\r\n            return null;\r\n        }\r\n        let pos = root.createSVGPoint();\r\n        const ctm = domNode.getCTM();\r\n        pos = pos.matrixTransform(ctm);\r\n        const retVal: any = {\r\n            x: pos.x,\r\n            y: pos.y\r\n        };\r\n        if (w !== undefined && h !== undefined) {\r\n            let size = root.createSVGPoint();\r\n            size.x = w;\r\n            size.y = h;\r\n            size = size.matrixTransform(ctm);\r\n            retVal.width = size.x - pos.x;\r\n            retVal.height = size.y - pos.y;\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    hasOverlay() {\r\n        return this._overlayElement;\r\n    }\r\n\r\n    syncOverlay() {\r\n        if (this._size.width && this._size.height) {\r\n            const newPos = this.getAbsolutePos(this._overlayElement.node(), this._size.width, this._size.height);\r\n            if (newPos && (!this._prevPos || newPos.x !== this._prevPos.x || newPos.y !== this._prevPos.y || newPos.width !== this._prevPos.width || newPos.height !== this._prevPos.height)) {\r\n                const xScale = newPos.width / this._size.width;\r\n                const yScale = newPos.height / this._size.height;\r\n                this._placeholderElement\r\n                    .style(\"left\", newPos.x - (newPos.width / xScale) / 2 + \"px\")\r\n                    .style(\"top\", newPos.y - (newPos.height / yScale) / 2 + \"px\")\r\n                    .style(\"width\", newPos.width / xScale + \"px\")\r\n                    .style(\"height\", newPos.height / yScale + \"px\")\r\n                    ;\r\n                const transform = \"scale(\" + xScale + \",\" + yScale + \")\";\r\n                this._placeholderElement\r\n                    .style(\"transform\", transform)\r\n                    .style(\"-moz-transform\", transform)\r\n                    .style(\"-ms-transform\", transform)\r\n                    .style(\"-webkit-transform\", transform)\r\n                    .style(\"-o-transform\", transform)\r\n                    ;\r\n            }\r\n            this._prevPos = newPos;\r\n        }\r\n    }\r\n\r\n    getBBox(refresh = false, round = false): BBox {\r\n        return {\r\n            x: 0,\r\n            y: 0,\r\n            width: 0,\r\n            height: 0\r\n        };\r\n    }\r\n\r\n    textSize(_text: string | string[], fontName: string = \"Verdana\", fontSize: number = 12, bold: boolean = false): ISize {\r\n        if (!g_fontSizeContext) {\r\n            let fontSizeCalc = d3Select(\"body > #hpcc_js_font_size\");\r\n            if (fontSizeCalc.empty()) {\r\n                fontSizeCalc = d3Select(\"body\").append(\"canvas\")\r\n                    .attr(\"id\", \"hpcc_js_font_size\")\r\n                    ;\r\n            }\r\n            g_fontSizeContext = (fontSizeCalc.node() as HTMLCanvasElement).getContext(\"2d\");\r\n        }\r\n        const text = _text instanceof Array ? _text : [_text];\r\n        const hash = `${bold}::${fontSize}::${fontName}::${text.join(\"::\")}`;\r\n        let retVal = g_fontSizeContextCache[hash];\r\n        if (!retVal) {\r\n            g_fontSizeContext.font = `${bold ? \"bold \" : \"\"}${fontSize}px ${fontName}`;\r\n            g_fontSizeContextCache[hash] = retVal = {\r\n                width: Math.max(...text.map(t => g_fontSizeContext.measureText((\"\" + t).trim()).width)),\r\n                height: fontSize * text.length\r\n            };\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    element() {\r\n        return this._element;\r\n    }\r\n\r\n    node() {\r\n        return this._element.node();\r\n    }\r\n\r\n    target(): null | HTMLElement | SVGElement;\r\n    target(_: null | string | HTMLElement | SVGElement): this;\r\n    target(_?: null | string | HTMLElement | SVGElement): null | HTMLElement | SVGElement | this {\r\n        if (!arguments.length) return this._target;\r\n        if (this._target && _) {\r\n            throw new Error(\"Target can only be assigned once.\");\r\n        }\r\n        if (_ === null) {\r\n            this._target = null;\r\n            if (this.renderCount()) {\r\n                this.exit();\r\n            }\r\n        } else if (typeof _ === \"string\") {\r\n            this._target = document.getElementById(_);\r\n        } else if (_ instanceof HTMLElement || _ instanceof SVGElement) {\r\n            this._target = _;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    isDOMHidden(): boolean {\r\n        // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetParent\r\n        // Note:  Will return false for visible===hidden (which is ok as it still takes up space on the page)\r\n        return this._isRootNode && this._placeholderElement.node().offsetParent === null;\r\n    }\r\n\r\n    hasSize() {\r\n        return !isNaN(this.width()) && !isNaN(this.height());\r\n    }\r\n\r\n    protected publishedWidgets(): Widget[] {\r\n        let widgets = [];\r\n        this.publishedProperties(true).forEach(function (meta) {\r\n            if (!meta.ext || meta.ext.render !== false) {\r\n                switch (meta.type) {\r\n                    case \"widget\":\r\n                        const widget = this[meta.id]();\r\n                        if (widget) {\r\n                            widgets.push(widget);\r\n                        }\r\n                        break;\r\n                    case \"widgetArray\":\r\n                        widgets = widgets.concat(this[meta.id]());\r\n                        break;\r\n                }\r\n            }\r\n        }, this);\r\n        return widgets;\r\n    }\r\n\r\n    //  Render  ---\r\n    private _prevNow = 0;\r\n    render(callback?: (w: Widget) => void) {\r\n        if ((window as any).__hpcc_debug) {\r\n            const now = Date.now();\r\n            if (now - this._prevNow < 500) {\r\n                console.log(\"Double Render:  \" + (now - this._prevNow) + \" - \" + this.id() + \" - \" + this.classID());\r\n            }\r\n            this._prevNow = now;\r\n        }\r\n\r\n        callback = callback || function () { };\r\n        if (!this._placeholderElement || !this.visible() || this.isDOMHidden() || !this.hasSize()) {\r\n            callback(this);\r\n            return this;\r\n        }\r\n        if (this._placeholderElement) {\r\n            if (!this._tag)\r\n                throw new Error(\"No DOM tag specified\");\r\n\r\n            const elements = this._placeholderElement.selectAll(\"#\" + this._id).data([this], function (d) { return d._id; });\r\n            elements.enter().append(this._tag)\r\n                .classed(this._class, true)\r\n                .attr(\"id\", this._id)\r\n                // .attr(\"opacity\", 0.50)  //  Uncomment to debug position offsets  ---\r\n                .each(function (context2) {\r\n                    context2._element = d3Select(this);\r\n                    context2.enter(this, context2._element);\r\n                    if ((window as any).__hpcc_debug) {\r\n                        context2.leakCheck(this);\r\n                    }\r\n                })\r\n                .merge(elements)\r\n                .each(function (context2) {\r\n                    const element = d3Select(this);\r\n                    const classed = context2.classed();\r\n                    for (const key in classed) {\r\n                        element.classed(key, classed[key]);\r\n                    }\r\n                    context2.preUpdate(this, context2._element);\r\n                    context2.update(this, context2._element);\r\n                    context2.postUpdate(this, context2._element);\r\n                })\r\n                ;\r\n            elements.exit()\r\n                .each(function (context2) {\r\n                    d3Select(this).datum(null);\r\n                    context2.exit(this, context2._element);\r\n                })\r\n                .remove()\r\n                ;\r\n            this._renderCount++;\r\n        }\r\n\r\n        //  ASync Render Contained Widgets  ---\r\n        const widgets = this.publishedWidgets();\r\n\r\n        const context = this;\r\n        switch (widgets.length) {\r\n            case 0:\r\n                callback(this);\r\n                break;\r\n            case 1:\r\n                widgets[0].render(function () {\r\n                    callback(context);\r\n                });\r\n                break;\r\n            default:\r\n                let renderCount = widgets.length;\r\n                widgets.forEach(function (widget, _idx) {\r\n                    setTimeout(function () {\r\n                        widget.render(function () {\r\n                            if (--renderCount === 0) {\r\n                                callback(context);\r\n                            }\r\n                        });\r\n                    }, 0);\r\n                });\r\n                break;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    renderPromise(): Promise<Widget> {\r\n        return new Promise((resolve, reject) => {\r\n            this.render((w: Widget) => {\r\n                resolve(w);\r\n            });\r\n        });\r\n    }\r\n\r\n    lazyRender = debounce(function (debouncedCallback?: (w: Widget) => void) {\r\n        this.render(debouncedCallback);\r\n    }, 100);\r\n\r\n    animationFrameRender(): this {\r\n        if (requestAnimationFrame) {\r\n            requestAnimationFrame(() => {\r\n                this.render();\r\n            });\r\n        } else {\r\n            //  Not a real replacement for requestAnimationFrame  ---\r\n            this.renderPromise();\r\n        }\r\n        return this;\r\n    }\r\n\r\n    enter(_domNode: HTMLElement, _element) { }\r\n    preUpdate(_domNode: HTMLElement, _element) { }\r\n    update(_domNode: HTMLElement, _element) { }\r\n    postUpdate(_domNode: HTMLElement, _element) { }\r\n    exit(_domNode?: HTMLElement, _element?) {\r\n        this.publishedWidgets().forEach(w => w.target(null));\r\n    }\r\n}\r\nWidget.prototype._class += \" common_Widget\";\r\n\r\nexport interface Widget {\r\n    fields(): Field[];\r\n    fields(_: Field[]): this;\r\n    classed(classID: string): boolean;\r\n    classed(classID: string, _: boolean): this;\r\n    classed(): { [classID: string]: boolean };\r\n    classed(_: { [classID: string]: boolean }): this;\r\n}\r\n\r\nWidget.prototype._idSeed = \"_w\";\r\n\r\nWidget.prototype.publishProxy(\"fields\", \"_db\", \"fields\");\r\nWidget.prototype.publish(\"classed\", {}, \"object\", \"HTML Classes\", null, { tags: [\"Private\"] });\r\nconst origClassed = Widget.prototype.classed;\r\nWidget.prototype.classed = function (this: Widget, str_obj?: string | { [classID: string]: boolean }, _?: boolean) {\r\n    if (typeof str_obj === \"string\") {\r\n        if (arguments.length === 1) return origClassed.call(this)[str_obj];\r\n        const classed = origClassed.call(this);\r\n        origClassed.call(this, { ...classed, [str_obj]: _ });\r\n        return this;\r\n    }\r\n    return origClassed.apply(this, arguments);\r\n};\r\n","import { select as d3Select } from \"d3-selection\";\r\nimport { Widget } from \"./Widget\";\r\n\r\nexport class HTMLWidget extends Widget {\r\n\r\n    private observer;\r\n    protected _drawStartPos: \"origin\" | \"center\";\r\n    protected _boundingBox;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._drawStartPos = \"origin\";\r\n        this._tag = \"div\";\r\n        this._boundingBox = null;\r\n    }\r\n\r\n    calcFrameWidth(element) {\r\n        const retVal = parseFloat(element.style(\"padding-left\")) +\r\n            parseFloat(element.style(\"padding-right\")) +\r\n            parseFloat(element.style(\"margin-left\")) +\r\n            parseFloat(element.style(\"margin-right\")) +\r\n            parseFloat(element.style(\"border-left-width\")) +\r\n            parseFloat(element.style(\"border-right-width\"))\r\n            ;\r\n        return retVal;\r\n    }\r\n\r\n    calcWidth(element) {\r\n        return parseFloat(element.style(\"width\")) - this.calcFrameWidth(element);\r\n    }\r\n\r\n    calcFrameHeight(element) {\r\n        const retVal = parseFloat(element.style(\"padding-top\")) +\r\n            parseFloat(element.style(\"padding-bottom\")) +\r\n            parseFloat(element.style(\"margin-top\")) +\r\n            parseFloat(element.style(\"margin-bottom\")) +\r\n            parseFloat(element.style(\"border-top-width\")) +\r\n            parseFloat(element.style(\"border-bottom-width\"))\r\n            ;\r\n        return retVal;\r\n    }\r\n\r\n    calcHeight(element) {\r\n        return parseFloat(element.style(\"height\")) + this.calcFrameHeight(element);\r\n    }\r\n\r\n    hasHScroll(element) {\r\n        element = element || this._element;\r\n        return element.property(\"scrollWidth\") > element.property(\"clientWidth\");\r\n    }\r\n\r\n    hasVScroll(element) {\r\n        element = element || this._element;\r\n        return element.property(\"scrollHeight\") > element.property(\"clientHeight\");\r\n    }\r\n\r\n    clientWidth() {\r\n        return this._size.width - this.calcFrameWidth(this._element);\r\n    }\r\n\r\n    clientHeight() {\r\n        return this._size.height - this.calcFrameHeight(this._element);\r\n    }\r\n\r\n    getBBox(refresh = false, round = false) {\r\n        if (refresh || this._boundingBox === null) {\r\n            const domNode = this._element.node() ? this._element.node().firstElementChild : null;   //  Needs to be first child, as element has its width/height forced onto it.\r\n            if (domNode instanceof Element) {\r\n                const rect = domNode.getBoundingClientRect();\r\n                this._boundingBox = {\r\n                    x: rect.left,\r\n                    y: rect.top,\r\n                    width: rect.width,\r\n                    height: rect.height\r\n                };\r\n            }\r\n        }\r\n        if (this._boundingBox === null) {\r\n            return {\r\n                x: 0,\r\n                y: 0,\r\n                width: 0,\r\n                height: 0\r\n            };\r\n        }\r\n        return {\r\n            x: (round ? Math.round(this._boundingBox.x) : this._boundingBox.x) * this._widgetScale,\r\n            y: (round ? Math.round(this._boundingBox.y) : this._boundingBox.y) * this._widgetScale,\r\n            width: (round ? Math.round(this._boundingBox.width) : this._boundingBox.width) * this._widgetScale,\r\n            height: (round ? Math.round(this._boundingBox.height) : this._boundingBox.height) * this._widgetScale\r\n        };\r\n    }\r\n\r\n    reposition(pos?) {\r\n        // const retVal = super.reposition(pos);\r\n        if (this._placeholderElement) {\r\n            this._placeholderElement\r\n                .style(\"left\", pos.x + \"px\")\r\n                .style(\"top\", pos.y + \"px\")\r\n                ;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    resize(size?) {\r\n        const retVal = super.resize(size);\r\n        if (this._placeholderElement) {\r\n            this._placeholderElement\r\n                .style(\"width\", this._size.width + \"px\")\r\n                .style(\"height\", this._size.height + \"px\")\r\n                ;\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    //  Properties  ---\r\n    target(): null | HTMLElement | SVGElement;\r\n    target(_: null | string | HTMLElement | SVGElement): this;\r\n    target(_?: null | string | HTMLElement | SVGElement): null | HTMLElement | SVGElement | this {\r\n        const retVal = super.target.apply(this, arguments);\r\n        if (arguments.length) {\r\n            if (this._target instanceof SVGElement) {\r\n                //  Target is a SVG Node, so create an item in the Overlay and force it \"over\" the overlay element (cough)  ---\r\n                this._isRootNode = false;\r\n                const overlay = this.locateOverlayNode();\r\n                this._placeholderElement = overlay.append(\"div\")\r\n                    .style(\"position\", \"absolute\")\r\n                    .style(\"top\", \"0px\")\r\n                    .style(\"left\", \"0px\")\r\n                    .style(\"overflow\", \"hidden\")\r\n                    ;\r\n                this._overlayElement = d3Select(this._target);\r\n\r\n                this._prevPos = null;\r\n                this.observer = new MutationObserver(_mutation => {\r\n                    this.syncOverlay();\r\n                });\r\n\r\n                let domNode = this._overlayElement.node();\r\n                while (domNode) {\r\n                    this.observer.observe(domNode, { attributes: true });\r\n                    domNode = domNode.parentNode;\r\n                }\r\n            } else if (this._target) {  //  HTMLElement\r\n                this._placeholderElement = d3Select(this._target);\r\n                if (!this._size.width && !this._size.height) {\r\n                    const width = parseFloat(this._placeholderElement.style(\"width\"));\r\n                    const height = parseFloat(this._placeholderElement.style(\"height\"));\r\n                    this.size({\r\n                        width,\r\n                        height\r\n                    });\r\n                }\r\n                this._placeholderElement = d3Select(this._target).append(\"div\");\r\n            }\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    postUpdate(domNode, element) {\r\n        super.postUpdate(domNode, element);\r\n        if (this._drawStartPos === \"origin\") {\r\n            this._element\r\n                .style(\"position\", \"relative\")\r\n                .style(\"left\", this._pos.x + \"px\")\r\n                .style(\"top\", this._pos.y + \"px\")\r\n                ;\r\n        } else {\r\n            const bbox = this.getBBox(true);\r\n            this._element\r\n                .style(\"position\", \"relative\")\r\n                .style(\"float\", \"left\")\r\n                .style(\"left\", this._pos.x + (this._size.width - bbox.width) / 2 + \"px\")\r\n                .style(\"top\", this._pos.y + (this._size.height - bbox.height) / 2 + \"px\")\r\n                ;\r\n        }\r\n    }\r\n\r\n    exit(domNode?, element?) {\r\n        if (this.observer) {\r\n            this.observer.disconnect();\r\n        }\r\n        this._prevPos = null;\r\n        if (this._placeholderElement) {\r\n            this._placeholderElement.remove();\r\n        }\r\n        super.exit(domNode, element);\r\n    }\r\n}\r\nHTMLWidget.prototype._class += \" common_HTMLWidget\";\r\n","import { HTMLWidget } from \"./HTMLWidget\";\r\n\r\nexport class CanvasWidget extends HTMLWidget {\r\n\r\n    _ctx: CanvasRenderingContext2D;\r\n    constructor() {\r\n        super();\r\n        this._tag = \"canvas\";\r\n    }\r\n\r\n    resize(size) {\r\n        const retVal = super.resize(size);\r\n        try {\r\n            this._element.attr(\"width\", this._size.width);\r\n            this._element.attr(\"height\", this._size.height);\r\n            this.resetContext();\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    resetContext() {\r\n        this._ctx = this._element.node().getContext(\"2d\");\r\n    }\r\n\r\n    click(d, c) {\r\n        console.log(d);\r\n    }\r\n}\r\nCanvasWidget.prototype._class += \" common_CanvasWidget\";\r\n","const _version = \"1.14.2-dev\";\r\nexport function version() {\r\n    return _version;\r\n}\r\n\r\nexport const ieVersion = (function () {\r\n    const ua = navigator.userAgent;\r\n    let tem;\r\n    const M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\r\n    if (/trident/i.test(M[1])) {\r\n        tem = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\r\n        return parseFloat(tem[1]);\r\n    }\r\n    if (/msie/i.test(M[1])) {\r\n        return parseFloat(M[2]);\r\n    }\r\n    return null;\r\n})();\r\n\r\nexport const isIE = ieVersion !== null;\r\nexport const svgMarkerGlitch = isIE && ieVersion <= 12;\r\n\r\nlet _scrollBarWidth = null;\r\nexport function getScrollbarWidth() {\r\n    if (_scrollBarWidth === null) {\r\n        const outer = document.createElement(\"div\");\r\n        outer.style.visibility = \"hidden\";\r\n        outer.style.width = \"100px\";\r\n        outer.style.msOverflowStyle = \"scrollbar\";\r\n\r\n        document.body.appendChild(outer);\r\n\r\n        const widthNoScroll = outer.offsetWidth;\r\n        outer.style.overflow = \"scroll\";\r\n\r\n        const inner = document.createElement(\"div\");\r\n        inner.style.width = \"100%\";\r\n        outer.appendChild(inner);\r\n\r\n        const widthWithScroll = inner.offsetWidth;\r\n\r\n        outer.parentNode.removeChild(outer);\r\n\r\n        _scrollBarWidth = widthNoScroll - widthWithScroll;\r\n    }\r\n    return _scrollBarWidth;\r\n}\r\n\r\n//  Polyfills  ---\r\n(window as any).MutationObserver = (window as any).MutationObserver || (window as any).WebKitMutationObserver || (window as any).MozMutationObserver || function (callback) {\r\n    //  Just enough for HTMLOverlay and C3  ---\r\n    this.callback = callback;\r\n    this.listeners = [];\r\n\r\n    const MutationListener = function (callback2, domNode, type) {\r\n        this.callback = callback2;\r\n        this.domNode = domNode;\r\n        this.type = type;\r\n    };\r\n    MutationListener.prototype = {\r\n        handleEvent(evt) {\r\n            const mutation = {\r\n                type: this.type,\r\n                target: this.domNode,\r\n                addedNodes: [],\r\n                removedNodes: [],\r\n                previousSibling: evt.target.previousSibling,\r\n                nextSibling: evt.target.nextSibling,\r\n                attributeName: null,\r\n                attributeNamespace: null,\r\n                oldValue: null\r\n            };\r\n            this.callback([mutation]);\r\n        }\r\n    };\r\n\r\n    this.observe = function (domNode, config) {\r\n        let listener = null;\r\n        if (config.attributes) {\r\n            listener = new MutationListener(this.callback, domNode, \"attributes\");\r\n            this.listeners.push(listener);\r\n            domNode.addEventListener(\"DOMAttrModified\", listener, true);\r\n        }\r\n\r\n        if (config.characterData) {\r\n            listener = new MutationListener(this.callback, domNode, \"characterData\");\r\n            this.listeners.push(listener);\r\n            domNode.addEventListener(\"DOMCharacterDataModified\", listener, true);\r\n        }\r\n\r\n        if (config.childList) {\r\n            listener = new MutationListener(this.callback, domNode, \"childList\");\r\n            this.listeners.push(listener);\r\n            domNode.addEventListener(\"DOMNodeInserted\", listener, true);\r\n            domNode.addEventListener(\"DOMNodeRemoved\", listener, true);\r\n        }\r\n    };\r\n\r\n    this.disconnect = function () {\r\n        this.listeners.forEach(function (item) {\r\n            switch (item.type) {\r\n                case \"attributes\":\r\n                    item.domNode.removeEventListener(\"DOMAttrModified\", item, true);\r\n                    break;\r\n                case \"characterData\":\r\n                    item.domNode.removeEventListener(\"DOMCharacterDataModified\", item, true);\r\n                    break;\r\n                case \"childList\":\r\n                    item.domNode.removeEventListener(\"DOMNodeRemoved\", item, true);\r\n                    item.domNode.removeEventListener(\"DOMNodeInserted\", item, true);\r\n                    break;\r\n            }\r\n        });\r\n        this.listeners = [];\r\n    };\r\n};\r\n\r\n(Math as any).sign = (Math as any).sign || function (x) {\r\n    x = +x; // convert to a number\r\n    if (x === 0 || isNaN(x)) {\r\n        return x;\r\n    }\r\n    return x > 0 ? 1 : -1;\r\n};\r\n","import { easeCubicInOut as d3CubicInOut } from \"d3-ease\";\r\n\r\nexport class Transition {\r\n\r\n    protected _widget;\r\n    protected _duration;\r\n    protected _delay;\r\n    protected _ease;\r\n\r\n    constructor(widget) {\r\n        this._widget = widget;\r\n        this._duration = 250;\r\n        this._delay = 0;\r\n        this._ease = d3CubicInOut;\r\n    }\r\n\r\n    duration(_) {\r\n        if (!arguments.length) return this._duration;\r\n        this._duration = _;\r\n        return this._widget;\r\n    }\r\n\r\n    delay(_) {\r\n        if (!arguments.length) return this._delay;\r\n        this._delay = _;\r\n        return this._widget;\r\n    }\r\n\r\n    ease(_) {\r\n        if (!arguments.length) return this._ease;\r\n        this._ease = _;\r\n        return this._widget;\r\n    }\r\n\r\n    apply(selection) {\r\n        if (this._duration || this._delay) {\r\n            return selection.transition()\r\n                .duration(this._duration)\r\n                .delay(this._delay)\r\n                .ease(this._ease)\r\n                ;\r\n        }\r\n        return selection;\r\n    }\r\n}\r\n","import { rgb as d3Rgb } from \"d3-color\";\r\nimport { select as d3Select } from \"d3-selection\";\r\nimport { svgMarkerGlitch } from \"./Platform\";\r\nimport { Transition } from \"./Transition\";\r\nimport { debounce, downloadBlob, downloadString, timestamp } from \"./Utility\";\r\nimport { ISize, Widget } from \"./Widget\";\r\n\r\ntype Point = { x: number, y: number };\r\ntype Rect = { x: number, y: number, width: number, height: number };\r\n\r\nconst lerp = function (point: Point, that: Point, t: number): Point {\r\n    //  From https://github.com/thelonious/js-intersections\r\n    return {\r\n        x: point.x + (that.x - point.x) * t,\r\n        y: point.y + (that.y - point.y) * t\r\n    };\r\n};\r\n\r\ntype LineIntersection = { type: \"Intersection\" | \"No Intersection\" | \"Coincident\" | \"Parallel\", points: Point[] };\r\nconst intersectLineLine = function (a1: Point, a2: Point, b1: Point, b2: Point): LineIntersection {\r\n    //  From https://github.com/thelonious/js-intersections\r\n    const result: LineIntersection = { type: \"Parallel\", points: [] };\r\n    const uaT = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x);\r\n    const ubT = (a2.x - a1.x) * (a1.y - b1.y) - (a2.y - a1.y) * (a1.x - b1.x);\r\n    const uB = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);\r\n\r\n    if (uB !== 0) {\r\n        const ua = uaT / uB;\r\n        const ub = ubT / uB;\r\n\r\n        if (0 <= ua && ua <= 1 && 0 <= ub && ub <= 1) {\r\n            result.type = \"Intersection\";\r\n            result.points.push({\r\n                x: a1.x + ua * (a2.x - a1.x),\r\n                y: a1.y + ua * (a2.y - a1.y)\r\n            });\r\n        } else {\r\n            result.type = \"No Intersection\";\r\n        }\r\n    } else {\r\n        if (uaT === 0 || ubT === 0) {\r\n            result.type = \"Coincident\";\r\n        } else {\r\n            result.type = \"Parallel\";\r\n        }\r\n    }\r\n\r\n    return result;\r\n};\r\n\r\ntype CircleIntersection = { type: \"Outside\" | \"Tangent\" | \"Inside\" | \"Intersection\", points: Point[] };\r\nconst intersectCircleLine = function (c: Point, r: number, a1: Point, a2: Point): CircleIntersection {\r\n    //  From https://github.com/thelonious/js-intersections\r\n    const result: CircleIntersection = { type: \"Intersection\", points: [] };\r\n    const a = (a2.x - a1.x) * (a2.x - a1.x) +\r\n        (a2.y - a1.y) * (a2.y - a1.y);\r\n    const b = 2 * ((a2.x - a1.x) * (a1.x - c.x) +\r\n        (a2.y - a1.y) * (a1.y - c.y));\r\n    const cc = c.x * c.x + c.y * c.y + a1.x * a1.x + a1.y * a1.y -\r\n        2 * (c.x * a1.x + c.y * a1.y) - r * r;\r\n    const deter = b * b - 4 * a * cc;\r\n\r\n    if (deter < 0) {\r\n        result.type = \"Outside\";\r\n    } else if (deter === 0) {\r\n        result.type = \"Tangent\";\r\n        // NOTE: should calculate this point\r\n    } else {\r\n        const e = Math.sqrt(deter);\r\n        const u1 = (-b + e) / (2 * a);\r\n        const u2 = (-b - e) / (2 * a);\r\n\r\n        if ((u1 < 0 || u1 > 1) && (u2 < 0 || u2 > 1)) {\r\n            if ((u1 < 0 && u2 < 0) || (u1 > 1 && u2 > 1)) {\r\n                result.type = \"Outside\";\r\n            } else {\r\n                result.type = \"Inside\";\r\n            }\r\n        } else {\r\n            result.type = \"Intersection\";\r\n\r\n            if (0 <= u1 && u1 <= 1)\r\n                result.points.push(lerp(a1, a2, u1));\r\n\r\n            if (0 <= u2 && u2 <= 1)\r\n                result.points.push(lerp(a1, a2, u2));\r\n        }\r\n    }\r\n\r\n    return result;\r\n};\r\n\r\nexport class SVGGlowFilter {\r\n    protected filter;\r\n    protected feOffset;\r\n    protected feColorMatrix;\r\n    protected feGaussianBlur;\r\n    protected feBlend;\r\n\r\n    constructor(target, id: string) {\r\n        this.filter = target.append(\"filter\")\r\n            .attr(\"id\", id)\r\n            .attr(\"width\", \"130%\")\r\n            .attr(\"height\", \"130%\");\r\n        this.feOffset = this.filter.append(\"feOffset\")\r\n            .attr(\"result\", \"offOut\")\r\n            .attr(\"in\", \"SourceGraphic\")\r\n            .attr(\"dx\", \"0\")\r\n            .attr(\"dy\", \"0\");\r\n        this.feColorMatrix = this.filter.append(\"feColorMatrix\")\r\n            .attr(\"result\", \"matrixOut\")\r\n            .attr(\"in\", \"offOut\")\r\n            .attr(\"type\", \"matrix\")\r\n            .attr(\"values\", this.rgb2ColorMatrix(\"red\"))\r\n            ;\r\n        this.feGaussianBlur = this.filter.append(\"feGaussianBlur\")\r\n            .attr(\"result\", \"blurOut\")\r\n            .attr(\"in\", \"matrixOut\")\r\n            .attr(\"stdDeviation\", \"3\")\r\n            ;\r\n        this.feBlend = this.filter.append(\"feBlend\")\r\n            .attr(\"in\", \"SourceGraphic\")\r\n            .attr(\"in2\", \"blurOut\")\r\n            .attr(\"mode\", \"normal\")\r\n            ;\r\n    }\r\n\r\n    rgb2ColorMatrix(color: string): string {\r\n        const rgb = d3Rgb(color);\r\n        return [\r\n            rgb.r / 255, 0, 0, 0, rgb.r ? 1 : 0,\r\n            0, rgb.g / 255, 0, 0, rgb.g ? 1 : 0,\r\n            0, 0, rgb.b / 255, 0, rgb.b ? 1 : 0,\r\n            0, 0, 0, 1, 0\r\n        ].join(\" \");\r\n    }\r\n\r\n    update(color: string) {\r\n        this.feColorMatrix.attr(\"values\", this.rgb2ColorMatrix(color));\r\n    }\r\n}\r\n\r\nexport class SVGWidget extends Widget {\r\n    static _class = \"common_SVGWidget\";\r\n\r\n    _tag;\r\n\r\n    protected _boundingBox;\r\n    protected transition;\r\n    protected _drawStartPos: \"center\" | \"origin\";\r\n    protected _svgSelectionFilter;\r\n    protected _parentRelativeDiv;\r\n    protected _parentOverlay;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._tag = \"g\";\r\n\r\n        this._boundingBox = null;\r\n\r\n        this.transition = new Transition(this);\r\n\r\n        this._drawStartPos = \"center\";\r\n    }\r\n\r\n    //  Properties  ---\r\n    move(_, transitionDuration?) {\r\n        const retVal = this.pos(_);\r\n        if (arguments.length) {\r\n            (transitionDuration ? this._element.transition().duration(transitionDuration) : this._element)\r\n                .attr(\"transform\", `translate(${_.x} ${_.y})scale(${this._widgetScale})`)\r\n                ;\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    _enableOverflow = false;\r\n    enableOverflow(): boolean;\r\n    enableOverflow(_: boolean): this;\r\n    enableOverflow(_?: boolean): boolean | this {\r\n        if (!arguments.length) return this._enableOverflow;\r\n        this._enableOverflow = _;\r\n        return this;\r\n    }\r\n\r\n    size(): ISize;\r\n    size(_): this;\r\n    size(_?): ISize | this {\r\n        const retVal = super.size.apply(this, arguments);\r\n        if (arguments.length) {\r\n            this._boundingBox = null;\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    resize(_size?: { width: number, height: number }) {\r\n        const retVal = super.resize.apply(this, arguments);\r\n        if (this._parentRelativeDiv) {\r\n            this._parentRelativeDiv\r\n                .style(\"width\", this._size.width + \"px\")\r\n                .style(\"height\", this._size.height + \"px\")\r\n                ;\r\n            switch (this._drawStartPos) {\r\n                case \"origin\":\r\n                    this.pos({\r\n                        x: 0,\r\n                        y: 0\r\n                    });\r\n                    break;\r\n                case \"center\":\r\n                /* falls through */\r\n                default:\r\n                    this.pos({\r\n                        x: this._size.width / 2,\r\n                        y: this._size.height / 2\r\n                    });\r\n                    break;\r\n            }\r\n        }\r\n        if (!isNaN(this._size.width)) this._placeholderElement.attr(\"width\", this._size.width);\r\n        if (!isNaN(this._size.height)) this._placeholderElement.attr(\"height\", this._size.height);\r\n        return retVal;\r\n    }\r\n    //  Glow Highlighting  ---\r\n    svgGlowID(): string {\r\n        return `sel${this.id()}_glow`;\r\n    }\r\n\r\n    target(): null | HTMLElement | SVGElement;\r\n    target(_: null | string | HTMLElement | SVGElement): this;\r\n    target(_?: null | string | HTMLElement | SVGElement): null | HTMLElement | SVGElement | this {\r\n        const retVal = super.target.apply(this, arguments);\r\n        if (arguments.length) {\r\n            if (this._target instanceof SVGElement) {\r\n                this._isRootNode = false;\r\n                this._placeholderElement = d3Select(this._target);\r\n                this._parentWidget = this._placeholderElement.datum();\r\n                if (!this._parentWidget || this._parentWidget._id === this._id) {\r\n                    this._parentWidget = this.locateParentWidget(this._target.parentNode);\r\n                }\r\n                this._parentOverlay = this.locateOverlayNode();\r\n                const svg = this.locateSVGNode(this._target);\r\n                const svgDefs = d3Select(svg).select<SVGDefsElement>(\"defs\");\r\n                this._svgSelectionFilter = new SVGGlowFilter(svgDefs, this.svgGlowID());\r\n            } else if (this._target) {\r\n                //  Target is a DOM Node, so create a SVG Element  ---\r\n                this._parentRelativeDiv = d3Select(this._target).append(\"div\")\r\n                    .style(\"position\", \"relative\")\r\n                    ;\r\n                this._placeholderElement = this._parentRelativeDiv.append(\"svg\")\r\n                    .style(\"position\", \"absolute\")\r\n                    .style(\"top\", \"0px\")\r\n                    .style(\"left\", \"0px\")\r\n                    ;\r\n                const svgDefs = this._placeholderElement.append(\"defs\");\r\n                this._svgSelectionFilter = new SVGGlowFilter(svgDefs, this.svgGlowID());\r\n                this._parentOverlay = this._parentRelativeDiv.append(\"div\")\r\n                    .style(\"position\", \"absolute\")\r\n                    .style(\"top\", \"0px\")\r\n                    .style(\"left\", \"0px\")\r\n                    ;\r\n                if (this._size.width && this._size.height) {\r\n                    this.resize(this._size);\r\n                } else {\r\n                    this.resize({ width: 0, height: 0 });\r\n                }\r\n            }\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    parentOverlay() {\r\n        return this._parentOverlay;\r\n    }\r\n\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n    }\r\n\r\n    update(domNode, element) {\r\n        super.update(domNode, element);\r\n        if (this._svgSelectionFilter) {\r\n            this._svgSelectionFilter.update(this.selectionGlowColor());\r\n        }\r\n    }\r\n\r\n    postUpdate(domNode, element) {\r\n        super.postUpdate(domNode, element);\r\n        let transX;\r\n        let transY;\r\n        if (this._drawStartPos === \"origin\" && this._target instanceof SVGElement) {\r\n            transX = (this._pos.x - this._size.width / 2);\r\n            transY = (this._pos.y - this._size.height / 2);\r\n            this._element.attr(\"transform\", \"translate(\" + transX + \",\" + transY + \")scale(\" + this._widgetScale + \")\");\r\n        } else {\r\n            transX = this._pos.x;\r\n            transY = this._pos.y;\r\n            if (this._enableOverflow) {\r\n                //  Individual Widgets will need to size and position themselves corrrectly (and have calculated a BBox) ---\r\n                if ((transX < 0 || transY < 0) && this._boundingBox) {\r\n                    transX = transX < 0 ? 0 : transX;\r\n                    transY = transY < 0 ? 0 : transY;\r\n                    this._parentRelativeDiv.style(\"overflow\", \"scroll\");\r\n                    this._placeholderElement.attr(\"width\", this._boundingBox.width);\r\n                    this._placeholderElement.attr(\"height\", this._boundingBox.height);\r\n                } else {\r\n                    this._parentRelativeDiv.style(\"overflow\", null);\r\n                }\r\n            }\r\n            this._element.attr(\"transform\", \"translate(\" + transX + \",\" + transY + \")scale(\" + this._widgetScale + \")\");\r\n        }\r\n    }\r\n\r\n    exit(domNode?, element?) {\r\n        if (this._parentRelativeDiv) {\r\n            this._parentOverlay.remove();\r\n            this._placeholderElement.remove();\r\n            this._parentRelativeDiv.remove();\r\n        }\r\n        super.exit(domNode, element);\r\n    }\r\n\r\n    getOffsetPos(): Point {\r\n        let retVal = { x: 0, y: 0 };\r\n        if (this._parentWidget) {\r\n            retVal = this._parentWidget.getOffsetPos();\r\n            retVal.x += this._pos.x;\r\n            retVal.y += this._pos.y;\r\n            return retVal;\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    getBBox(refresh = false, round = false): Rect {\r\n        if (refresh || this._boundingBox === null) {\r\n            const svgNode: SVGElement = this._element.node();\r\n            if (svgNode instanceof SVGElement) {\r\n                this._boundingBox = (svgNode as any).getBBox();\r\n            }\r\n        }\r\n        if (this._boundingBox === null) {\r\n            return {\r\n                x: 0,\r\n                y: 0,\r\n                width: 0,\r\n                height: 0\r\n            };\r\n        }\r\n        return {\r\n            x: (round ? Math.round(this._boundingBox.x) : this._boundingBox.x) * this._widgetScale,\r\n            y: (round ? Math.round(this._boundingBox.y) : this._boundingBox.y) * this._widgetScale,\r\n            width: (round ? Math.round(this._boundingBox.width) : this._boundingBox.width) * this._widgetScale,\r\n            height: (round ? Math.round(this._boundingBox.height) : this._boundingBox.height) * this._widgetScale\r\n        };\r\n    }\r\n\r\n    //  Intersections  ---\r\n    contains(point: Point): boolean {\r\n        return this.containsRect(point);\r\n    }\r\n\r\n    containsRect(point: Point): boolean {\r\n        const size = this.getBBox();\r\n        return point.x >= size.x && point.x <= size.x + size.width && point.y >= size.y && point.y <= size.y + size.height;\r\n    }\r\n\r\n    containsCircle(radius: number, point: Point) {\r\n        const center = this.getOffsetPos();\r\n        return this.distance(center, point) <= radius;\r\n    }\r\n\r\n    intersection(pointA: Point, pointB: Point): Point | null {\r\n        return this.intersectRect(pointA, pointB);\r\n    }\r\n\r\n    intersectRect(pointA: Point, pointB: Point): Point | null {\r\n        const center = this.getOffsetPos();\r\n        const size = this.getBBox();\r\n        if (pointA.x === pointB.x && pointA.y === pointB.y) {\r\n            return pointA;\r\n        }\r\n        const TL = { x: center.x - size.width / 2, y: center.y - size.height / 2 };\r\n        const TR = { x: center.x + size.width / 2, y: center.y - size.height / 2 };\r\n        const BR = { x: center.x + size.width / 2, y: center.y + size.height / 2 };\r\n        const BL = { x: center.x - size.width / 2, y: center.y + size.height / 2 };\r\n        let intersection = intersectLineLine(TL, TR, pointA, pointB);\r\n        if (intersection.points.length) {\r\n            return { x: intersection.points[0].x, y: intersection.points[0].y };\r\n        }\r\n        intersection = intersectLineLine(TR, BR, pointA, pointB);\r\n        if (intersection.points.length) {\r\n            return { x: intersection.points[0].x, y: intersection.points[0].y };\r\n        }\r\n        intersection = intersectLineLine(BR, BL, pointA, pointB);\r\n        if (intersection.points.length) {\r\n            return { x: intersection.points[0].x, y: intersection.points[0].y };\r\n        }\r\n        intersection = intersectLineLine(BL, TL, pointA, pointB);\r\n        if (intersection.points.length) {\r\n            return { x: intersection.points[0].x, y: intersection.points[0].y };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    intersectRectRect(rect1: Rect, rect2: Rect): Rect {\r\n        const x = Math.max(rect1.x, rect2.x);\r\n        const y = Math.max(rect1.y, rect2.y);\r\n        const xLimit = (rect1.x < rect2.x) ? Math.min(rect1.x + rect1.width, rect2.x + rect2.width) : Math.min(rect2.x + rect2.width, rect1.x + rect1.width);\r\n        const yLimit = (rect1.y < rect2.y) ? Math.min(rect1.y + rect1.height, rect2.y + rect2.height) : Math.min(rect2.y + rect2.height, rect1.y + rect1.height);\r\n        return {\r\n            x,\r\n            y,\r\n            width: xLimit - x,\r\n            height: yLimit - y\r\n        };\r\n    }\r\n\r\n    intersectCircle(radius: number, pointA: Point, pointB: Point): Point | null {\r\n        const center = this.getOffsetPos();\r\n        const intersection = intersectCircleLine(center, radius, pointA, pointB);\r\n        if (intersection.points.length) {\r\n            return { x: intersection.points[0].x, y: intersection.points[0].y };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    distance(pointA: Point, pointB: Point): number {\r\n        return Math.sqrt((pointA.x - pointB.x) * (pointA.x - pointB.x) + (pointA.y - pointB.y) * (pointA.y - pointB.y));\r\n    }\r\n\r\n    //  Download  ---\r\n    serializeSVG(): string {\r\n        const origSvg = this.locateSVGNode(this._element.node());\r\n        const cloneSVG = origSvg.cloneNode(true) as SVGSVGElement;\r\n        const origNodes = d3Select(origSvg).selectAll(\"*\").nodes();\r\n        d3Select(cloneSVG).selectAll(\"*\").each(function (this: SVGElement, d, i) {\r\n            const compStyles = window.getComputedStyle(origNodes[i] as SVGElement);\r\n            for (let i = 0; i < compStyles.length; ++i) {\r\n                const styleName = compStyles.item(i);\r\n                const styleValue = compStyles.getPropertyValue(styleName);\r\n                const stylePriority = compStyles.getPropertyPriority(styleName);\r\n                this.style.setProperty(styleName, styleValue, stylePriority);\r\n            }\r\n        });\r\n        const serializer = new XMLSerializer();\r\n        return serializer.serializeToString(cloneSVG);\r\n    }\r\n\r\n    toBlob(): Blob {\r\n        return new Blob([this.serializeSVG()], { type: \"image/svg+xml\" });\r\n    }\r\n\r\n    rasterize(...extraWidgets: SVGWidget[]): Promise<Blob> {\r\n        const widgets = [this, ...extraWidgets];\r\n        const sizes = widgets.map(widget => widget.locateSVGNode(widget.element().node()).getBoundingClientRect());\r\n        const width = sizes.reduce((prev, curr) => prev + curr.width, 0);\r\n        const height = Math.max(...sizes.map(s => s.height));\r\n\r\n        const canvas = document.createElement(\"canvas\");\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        canvas.style.width = width + \"px\";\r\n        const ctx = canvas.getContext(\"2d\");\r\n        ctx.fillStyle = \"white\";\r\n        ctx.fillRect(0, 0, width, height);\r\n        ctx.fillStyle = \"transparent\";\r\n        return new Promise((resolve, reject) => {\r\n            let xPos = 0;\r\n            Promise.all(widgets.map((widget, i) => {\r\n                const x = xPos;\r\n                const y = (height - sizes[i].height) / 2;\r\n                xPos += sizes[i].width;\r\n                return new Promise((resolve, reject) => {\r\n                    const image = new Image();\r\n                    image.onerror = reject;\r\n                    image.onload = () => {\r\n                        ctx.drawImage(image, 0, 0, sizes[i].width, sizes[i].height, x, y, sizes[i].width, sizes[i].height);\r\n                        resolve();\r\n                    };\r\n                    image.src = URL.createObjectURL(widget.toBlob());\r\n                });\r\n            })).then(() => {\r\n                ctx.canvas.toBlob(resolve);  // Not supported by Edge browser\r\n            });\r\n        });\r\n    }\r\n\r\n    downloadSVG() {\r\n        downloadString(\"SVG\", this.serializeSVG());\r\n    }\r\n\r\n    downloadPNG(filename: string = `image_${timestamp()}`, ...extraWidgets: SVGWidget[]) {\r\n        this.rasterize(...extraWidgets).then(blob => downloadBlob(blob, `${filename}.png`));\r\n    }\r\n\r\n    //  IE Fixers  ---\r\n    _pushMarkers(element?) {\r\n        if (svgMarkerGlitch) {\r\n            element = element || this._element;\r\n            element.selectAll(\"path[marker-start],path[marker-end]\")\r\n                .attr(\"fixme-start\", function () { return this.getAttribute(\"marker-start\"); })\r\n                .attr(\"fixme-end\", function () { return this.getAttribute(\"marker-end\"); })\r\n                .attr(\"marker-start\", null)\r\n                .attr(\"marker-end\", null)\r\n                ;\r\n        }\r\n    }\r\n\r\n    _popMarkers(element?) {\r\n        if (svgMarkerGlitch) {\r\n            element = element || this._element;\r\n            element.selectAll(\"path[fixme-start],path[fixme-end]\")\r\n                .attr(\"marker-start\", function () {\r\n                    return this.getAttribute(\"fixme-start\");\r\n                })\r\n                .attr(\"marker-end\", function () { return this.getAttribute(\"fixme-end\"); })\r\n                .attr(\"fixme-start\", null)\r\n                .attr(\"fixme-end\", null)\r\n                ;\r\n        }\r\n    }\r\n\r\n    _popMarkersDebounced = debounce(function (element) {\r\n        if (svgMarkerGlitch) {\r\n            this._popMarkers(element);\r\n        }\r\n    }, 250);\r\n\r\n    _fixIEMarkers(element?) {\r\n        if (svgMarkerGlitch) {\r\n            this._pushMarkers(element);\r\n            this._popMarkersDebounced(element);\r\n        }\r\n    }\r\n}\r\nSVGWidget.prototype._class += \" common_SVGWidget\";\r\n\r\nexport interface SVGWidget {\r\n    selectionGlowColor(): string;\r\n    selectionGlowColor(_: string): this;\r\n}\r\n\r\nSVGWidget.prototype.publish(\"selectionGlowColor\", \"red\", \"html-color\", \"Selection Glow Color\");\r\n","import { SVGWidget } from \"./SVGWidget\";\r\n\r\nimport \"../src/Text.css\";\r\n\r\nexport class Text extends SVGWidget {\r\n\r\n    private _textElement;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    getBBox(refresh = false, round = false) {\r\n        const textParts = this.text().split(\"\\n\");\r\n        const lineHeight = this.fontSize() || 12;\r\n        const height = lineHeight * textParts.length;\r\n        const widths: number[] = textParts.map(line => {\r\n            return this.textSize(line, this.fontFamily() || \"Verdana\", lineHeight).width;\r\n        });\r\n        const width = Math.max(...widths);\r\n        const retVal = {\r\n            x: - width / 2,\r\n            y: - height / 2 - lineHeight / (this.fontFamily() === \"FontAwesome\" ? 4 : 6), // baseLine offset\r\n            width,\r\n            height\r\n        };\r\n        switch (this.anchor()) {\r\n            case \"start\":\r\n                retVal.x = 0;\r\n                break;\r\n            case \"end\":\r\n                retVal.x = -width;\r\n                break;\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n        delete this._prevHash;\r\n        this._textElement = element.append(\"text\")\r\n            .on(\"click\", () => {\r\n                this.click();\r\n            })\r\n            .on(\"dblclick\", () => {\r\n                this.dblclick();\r\n            })\r\n            ;\r\n    }\r\n\r\n    _prevHash;\r\n    update(domNode, element) {\r\n        super.update(domNode, element);\r\n        const hash = this.hashSum([], { width: this.width() });\r\n        if (this._prevHash !== hash) {\r\n            this._prevHash = hash;\r\n\r\n            const bbox = this.getBBox();\r\n\r\n            this._textElement\r\n                .attr(\"font-family\", this.fontFamily())\r\n                .style(\"font-size\", this.fontSize())\r\n                .style(\"text-anchor\", this.anchor())\r\n                .attr(\"transform\", d => `rotate(${this.rotation()}) translate(0,${bbox.y})`)\r\n                ;\r\n\r\n            const width = this.width();\r\n            const context = this;\r\n            const textParts = this.text().split(\"\\n\");\r\n            const textLine = this._textElement.selectAll(\"tspan\").data(textParts);\r\n            textLine.enter().append(\"tspan\")\r\n                .attr(\"class\", function (_d, i) { return \"tspan_\" + i; })\r\n                .attr(\"dy\", \"1em\")\r\n                .attr(\"x\", \"0\")\r\n                .merge(textLine)\r\n                .style(\"fill\", this.colorFill())\r\n                .text((d: string) => {\r\n                    if (!width) return d;\r\n                    let retVal = d;\r\n                    const lineHeight = context.fontSize() || 12;\r\n                    let clipPos = retVal.length - 1;\r\n                    while (clipPos > -3 && this.textSize(retVal, this.fontFamily() || \"Verdana\", lineHeight).width > width) {\r\n                        retVal = retVal.substr(0, --clipPos) + \"...\".substr(0, clipPos + 3);\r\n                    }\r\n                    return retVal;\r\n                })\r\n                ;\r\n            textLine.exit()\r\n                .remove()\r\n                ;\r\n\r\n        }\r\n    }\r\n\r\n    click() {\r\n    }\r\n\r\n    dblclick() {\r\n    }\r\n}\r\nText.prototype._class += \" common_Text\";\r\n\r\nexport interface Text {\r\n    text(): string;\r\n    text(_: string): this;\r\n    fontFamily(): string;\r\n    fontFamily(_: string): this;\r\n    fontSize(): number;\r\n    fontSize(_: number): this;\r\n    anchor(): \"start\" | \"middle\" | \"end\";\r\n    anchor(_: \"start\" | \"middle\" | \"end\"): this;\r\n    colorFill(): string;\r\n    colorFill(_: string): this;\r\n    colorFill_default(): string;\r\n    colorFill_default(_: string): this;\r\n    rotation(): number;\r\n    rotation(_: number): Text;\r\n}\r\n\r\nText.prototype.publish(\"text\", \"\", \"string\", \"Display Text\", null, { tags: [\"Basic\"] });\r\nText.prototype.publish(\"fontFamily\", null, \"string\", \"Font Family\", null, { tags: [\"Intermediate\"], optional: true });\r\nText.prototype.publish(\"fontSize\", null, \"number\", \"Font Size (pixels)\", null, { tags: [\"Intermediate\"] });\r\nText.prototype.publish(\"anchor\", \"middle\", \"set\", \"Anchor Position\", [\"start\", \"middle\", \"end\"], { tags: [\"Intermediate\"] });\r\nText.prototype.publish(\"colorFill\", null, \"html-color\", \"Fill Color\", null, { tags: [\"Basic\"] });\r\nText.prototype.publish(\"rotation\", 0, \"number\", \"Degrees of rotation\", null, { tags: [\"Basic\"] });\r\n","import { SVGWidget } from \"./SVGWidget\";\r\nimport { Text } from \"./Text\";\r\n\r\nimport \"../src/FAChar.css\";\r\n\r\nexport class FAChar extends SVGWidget {\r\n\r\n    protected _text;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._text = new Text()\r\n            .fontFamily(\"FontAwesome\")\r\n            ;\r\n    }\r\n\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n        this._text\r\n            .target(domNode)\r\n            ;\r\n        element\r\n            .on(\"click\", () => {\r\n                this.click();\r\n            })\r\n            .on(\"dblclick\", () => {\r\n                this.dblclick();\r\n            })\r\n            ;\r\n    }\r\n\r\n    update(domNode, element) {\r\n        super.update(domNode, element);\r\n        this._text\r\n            .text(this.char())\r\n            .scale((this.fontSize() || 14) / 14) //  Scale rather than fontSize to prevent Chrome glitch  ---\r\n            .render()\r\n            ;\r\n    }\r\n\r\n    exit(domNode, element) {\r\n        this._text\r\n            .target(null)\r\n            ;\r\n\r\n        super.exit(domNode, element);\r\n    }\r\n\r\n    click() {\r\n        console.log(\"Click:\", this);\r\n    }\r\n\r\n    dblclick() {\r\n        console.log(\"Double click:\", this);\r\n    }\r\n\r\n    char: { (): string; (_: string): FAChar; };\r\n    fontSize: { (): number; (_: number): FAChar; };\r\n    text_colorFill: { (): string; (_: string): FAChar; };\r\n}\r\nFAChar.prototype._class += \" common_FAChar\";\r\n\r\nFAChar.prototype.publish(\"char\", \"\", \"string\", \"Font Awesome Item\", null, { tags: [\"Private\"] });\r\nFAChar.prototype.publish(\"fontSize\", null, \"number\", \"Font Size\", null, { tags: [\"Private\"] });\r\nFAChar.prototype.publishProxy(\"text_colorFill\", \"_text\", \"colorFill\");\r\n","module.exports = require('./colorbrewer.js');\n","// This product includes color specifications and designs developed by Cynthia Brewer (http://colorbrewer.org/).\n// JavaScript specs as packaged in the D3 library (d3js.org). Please see license at http://colorbrewer.org/export/LICENSE.txt\n!function() {\n\nvar colorbrewer = {YlGn: {\n3: [\"#f7fcb9\",\"#addd8e\",\"#31a354\"],\n4: [\"#ffffcc\",\"#c2e699\",\"#78c679\",\"#238443\"],\n5: [\"#ffffcc\",\"#c2e699\",\"#78c679\",\"#31a354\",\"#006837\"],\n6: [\"#ffffcc\",\"#d9f0a3\",\"#addd8e\",\"#78c679\",\"#31a354\",\"#006837\"],\n7: [\"#ffffcc\",\"#d9f0a3\",\"#addd8e\",\"#78c679\",\"#41ab5d\",\"#238443\",\"#005a32\"],\n8: [\"#ffffe5\",\"#f7fcb9\",\"#d9f0a3\",\"#addd8e\",\"#78c679\",\"#41ab5d\",\"#238443\",\"#005a32\"],\n9: [\"#ffffe5\",\"#f7fcb9\",\"#d9f0a3\",\"#addd8e\",\"#78c679\",\"#41ab5d\",\"#238443\",\"#006837\",\"#004529\"]\n},YlGnBu: {\n3: [\"#edf8b1\",\"#7fcdbb\",\"#2c7fb8\"],\n4: [\"#ffffcc\",\"#a1dab4\",\"#41b6c4\",\"#225ea8\"],\n5: [\"#ffffcc\",\"#a1dab4\",\"#41b6c4\",\"#2c7fb8\",\"#253494\"],\n6: [\"#ffffcc\",\"#c7e9b4\",\"#7fcdbb\",\"#41b6c4\",\"#2c7fb8\",\"#253494\"],\n7: [\"#ffffcc\",\"#c7e9b4\",\"#7fcdbb\",\"#41b6c4\",\"#1d91c0\",\"#225ea8\",\"#0c2c84\"],\n8: [\"#ffffd9\",\"#edf8b1\",\"#c7e9b4\",\"#7fcdbb\",\"#41b6c4\",\"#1d91c0\",\"#225ea8\",\"#0c2c84\"],\n9: [\"#ffffd9\",\"#edf8b1\",\"#c7e9b4\",\"#7fcdbb\",\"#41b6c4\",\"#1d91c0\",\"#225ea8\",\"#253494\",\"#081d58\"]\n},GnBu: {\n3: [\"#e0f3db\",\"#a8ddb5\",\"#43a2ca\"],\n4: [\"#f0f9e8\",\"#bae4bc\",\"#7bccc4\",\"#2b8cbe\"],\n5: [\"#f0f9e8\",\"#bae4bc\",\"#7bccc4\",\"#43a2ca\",\"#0868ac\"],\n6: [\"#f0f9e8\",\"#ccebc5\",\"#a8ddb5\",\"#7bccc4\",\"#43a2ca\",\"#0868ac\"],\n7: [\"#f0f9e8\",\"#ccebc5\",\"#a8ddb5\",\"#7bccc4\",\"#4eb3d3\",\"#2b8cbe\",\"#08589e\"],\n8: [\"#f7fcf0\",\"#e0f3db\",\"#ccebc5\",\"#a8ddb5\",\"#7bccc4\",\"#4eb3d3\",\"#2b8cbe\",\"#08589e\"],\n9: [\"#f7fcf0\",\"#e0f3db\",\"#ccebc5\",\"#a8ddb5\",\"#7bccc4\",\"#4eb3d3\",\"#2b8cbe\",\"#0868ac\",\"#084081\"]\n},BuGn: {\n3: [\"#e5f5f9\",\"#99d8c9\",\"#2ca25f\"],\n4: [\"#edf8fb\",\"#b2e2e2\",\"#66c2a4\",\"#238b45\"],\n5: [\"#edf8fb\",\"#b2e2e2\",\"#66c2a4\",\"#2ca25f\",\"#006d2c\"],\n6: [\"#edf8fb\",\"#ccece6\",\"#99d8c9\",\"#66c2a4\",\"#2ca25f\",\"#006d2c\"],\n7: [\"#edf8fb\",\"#ccece6\",\"#99d8c9\",\"#66c2a4\",\"#41ae76\",\"#238b45\",\"#005824\"],\n8: [\"#f7fcfd\",\"#e5f5f9\",\"#ccece6\",\"#99d8c9\",\"#66c2a4\",\"#41ae76\",\"#238b45\",\"#005824\"],\n9: [\"#f7fcfd\",\"#e5f5f9\",\"#ccece6\",\"#99d8c9\",\"#66c2a4\",\"#41ae76\",\"#238b45\",\"#006d2c\",\"#00441b\"]\n},PuBuGn: {\n3: [\"#ece2f0\",\"#a6bddb\",\"#1c9099\"],\n4: [\"#f6eff7\",\"#bdc9e1\",\"#67a9cf\",\"#02818a\"],\n5: [\"#f6eff7\",\"#bdc9e1\",\"#67a9cf\",\"#1c9099\",\"#016c59\"],\n6: [\"#f6eff7\",\"#d0d1e6\",\"#a6bddb\",\"#67a9cf\",\"#1c9099\",\"#016c59\"],\n7: [\"#f6eff7\",\"#d0d1e6\",\"#a6bddb\",\"#67a9cf\",\"#3690c0\",\"#02818a\",\"#016450\"],\n8: [\"#fff7fb\",\"#ece2f0\",\"#d0d1e6\",\"#a6bddb\",\"#67a9cf\",\"#3690c0\",\"#02818a\",\"#016450\"],\n9: [\"#fff7fb\",\"#ece2f0\",\"#d0d1e6\",\"#a6bddb\",\"#67a9cf\",\"#3690c0\",\"#02818a\",\"#016c59\",\"#014636\"]\n},PuBu: {\n3: [\"#ece7f2\",\"#a6bddb\",\"#2b8cbe\"],\n4: [\"#f1eef6\",\"#bdc9e1\",\"#74a9cf\",\"#0570b0\"],\n5: [\"#f1eef6\",\"#bdc9e1\",\"#74a9cf\",\"#2b8cbe\",\"#045a8d\"],\n6: [\"#f1eef6\",\"#d0d1e6\",\"#a6bddb\",\"#74a9cf\",\"#2b8cbe\",\"#045a8d\"],\n7: [\"#f1eef6\",\"#d0d1e6\",\"#a6bddb\",\"#74a9cf\",\"#3690c0\",\"#0570b0\",\"#034e7b\"],\n8: [\"#fff7fb\",\"#ece7f2\",\"#d0d1e6\",\"#a6bddb\",\"#74a9cf\",\"#3690c0\",\"#0570b0\",\"#034e7b\"],\n9: [\"#fff7fb\",\"#ece7f2\",\"#d0d1e6\",\"#a6bddb\",\"#74a9cf\",\"#3690c0\",\"#0570b0\",\"#045a8d\",\"#023858\"]\n},BuPu: {\n3: [\"#e0ecf4\",\"#9ebcda\",\"#8856a7\"],\n4: [\"#edf8fb\",\"#b3cde3\",\"#8c96c6\",\"#88419d\"],\n5: [\"#edf8fb\",\"#b3cde3\",\"#8c96c6\",\"#8856a7\",\"#810f7c\"],\n6: [\"#edf8fb\",\"#bfd3e6\",\"#9ebcda\",\"#8c96c6\",\"#8856a7\",\"#810f7c\"],\n7: [\"#edf8fb\",\"#bfd3e6\",\"#9ebcda\",\"#8c96c6\",\"#8c6bb1\",\"#88419d\",\"#6e016b\"],\n8: [\"#f7fcfd\",\"#e0ecf4\",\"#bfd3e6\",\"#9ebcda\",\"#8c96c6\",\"#8c6bb1\",\"#88419d\",\"#6e016b\"],\n9: [\"#f7fcfd\",\"#e0ecf4\",\"#bfd3e6\",\"#9ebcda\",\"#8c96c6\",\"#8c6bb1\",\"#88419d\",\"#810f7c\",\"#4d004b\"]\n},RdPu: {\n3: [\"#fde0dd\",\"#fa9fb5\",\"#c51b8a\"],\n4: [\"#feebe2\",\"#fbb4b9\",\"#f768a1\",\"#ae017e\"],\n5: [\"#feebe2\",\"#fbb4b9\",\"#f768a1\",\"#c51b8a\",\"#7a0177\"],\n6: [\"#feebe2\",\"#fcc5c0\",\"#fa9fb5\",\"#f768a1\",\"#c51b8a\",\"#7a0177\"],\n7: [\"#feebe2\",\"#fcc5c0\",\"#fa9fb5\",\"#f768a1\",\"#dd3497\",\"#ae017e\",\"#7a0177\"],\n8: [\"#fff7f3\",\"#fde0dd\",\"#fcc5c0\",\"#fa9fb5\",\"#f768a1\",\"#dd3497\",\"#ae017e\",\"#7a0177\"],\n9: [\"#fff7f3\",\"#fde0dd\",\"#fcc5c0\",\"#fa9fb5\",\"#f768a1\",\"#dd3497\",\"#ae017e\",\"#7a0177\",\"#49006a\"]\n},PuRd: {\n3: [\"#e7e1ef\",\"#c994c7\",\"#dd1c77\"],\n4: [\"#f1eef6\",\"#d7b5d8\",\"#df65b0\",\"#ce1256\"],\n5: [\"#f1eef6\",\"#d7b5d8\",\"#df65b0\",\"#dd1c77\",\"#980043\"],\n6: [\"#f1eef6\",\"#d4b9da\",\"#c994c7\",\"#df65b0\",\"#dd1c77\",\"#980043\"],\n7: [\"#f1eef6\",\"#d4b9da\",\"#c994c7\",\"#df65b0\",\"#e7298a\",\"#ce1256\",\"#91003f\"],\n8: [\"#f7f4f9\",\"#e7e1ef\",\"#d4b9da\",\"#c994c7\",\"#df65b0\",\"#e7298a\",\"#ce1256\",\"#91003f\"],\n9: [\"#f7f4f9\",\"#e7e1ef\",\"#d4b9da\",\"#c994c7\",\"#df65b0\",\"#e7298a\",\"#ce1256\",\"#980043\",\"#67001f\"]\n},OrRd: {\n3: [\"#fee8c8\",\"#fdbb84\",\"#e34a33\"],\n4: [\"#fef0d9\",\"#fdcc8a\",\"#fc8d59\",\"#d7301f\"],\n5: [\"#fef0d9\",\"#fdcc8a\",\"#fc8d59\",\"#e34a33\",\"#b30000\"],\n6: [\"#fef0d9\",\"#fdd49e\",\"#fdbb84\",\"#fc8d59\",\"#e34a33\",\"#b30000\"],\n7: [\"#fef0d9\",\"#fdd49e\",\"#fdbb84\",\"#fc8d59\",\"#ef6548\",\"#d7301f\",\"#990000\"],\n8: [\"#fff7ec\",\"#fee8c8\",\"#fdd49e\",\"#fdbb84\",\"#fc8d59\",\"#ef6548\",\"#d7301f\",\"#990000\"],\n9: [\"#fff7ec\",\"#fee8c8\",\"#fdd49e\",\"#fdbb84\",\"#fc8d59\",\"#ef6548\",\"#d7301f\",\"#b30000\",\"#7f0000\"]\n},YlOrRd: {\n3: [\"#ffeda0\",\"#feb24c\",\"#f03b20\"],\n4: [\"#ffffb2\",\"#fecc5c\",\"#fd8d3c\",\"#e31a1c\"],\n5: [\"#ffffb2\",\"#fecc5c\",\"#fd8d3c\",\"#f03b20\",\"#bd0026\"],\n6: [\"#ffffb2\",\"#fed976\",\"#feb24c\",\"#fd8d3c\",\"#f03b20\",\"#bd0026\"],\n7: [\"#ffffb2\",\"#fed976\",\"#feb24c\",\"#fd8d3c\",\"#fc4e2a\",\"#e31a1c\",\"#b10026\"],\n8: [\"#ffffcc\",\"#ffeda0\",\"#fed976\",\"#feb24c\",\"#fd8d3c\",\"#fc4e2a\",\"#e31a1c\",\"#b10026\"],\n9: [\"#ffffcc\",\"#ffeda0\",\"#fed976\",\"#feb24c\",\"#fd8d3c\",\"#fc4e2a\",\"#e31a1c\",\"#bd0026\",\"#800026\"]\n},YlOrBr: {\n3: [\"#fff7bc\",\"#fec44f\",\"#d95f0e\"],\n4: [\"#ffffd4\",\"#fed98e\",\"#fe9929\",\"#cc4c02\"],\n5: [\"#ffffd4\",\"#fed98e\",\"#fe9929\",\"#d95f0e\",\"#993404\"],\n6: [\"#ffffd4\",\"#fee391\",\"#fec44f\",\"#fe9929\",\"#d95f0e\",\"#993404\"],\n7: [\"#ffffd4\",\"#fee391\",\"#fec44f\",\"#fe9929\",\"#ec7014\",\"#cc4c02\",\"#8c2d04\"],\n8: [\"#ffffe5\",\"#fff7bc\",\"#fee391\",\"#fec44f\",\"#fe9929\",\"#ec7014\",\"#cc4c02\",\"#8c2d04\"],\n9: [\"#ffffe5\",\"#fff7bc\",\"#fee391\",\"#fec44f\",\"#fe9929\",\"#ec7014\",\"#cc4c02\",\"#993404\",\"#662506\"]\n},Purples: {\n3: [\"#efedf5\",\"#bcbddc\",\"#756bb1\"],\n4: [\"#f2f0f7\",\"#cbc9e2\",\"#9e9ac8\",\"#6a51a3\"],\n5: [\"#f2f0f7\",\"#cbc9e2\",\"#9e9ac8\",\"#756bb1\",\"#54278f\"],\n6: [\"#f2f0f7\",\"#dadaeb\",\"#bcbddc\",\"#9e9ac8\",\"#756bb1\",\"#54278f\"],\n7: [\"#f2f0f7\",\"#dadaeb\",\"#bcbddc\",\"#9e9ac8\",\"#807dba\",\"#6a51a3\",\"#4a1486\"],\n8: [\"#fcfbfd\",\"#efedf5\",\"#dadaeb\",\"#bcbddc\",\"#9e9ac8\",\"#807dba\",\"#6a51a3\",\"#4a1486\"],\n9: [\"#fcfbfd\",\"#efedf5\",\"#dadaeb\",\"#bcbddc\",\"#9e9ac8\",\"#807dba\",\"#6a51a3\",\"#54278f\",\"#3f007d\"]\n},Blues: {\n3: [\"#deebf7\",\"#9ecae1\",\"#3182bd\"],\n4: [\"#eff3ff\",\"#bdd7e7\",\"#6baed6\",\"#2171b5\"],\n5: [\"#eff3ff\",\"#bdd7e7\",\"#6baed6\",\"#3182bd\",\"#08519c\"],\n6: [\"#eff3ff\",\"#c6dbef\",\"#9ecae1\",\"#6baed6\",\"#3182bd\",\"#08519c\"],\n7: [\"#eff3ff\",\"#c6dbef\",\"#9ecae1\",\"#6baed6\",\"#4292c6\",\"#2171b5\",\"#084594\"],\n8: [\"#f7fbff\",\"#deebf7\",\"#c6dbef\",\"#9ecae1\",\"#6baed6\",\"#4292c6\",\"#2171b5\",\"#084594\"],\n9: [\"#f7fbff\",\"#deebf7\",\"#c6dbef\",\"#9ecae1\",\"#6baed6\",\"#4292c6\",\"#2171b5\",\"#08519c\",\"#08306b\"]\n},Greens: {\n3: [\"#e5f5e0\",\"#a1d99b\",\"#31a354\"],\n4: [\"#edf8e9\",\"#bae4b3\",\"#74c476\",\"#238b45\"],\n5: [\"#edf8e9\",\"#bae4b3\",\"#74c476\",\"#31a354\",\"#006d2c\"],\n6: [\"#edf8e9\",\"#c7e9c0\",\"#a1d99b\",\"#74c476\",\"#31a354\",\"#006d2c\"],\n7: [\"#edf8e9\",\"#c7e9c0\",\"#a1d99b\",\"#74c476\",\"#41ab5d\",\"#238b45\",\"#005a32\"],\n8: [\"#f7fcf5\",\"#e5f5e0\",\"#c7e9c0\",\"#a1d99b\",\"#74c476\",\"#41ab5d\",\"#238b45\",\"#005a32\"],\n9: [\"#f7fcf5\",\"#e5f5e0\",\"#c7e9c0\",\"#a1d99b\",\"#74c476\",\"#41ab5d\",\"#238b45\",\"#006d2c\",\"#00441b\"]\n},Oranges: {\n3: [\"#fee6ce\",\"#fdae6b\",\"#e6550d\"],\n4: [\"#feedde\",\"#fdbe85\",\"#fd8d3c\",\"#d94701\"],\n5: [\"#feedde\",\"#fdbe85\",\"#fd8d3c\",\"#e6550d\",\"#a63603\"],\n6: [\"#feedde\",\"#fdd0a2\",\"#fdae6b\",\"#fd8d3c\",\"#e6550d\",\"#a63603\"],\n7: [\"#feedde\",\"#fdd0a2\",\"#fdae6b\",\"#fd8d3c\",\"#f16913\",\"#d94801\",\"#8c2d04\"],\n8: [\"#fff5eb\",\"#fee6ce\",\"#fdd0a2\",\"#fdae6b\",\"#fd8d3c\",\"#f16913\",\"#d94801\",\"#8c2d04\"],\n9: [\"#fff5eb\",\"#fee6ce\",\"#fdd0a2\",\"#fdae6b\",\"#fd8d3c\",\"#f16913\",\"#d94801\",\"#a63603\",\"#7f2704\"]\n},Reds: {\n3: [\"#fee0d2\",\"#fc9272\",\"#de2d26\"],\n4: [\"#fee5d9\",\"#fcae91\",\"#fb6a4a\",\"#cb181d\"],\n5: [\"#fee5d9\",\"#fcae91\",\"#fb6a4a\",\"#de2d26\",\"#a50f15\"],\n6: [\"#fee5d9\",\"#fcbba1\",\"#fc9272\",\"#fb6a4a\",\"#de2d26\",\"#a50f15\"],\n7: [\"#fee5d9\",\"#fcbba1\",\"#fc9272\",\"#fb6a4a\",\"#ef3b2c\",\"#cb181d\",\"#99000d\"],\n8: [\"#fff5f0\",\"#fee0d2\",\"#fcbba1\",\"#fc9272\",\"#fb6a4a\",\"#ef3b2c\",\"#cb181d\",\"#99000d\"],\n9: [\"#fff5f0\",\"#fee0d2\",\"#fcbba1\",\"#fc9272\",\"#fb6a4a\",\"#ef3b2c\",\"#cb181d\",\"#a50f15\",\"#67000d\"]\n},Greys: {\n3: [\"#f0f0f0\",\"#bdbdbd\",\"#636363\"],\n4: [\"#f7f7f7\",\"#cccccc\",\"#969696\",\"#525252\"],\n5: [\"#f7f7f7\",\"#cccccc\",\"#969696\",\"#636363\",\"#252525\"],\n6: [\"#f7f7f7\",\"#d9d9d9\",\"#bdbdbd\",\"#969696\",\"#636363\",\"#252525\"],\n7: [\"#f7f7f7\",\"#d9d9d9\",\"#bdbdbd\",\"#969696\",\"#737373\",\"#525252\",\"#252525\"],\n8: [\"#ffffff\",\"#f0f0f0\",\"#d9d9d9\",\"#bdbdbd\",\"#969696\",\"#737373\",\"#525252\",\"#252525\"],\n9: [\"#ffffff\",\"#f0f0f0\",\"#d9d9d9\",\"#bdbdbd\",\"#969696\",\"#737373\",\"#525252\",\"#252525\",\"#000000\"]\n},PuOr: {\n3: [\"#f1a340\",\"#f7f7f7\",\"#998ec3\"],\n4: [\"#e66101\",\"#fdb863\",\"#b2abd2\",\"#5e3c99\"],\n5: [\"#e66101\",\"#fdb863\",\"#f7f7f7\",\"#b2abd2\",\"#5e3c99\"],\n6: [\"#b35806\",\"#f1a340\",\"#fee0b6\",\"#d8daeb\",\"#998ec3\",\"#542788\"],\n7: [\"#b35806\",\"#f1a340\",\"#fee0b6\",\"#f7f7f7\",\"#d8daeb\",\"#998ec3\",\"#542788\"],\n8: [\"#b35806\",\"#e08214\",\"#fdb863\",\"#fee0b6\",\"#d8daeb\",\"#b2abd2\",\"#8073ac\",\"#542788\"],\n9: [\"#b35806\",\"#e08214\",\"#fdb863\",\"#fee0b6\",\"#f7f7f7\",\"#d8daeb\",\"#b2abd2\",\"#8073ac\",\"#542788\"],\n10: [\"#7f3b08\",\"#b35806\",\"#e08214\",\"#fdb863\",\"#fee0b6\",\"#d8daeb\",\"#b2abd2\",\"#8073ac\",\"#542788\",\"#2d004b\"],\n11: [\"#7f3b08\",\"#b35806\",\"#e08214\",\"#fdb863\",\"#fee0b6\",\"#f7f7f7\",\"#d8daeb\",\"#b2abd2\",\"#8073ac\",\"#542788\",\"#2d004b\"]\n},BrBG: {\n3: [\"#d8b365\",\"#f5f5f5\",\"#5ab4ac\"],\n4: [\"#a6611a\",\"#dfc27d\",\"#80cdc1\",\"#018571\"],\n5: [\"#a6611a\",\"#dfc27d\",\"#f5f5f5\",\"#80cdc1\",\"#018571\"],\n6: [\"#8c510a\",\"#d8b365\",\"#f6e8c3\",\"#c7eae5\",\"#5ab4ac\",\"#01665e\"],\n7: [\"#8c510a\",\"#d8b365\",\"#f6e8c3\",\"#f5f5f5\",\"#c7eae5\",\"#5ab4ac\",\"#01665e\"],\n8: [\"#8c510a\",\"#bf812d\",\"#dfc27d\",\"#f6e8c3\",\"#c7eae5\",\"#80cdc1\",\"#35978f\",\"#01665e\"],\n9: [\"#8c510a\",\"#bf812d\",\"#dfc27d\",\"#f6e8c3\",\"#f5f5f5\",\"#c7eae5\",\"#80cdc1\",\"#35978f\",\"#01665e\"],\n10: [\"#543005\",\"#8c510a\",\"#bf812d\",\"#dfc27d\",\"#f6e8c3\",\"#c7eae5\",\"#80cdc1\",\"#35978f\",\"#01665e\",\"#003c30\"],\n11: [\"#543005\",\"#8c510a\",\"#bf812d\",\"#dfc27d\",\"#f6e8c3\",\"#f5f5f5\",\"#c7eae5\",\"#80cdc1\",\"#35978f\",\"#01665e\",\"#003c30\"]\n},PRGn: {\n3: [\"#af8dc3\",\"#f7f7f7\",\"#7fbf7b\"],\n4: [\"#7b3294\",\"#c2a5cf\",\"#a6dba0\",\"#008837\"],\n5: [\"#7b3294\",\"#c2a5cf\",\"#f7f7f7\",\"#a6dba0\",\"#008837\"],\n6: [\"#762a83\",\"#af8dc3\",\"#e7d4e8\",\"#d9f0d3\",\"#7fbf7b\",\"#1b7837\"],\n7: [\"#762a83\",\"#af8dc3\",\"#e7d4e8\",\"#f7f7f7\",\"#d9f0d3\",\"#7fbf7b\",\"#1b7837\"],\n8: [\"#762a83\",\"#9970ab\",\"#c2a5cf\",\"#e7d4e8\",\"#d9f0d3\",\"#a6dba0\",\"#5aae61\",\"#1b7837\"],\n9: [\"#762a83\",\"#9970ab\",\"#c2a5cf\",\"#e7d4e8\",\"#f7f7f7\",\"#d9f0d3\",\"#a6dba0\",\"#5aae61\",\"#1b7837\"],\n10: [\"#40004b\",\"#762a83\",\"#9970ab\",\"#c2a5cf\",\"#e7d4e8\",\"#d9f0d3\",\"#a6dba0\",\"#5aae61\",\"#1b7837\",\"#00441b\"],\n11: [\"#40004b\",\"#762a83\",\"#9970ab\",\"#c2a5cf\",\"#e7d4e8\",\"#f7f7f7\",\"#d9f0d3\",\"#a6dba0\",\"#5aae61\",\"#1b7837\",\"#00441b\"]\n},PiYG: {\n3: [\"#e9a3c9\",\"#f7f7f7\",\"#a1d76a\"],\n4: [\"#d01c8b\",\"#f1b6da\",\"#b8e186\",\"#4dac26\"],\n5: [\"#d01c8b\",\"#f1b6da\",\"#f7f7f7\",\"#b8e186\",\"#4dac26\"],\n6: [\"#c51b7d\",\"#e9a3c9\",\"#fde0ef\",\"#e6f5d0\",\"#a1d76a\",\"#4d9221\"],\n7: [\"#c51b7d\",\"#e9a3c9\",\"#fde0ef\",\"#f7f7f7\",\"#e6f5d0\",\"#a1d76a\",\"#4d9221\"],\n8: [\"#c51b7d\",\"#de77ae\",\"#f1b6da\",\"#fde0ef\",\"#e6f5d0\",\"#b8e186\",\"#7fbc41\",\"#4d9221\"],\n9: [\"#c51b7d\",\"#de77ae\",\"#f1b6da\",\"#fde0ef\",\"#f7f7f7\",\"#e6f5d0\",\"#b8e186\",\"#7fbc41\",\"#4d9221\"],\n10: [\"#8e0152\",\"#c51b7d\",\"#de77ae\",\"#f1b6da\",\"#fde0ef\",\"#e6f5d0\",\"#b8e186\",\"#7fbc41\",\"#4d9221\",\"#276419\"],\n11: [\"#8e0152\",\"#c51b7d\",\"#de77ae\",\"#f1b6da\",\"#fde0ef\",\"#f7f7f7\",\"#e6f5d0\",\"#b8e186\",\"#7fbc41\",\"#4d9221\",\"#276419\"]\n},RdBu: {\n3: [\"#ef8a62\",\"#f7f7f7\",\"#67a9cf\"],\n4: [\"#ca0020\",\"#f4a582\",\"#92c5de\",\"#0571b0\"],\n5: [\"#ca0020\",\"#f4a582\",\"#f7f7f7\",\"#92c5de\",\"#0571b0\"],\n6: [\"#b2182b\",\"#ef8a62\",\"#fddbc7\",\"#d1e5f0\",\"#67a9cf\",\"#2166ac\"],\n7: [\"#b2182b\",\"#ef8a62\",\"#fddbc7\",\"#f7f7f7\",\"#d1e5f0\",\"#67a9cf\",\"#2166ac\"],\n8: [\"#b2182b\",\"#d6604d\",\"#f4a582\",\"#fddbc7\",\"#d1e5f0\",\"#92c5de\",\"#4393c3\",\"#2166ac\"],\n9: [\"#b2182b\",\"#d6604d\",\"#f4a582\",\"#fddbc7\",\"#f7f7f7\",\"#d1e5f0\",\"#92c5de\",\"#4393c3\",\"#2166ac\"],\n10: [\"#67001f\",\"#b2182b\",\"#d6604d\",\"#f4a582\",\"#fddbc7\",\"#d1e5f0\",\"#92c5de\",\"#4393c3\",\"#2166ac\",\"#053061\"],\n11: [\"#67001f\",\"#b2182b\",\"#d6604d\",\"#f4a582\",\"#fddbc7\",\"#f7f7f7\",\"#d1e5f0\",\"#92c5de\",\"#4393c3\",\"#2166ac\",\"#053061\"]\n},RdGy: {\n3: [\"#ef8a62\",\"#ffffff\",\"#999999\"],\n4: [\"#ca0020\",\"#f4a582\",\"#bababa\",\"#404040\"],\n5: [\"#ca0020\",\"#f4a582\",\"#ffffff\",\"#bababa\",\"#404040\"],\n6: [\"#b2182b\",\"#ef8a62\",\"#fddbc7\",\"#e0e0e0\",\"#999999\",\"#4d4d4d\"],\n7: [\"#b2182b\",\"#ef8a62\",\"#fddbc7\",\"#ffffff\",\"#e0e0e0\",\"#999999\",\"#4d4d4d\"],\n8: [\"#b2182b\",\"#d6604d\",\"#f4a582\",\"#fddbc7\",\"#e0e0e0\",\"#bababa\",\"#878787\",\"#4d4d4d\"],\n9: [\"#b2182b\",\"#d6604d\",\"#f4a582\",\"#fddbc7\",\"#ffffff\",\"#e0e0e0\",\"#bababa\",\"#878787\",\"#4d4d4d\"],\n10: [\"#67001f\",\"#b2182b\",\"#d6604d\",\"#f4a582\",\"#fddbc7\",\"#e0e0e0\",\"#bababa\",\"#878787\",\"#4d4d4d\",\"#1a1a1a\"],\n11: [\"#67001f\",\"#b2182b\",\"#d6604d\",\"#f4a582\",\"#fddbc7\",\"#ffffff\",\"#e0e0e0\",\"#bababa\",\"#878787\",\"#4d4d4d\",\"#1a1a1a\"]\n},RdYlBu: {\n3: [\"#fc8d59\",\"#ffffbf\",\"#91bfdb\"],\n4: [\"#d7191c\",\"#fdae61\",\"#abd9e9\",\"#2c7bb6\"],\n5: [\"#d7191c\",\"#fdae61\",\"#ffffbf\",\"#abd9e9\",\"#2c7bb6\"],\n6: [\"#d73027\",\"#fc8d59\",\"#fee090\",\"#e0f3f8\",\"#91bfdb\",\"#4575b4\"],\n7: [\"#d73027\",\"#fc8d59\",\"#fee090\",\"#ffffbf\",\"#e0f3f8\",\"#91bfdb\",\"#4575b4\"],\n8: [\"#d73027\",\"#f46d43\",\"#fdae61\",\"#fee090\",\"#e0f3f8\",\"#abd9e9\",\"#74add1\",\"#4575b4\"],\n9: [\"#d73027\",\"#f46d43\",\"#fdae61\",\"#fee090\",\"#ffffbf\",\"#e0f3f8\",\"#abd9e9\",\"#74add1\",\"#4575b4\"],\n10: [\"#a50026\",\"#d73027\",\"#f46d43\",\"#fdae61\",\"#fee090\",\"#e0f3f8\",\"#abd9e9\",\"#74add1\",\"#4575b4\",\"#313695\"],\n11: [\"#a50026\",\"#d73027\",\"#f46d43\",\"#fdae61\",\"#fee090\",\"#ffffbf\",\"#e0f3f8\",\"#abd9e9\",\"#74add1\",\"#4575b4\",\"#313695\"]\n},Spectral: {\n3: [\"#fc8d59\",\"#ffffbf\",\"#99d594\"],\n4: [\"#d7191c\",\"#fdae61\",\"#abdda4\",\"#2b83ba\"],\n5: [\"#d7191c\",\"#fdae61\",\"#ffffbf\",\"#abdda4\",\"#2b83ba\"],\n6: [\"#d53e4f\",\"#fc8d59\",\"#fee08b\",\"#e6f598\",\"#99d594\",\"#3288bd\"],\n7: [\"#d53e4f\",\"#fc8d59\",\"#fee08b\",\"#ffffbf\",\"#e6f598\",\"#99d594\",\"#3288bd\"],\n8: [\"#d53e4f\",\"#f46d43\",\"#fdae61\",\"#fee08b\",\"#e6f598\",\"#abdda4\",\"#66c2a5\",\"#3288bd\"],\n9: [\"#d53e4f\",\"#f46d43\",\"#fdae61\",\"#fee08b\",\"#ffffbf\",\"#e6f598\",\"#abdda4\",\"#66c2a5\",\"#3288bd\"],\n10: [\"#9e0142\",\"#d53e4f\",\"#f46d43\",\"#fdae61\",\"#fee08b\",\"#e6f598\",\"#abdda4\",\"#66c2a5\",\"#3288bd\",\"#5e4fa2\"],\n11: [\"#9e0142\",\"#d53e4f\",\"#f46d43\",\"#fdae61\",\"#fee08b\",\"#ffffbf\",\"#e6f598\",\"#abdda4\",\"#66c2a5\",\"#3288bd\",\"#5e4fa2\"]\n},RdYlGn: {\n3: [\"#fc8d59\",\"#ffffbf\",\"#91cf60\"],\n4: [\"#d7191c\",\"#fdae61\",\"#a6d96a\",\"#1a9641\"],\n5: [\"#d7191c\",\"#fdae61\",\"#ffffbf\",\"#a6d96a\",\"#1a9641\"],\n6: [\"#d73027\",\"#fc8d59\",\"#fee08b\",\"#d9ef8b\",\"#91cf60\",\"#1a9850\"],\n7: [\"#d73027\",\"#fc8d59\",\"#fee08b\",\"#ffffbf\",\"#d9ef8b\",\"#91cf60\",\"#1a9850\"],\n8: [\"#d73027\",\"#f46d43\",\"#fdae61\",\"#fee08b\",\"#d9ef8b\",\"#a6d96a\",\"#66bd63\",\"#1a9850\"],\n9: [\"#d73027\",\"#f46d43\",\"#fdae61\",\"#fee08b\",\"#ffffbf\",\"#d9ef8b\",\"#a6d96a\",\"#66bd63\",\"#1a9850\"],\n10: [\"#a50026\",\"#d73027\",\"#f46d43\",\"#fdae61\",\"#fee08b\",\"#d9ef8b\",\"#a6d96a\",\"#66bd63\",\"#1a9850\",\"#006837\"],\n11: [\"#a50026\",\"#d73027\",\"#f46d43\",\"#fdae61\",\"#fee08b\",\"#ffffbf\",\"#d9ef8b\",\"#a6d96a\",\"#66bd63\",\"#1a9850\",\"#006837\"]\n},Accent: {\n3: [\"#7fc97f\",\"#beaed4\",\"#fdc086\"],\n4: [\"#7fc97f\",\"#beaed4\",\"#fdc086\",\"#ffff99\"],\n5: [\"#7fc97f\",\"#beaed4\",\"#fdc086\",\"#ffff99\",\"#386cb0\"],\n6: [\"#7fc97f\",\"#beaed4\",\"#fdc086\",\"#ffff99\",\"#386cb0\",\"#f0027f\"],\n7: [\"#7fc97f\",\"#beaed4\",\"#fdc086\",\"#ffff99\",\"#386cb0\",\"#f0027f\",\"#bf5b17\"],\n8: [\"#7fc97f\",\"#beaed4\",\"#fdc086\",\"#ffff99\",\"#386cb0\",\"#f0027f\",\"#bf5b17\",\"#666666\"]\n},Dark2: {\n3: [\"#1b9e77\",\"#d95f02\",\"#7570b3\"],\n4: [\"#1b9e77\",\"#d95f02\",\"#7570b3\",\"#e7298a\"],\n5: [\"#1b9e77\",\"#d95f02\",\"#7570b3\",\"#e7298a\",\"#66a61e\"],\n6: [\"#1b9e77\",\"#d95f02\",\"#7570b3\",\"#e7298a\",\"#66a61e\",\"#e6ab02\"],\n7: [\"#1b9e77\",\"#d95f02\",\"#7570b3\",\"#e7298a\",\"#66a61e\",\"#e6ab02\",\"#a6761d\"],\n8: [\"#1b9e77\",\"#d95f02\",\"#7570b3\",\"#e7298a\",\"#66a61e\",\"#e6ab02\",\"#a6761d\",\"#666666\"]\n},Paired: {\n3: [\"#a6cee3\",\"#1f78b4\",\"#b2df8a\"],\n4: [\"#a6cee3\",\"#1f78b4\",\"#b2df8a\",\"#33a02c\"],\n5: [\"#a6cee3\",\"#1f78b4\",\"#b2df8a\",\"#33a02c\",\"#fb9a99\"],\n6: [\"#a6cee3\",\"#1f78b4\",\"#b2df8a\",\"#33a02c\",\"#fb9a99\",\"#e31a1c\"],\n7: [\"#a6cee3\",\"#1f78b4\",\"#b2df8a\",\"#33a02c\",\"#fb9a99\",\"#e31a1c\",\"#fdbf6f\"],\n8: [\"#a6cee3\",\"#1f78b4\",\"#b2df8a\",\"#33a02c\",\"#fb9a99\",\"#e31a1c\",\"#fdbf6f\",\"#ff7f00\"],\n9: [\"#a6cee3\",\"#1f78b4\",\"#b2df8a\",\"#33a02c\",\"#fb9a99\",\"#e31a1c\",\"#fdbf6f\",\"#ff7f00\",\"#cab2d6\"],\n10: [\"#a6cee3\",\"#1f78b4\",\"#b2df8a\",\"#33a02c\",\"#fb9a99\",\"#e31a1c\",\"#fdbf6f\",\"#ff7f00\",\"#cab2d6\",\"#6a3d9a\"],\n11: [\"#a6cee3\",\"#1f78b4\",\"#b2df8a\",\"#33a02c\",\"#fb9a99\",\"#e31a1c\",\"#fdbf6f\",\"#ff7f00\",\"#cab2d6\",\"#6a3d9a\",\"#ffff99\"],\n12: [\"#a6cee3\",\"#1f78b4\",\"#b2df8a\",\"#33a02c\",\"#fb9a99\",\"#e31a1c\",\"#fdbf6f\",\"#ff7f00\",\"#cab2d6\",\"#6a3d9a\",\"#ffff99\",\"#b15928\"]\n},Pastel1: {\n3: [\"#fbb4ae\",\"#b3cde3\",\"#ccebc5\"],\n4: [\"#fbb4ae\",\"#b3cde3\",\"#ccebc5\",\"#decbe4\"],\n5: [\"#fbb4ae\",\"#b3cde3\",\"#ccebc5\",\"#decbe4\",\"#fed9a6\"],\n6: [\"#fbb4ae\",\"#b3cde3\",\"#ccebc5\",\"#decbe4\",\"#fed9a6\",\"#ffffcc\"],\n7: [\"#fbb4ae\",\"#b3cde3\",\"#ccebc5\",\"#decbe4\",\"#fed9a6\",\"#ffffcc\",\"#e5d8bd\"],\n8: [\"#fbb4ae\",\"#b3cde3\",\"#ccebc5\",\"#decbe4\",\"#fed9a6\",\"#ffffcc\",\"#e5d8bd\",\"#fddaec\"],\n9: [\"#fbb4ae\",\"#b3cde3\",\"#ccebc5\",\"#decbe4\",\"#fed9a6\",\"#ffffcc\",\"#e5d8bd\",\"#fddaec\",\"#f2f2f2\"]\n},Pastel2: {\n3: [\"#b3e2cd\",\"#fdcdac\",\"#cbd5e8\"],\n4: [\"#b3e2cd\",\"#fdcdac\",\"#cbd5e8\",\"#f4cae4\"],\n5: [\"#b3e2cd\",\"#fdcdac\",\"#cbd5e8\",\"#f4cae4\",\"#e6f5c9\"],\n6: [\"#b3e2cd\",\"#fdcdac\",\"#cbd5e8\",\"#f4cae4\",\"#e6f5c9\",\"#fff2ae\"],\n7: [\"#b3e2cd\",\"#fdcdac\",\"#cbd5e8\",\"#f4cae4\",\"#e6f5c9\",\"#fff2ae\",\"#f1e2cc\"],\n8: [\"#b3e2cd\",\"#fdcdac\",\"#cbd5e8\",\"#f4cae4\",\"#e6f5c9\",\"#fff2ae\",\"#f1e2cc\",\"#cccccc\"]\n},Set1: {\n3: [\"#e41a1c\",\"#377eb8\",\"#4daf4a\"],\n4: [\"#e41a1c\",\"#377eb8\",\"#4daf4a\",\"#984ea3\"],\n5: [\"#e41a1c\",\"#377eb8\",\"#4daf4a\",\"#984ea3\",\"#ff7f00\"],\n6: [\"#e41a1c\",\"#377eb8\",\"#4daf4a\",\"#984ea3\",\"#ff7f00\",\"#ffff33\"],\n7: [\"#e41a1c\",\"#377eb8\",\"#4daf4a\",\"#984ea3\",\"#ff7f00\",\"#ffff33\",\"#a65628\"],\n8: [\"#e41a1c\",\"#377eb8\",\"#4daf4a\",\"#984ea3\",\"#ff7f00\",\"#ffff33\",\"#a65628\",\"#f781bf\"],\n9: [\"#e41a1c\",\"#377eb8\",\"#4daf4a\",\"#984ea3\",\"#ff7f00\",\"#ffff33\",\"#a65628\",\"#f781bf\",\"#999999\"]\n},Set2: {\n3: [\"#66c2a5\",\"#fc8d62\",\"#8da0cb\"],\n4: [\"#66c2a5\",\"#fc8d62\",\"#8da0cb\",\"#e78ac3\"],\n5: [\"#66c2a5\",\"#fc8d62\",\"#8da0cb\",\"#e78ac3\",\"#a6d854\"],\n6: [\"#66c2a5\",\"#fc8d62\",\"#8da0cb\",\"#e78ac3\",\"#a6d854\",\"#ffd92f\"],\n7: [\"#66c2a5\",\"#fc8d62\",\"#8da0cb\",\"#e78ac3\",\"#a6d854\",\"#ffd92f\",\"#e5c494\"],\n8: [\"#66c2a5\",\"#fc8d62\",\"#8da0cb\",\"#e78ac3\",\"#a6d854\",\"#ffd92f\",\"#e5c494\",\"#b3b3b3\"]\n},Set3: {\n3: [\"#8dd3c7\",\"#ffffb3\",\"#bebada\"],\n4: [\"#8dd3c7\",\"#ffffb3\",\"#bebada\",\"#fb8072\"],\n5: [\"#8dd3c7\",\"#ffffb3\",\"#bebada\",\"#fb8072\",\"#80b1d3\"],\n6: [\"#8dd3c7\",\"#ffffb3\",\"#bebada\",\"#fb8072\",\"#80b1d3\",\"#fdb462\"],\n7: [\"#8dd3c7\",\"#ffffb3\",\"#bebada\",\"#fb8072\",\"#80b1d3\",\"#fdb462\",\"#b3de69\"],\n8: [\"#8dd3c7\",\"#ffffb3\",\"#bebada\",\"#fb8072\",\"#80b1d3\",\"#fdb462\",\"#b3de69\",\"#fccde5\"],\n9: [\"#8dd3c7\",\"#ffffb3\",\"#bebada\",\"#fb8072\",\"#80b1d3\",\"#fdb462\",\"#b3de69\",\"#fccde5\",\"#d9d9d9\"],\n10: [\"#8dd3c7\",\"#ffffb3\",\"#bebada\",\"#fb8072\",\"#80b1d3\",\"#fdb462\",\"#b3de69\",\"#fccde5\",\"#d9d9d9\",\"#bc80bd\"],\n11: [\"#8dd3c7\",\"#ffffb3\",\"#bebada\",\"#fb8072\",\"#80b1d3\",\"#fdb462\",\"#b3de69\",\"#fccde5\",\"#d9d9d9\",\"#bc80bd\",\"#ccebc5\"],\n12: [\"#8dd3c7\",\"#ffffb3\",\"#bebada\",\"#fb8072\",\"#80b1d3\",\"#fdb462\",\"#b3de69\",\"#fccde5\",\"#d9d9d9\",\"#bc80bd\",\"#ccebc5\",\"#ffed6f\"]\n}};\n\nif (typeof define === \"function\" && define.amd) {\n    define(colorbrewer);\n} else if (typeof module === \"object\" && module.exports) {\n    module.exports = colorbrewer;\n} else {\n    this.colorbrewer = colorbrewer;\n}\n\n}();\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band().paddingInner(1));\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport constant from \"./constant\";\nimport nice from \"./nice\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction deinterpolate(a, b) {\n  return (b = Math.log(b / a))\n      ? function(x) { return Math.log(x / a) / b; }\n      : constant(b);\n}\n\nfunction reinterpolate(a, b) {\n  return a < 0\n      ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n      : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport default function log() {\n  var scale = continuous(deinterpolate, reinterpolate).domain([1, 10]),\n      domain = scale.domain,\n      base = 10,\n      logs = logp(10),\n      pows = powp(10);\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  scale.copy = function() {\n    return copy(scale, log().base(base));\n  };\n\n  return scale;\n}\n","import constant from \"./constant\";\nimport {linearish} from \"./linear\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction raise(x, exponent) {\n  return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n}\n\nexport default function pow() {\n  var exponent = 1,\n      scale = continuous(deinterpolate, reinterpolate),\n      domain = scale.domain;\n\n  function deinterpolate(a, b) {\n    return (b = raise(b, exponent) - (a = raise(a, exponent)))\n        ? function(x) { return (raise(x, exponent) - a) / b; }\n        : constant(b);\n  }\n\n  function reinterpolate(a, b) {\n    b = raise(b, exponent) - (a = raise(a, exponent));\n    return function(t) { return raise(a + b * t, 1 / exponent); };\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n  };\n\n  scale.copy = function() {\n    return copy(scale, pow().exponent(exponent));\n  };\n\n  return linearish(scale);\n}\n\nexport function sqrt() {\n  return pow().exponent(0.5);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1];\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range);\n  };\n\n  return linearish(scale);\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(deinterpolate, reinterpolate),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n}\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import {linearish} from \"./linear\";\n\nexport default function sequential(interpolator) {\n  var x0 = 0,\n      x1 = 1,\n      clamp = false;\n\n  function scale(x) {\n    var t = (x - x0) / (x1 - x0);\n    return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n  };\n\n  return linearish(scale);\n}\n","import * as _colorbrewer from \"colorbrewer\";\r\nimport { values as d3Values } from \"d3-collection\";\r\nimport { rgb as d3RGB } from \"d3-color\";\r\nimport { interpolateLab as d3InterpolateLab } from \"d3-interpolate\";\r\nimport { interpolateInferno as d3InterpolateInferno, interpolateMagma as d3InterpolateMagma, interpolatePlasma as d3InterpolatePlasma, interpolateViridis as d3InterpolateViridis, scaleLinear as d3ScaleLinear, scaleOrdinal as d3ScaleOrdinal, scaleQuantize as d3ScaleQuantize, scaleSequential as d3ScaleSequential, schemeCategory10 as d3SchemeCategory10, schemeCategory20 as d3SchemeCategory20, schemeCategory20b as d3SchemeCategory20b, schemeCategory20c as d3SchemeCategory20c } from \"d3-scale\";\r\nimport { select as d3Select } from \"d3-selection\";\r\n\r\nconst d3Schemes = {\r\n    category10: d3SchemeCategory10,\r\n    category20: d3SchemeCategory20,\r\n    category20b: d3SchemeCategory20b,\r\n    category20c: d3SchemeCategory20c\r\n};\r\n\r\nconst m_colorbrewer = _colorbrewer.default || _colorbrewer;\r\n\r\nconst m_d3 = {\r\n    Viridis: d3InterpolateViridis,\r\n    Magma: d3InterpolateMagma,\r\n    Inferno: d3InterpolateInferno,\r\n    Plasma: d3InterpolatePlasma\r\n};\r\n\r\nconst d3Ordinal = [\r\n    \"category10\", \"category20\", \"category20b\", \"category20c\"\r\n];\r\n\r\nconst brewerOrdinal = [\r\n    \"Accent\", \"Dark2\", \"Paired\", \"Pastel1\", \"Pastel2\", \"Set1\", \"Set2\", \"Set3\"\r\n];\r\n\r\nconst hpccOrdinal = [\r\n    \"hpcc10\", \"hpcc20\"\r\n];\r\n\r\n// These color schemes are from www.flatuicolors.com\r\nconst flatuiSchemes = {\r\n    FlatUI_default: [\"rgb(26, 188, 156)\", \"rgb(46, 204, 113)\", \"rgb(52, 152, 219)\", \"rgb(155, 89, 182)\", \"rgb(52, 73, 94)\", \"rgb(22, 160, 133)\", \"rgb(39, 174, 96)\", \"rgb(41, 128, 185)\", \"rgb(142, 68, 173)\", \"rgb(44, 62, 80)\", \"rgb(241, 196, 15)\", \"rgb(230, 126, 34)\", \"rgb(231, 76, 60)\", \"rgb(236, 240, 241)\", \"rgb(149, 165, 166)\", \"rgb(243, 156, 18)\", \"rgb(211, 84, 0)\", \"rgb(192, 57, 43)\", \"rgb(189, 195, 199)\", \"rgb(127, 140, 141)\"],\r\n    FlatUI_American: [\"rgb(85, 239, 196)\", \"rgb(129, 236, 236)\", \"rgb(116, 185, 255)\", \"rgb(162, 155, 254)\", \"rgb(223, 230, 233)\", \"rgb(0, 184, 148)\", \"rgb(0, 206, 201)\", \"rgb(9, 132, 227)\", \"rgb(108, 92, 231)\", \"rgb(178, 190, 195)\", \"rgb(255, 234, 167)\", \"rgb(250, 177, 160)\", \"rgb(255, 118, 117)\", \"rgb(253, 121, 168)\", \"rgb(99, 110, 114)\", \"rgb(253, 203, 110)\", \"rgb(225, 112, 85)\", \"rgb(214, 48, 49)\", \"rgb(232, 67, 147)\", \"rgb(45, 52, 54)\"],\r\n    FlatUI_Aussie: [\"rgb(246, 229, 141)\", \"rgb(255, 190, 118)\", \"rgb(255, 121, 121)\", \"rgb(186, 220, 88)\", \"rgb(223, 249, 251)\", \"rgb(249, 202, 36)\", \"rgb(240, 147, 43)\", \"rgb(235, 77, 75)\", \"rgb(106, 176, 76)\", \"rgb(199, 236, 238)\", \"rgb(126, 214, 223)\", \"rgb(224, 86, 253)\", \"rgb(104, 109, 224)\", \"rgb(48, 51, 107)\", \"rgb(149, 175, 192)\", \"rgb(34, 166, 179)\", \"rgb(190, 46, 221)\", \"rgb(72, 52, 212)\", \"rgb(19, 15, 64)\", \"rgb(83, 92, 104)\"],\r\n    FlatUI_British: [\"rgb(0, 168, 255)\", \"rgb(156, 136, 255)\", \"rgb(251, 197, 49)\", \"rgb(76, 209, 55)\", \"rgb(72, 126, 176)\", \"rgb(0, 151, 230)\", \"rgb(140, 122, 230)\", \"rgb(225, 177, 44)\", \"rgb(68, 189, 50)\", \"rgb(64, 115, 158)\", \"rgb(232, 65, 24)\", \"rgb(245, 246, 250)\", \"rgb(127, 143, 166)\", \"rgb(39, 60, 117)\", \"rgb(53, 59, 72)\", \"rgb(194, 54, 22)\", \"rgb(220, 221, 225)\", \"rgb(113, 128, 147)\", \"rgb(25, 42, 86)\", \"rgb(47, 54, 64)\"],\r\n    FlatUI_Canadian: [\"rgb(255, 159, 243)\", \"rgb(254, 202, 87)\", \"rgb(255, 107, 107)\", \"rgb(72, 219, 251)\", \"rgb(29, 209, 161)\", \"rgb(243, 104, 224)\", \"rgb(255, 159, 67)\", \"rgb(238, 82, 83)\", \"rgb(10, 189, 227)\", \"rgb(16, 172, 132)\", \"rgb(0, 210, 211)\", \"rgb(84, 160, 255)\", \"rgb(95, 39, 205)\", \"rgb(200, 214, 229)\", \"rgb(87, 101, 116)\", \"rgb(1, 163, 164)\", \"rgb(46, 134, 222)\", \"rgb(52, 31, 151)\", \"rgb(131, 149, 167)\", \"rgb(34, 47, 62)\"],\r\n    FlatUI_Chinese: [\"rgb(236, 204, 104)\", \"rgb(255, 127, 80)\", \"rgb(255, 107, 129)\", \"rgb(164, 176, 190)\", \"rgb(87, 96, 111)\", \"rgb(255, 165, 2)\", \"rgb(255, 99, 72)\", \"rgb(255, 71, 87)\", \"rgb(116, 125, 140)\", \"rgb(47, 53, 66)\", \"rgb(123, 237, 159)\", \"rgb(112, 161, 255)\", \"rgb(83, 82, 237)\", \"rgb(255, 255, 255)\", \"rgb(223, 228, 234)\", \"rgb(46, 213, 115)\", \"rgb(30, 144, 255)\", \"rgb(55, 66, 250)\", \"rgb(241, 242, 246)\", \"rgb(206, 214, 224)\"],\r\n    FlatUI_Dutch: [\"rgb(255, 195, 18)\", \"rgb(196, 229, 56)\", \"rgb(18, 203, 196)\", \"rgb(253, 167, 223)\", \"rgb(237, 76, 103)\", \"rgb(247, 159, 31)\", \"rgb(163, 203, 56)\", \"rgb(18, 137, 167)\", \"rgb(217, 128, 250)\", \"rgb(181, 52, 113)\", \"rgb(238, 90, 36)\", \"rgb(0, 148, 50)\", \"rgb(6, 82, 221)\", \"rgb(153, 128, 250)\", \"rgb(131, 52, 113)\", \"rgb(234, 32, 39)\", \"rgb(0, 98, 102)\", \"rgb(27, 20, 100)\", \"rgb(87, 88, 187)\", \"rgb(111, 30, 81)\"],\r\n    FlatUI_French: [\"rgb(250, 211, 144)\", \"rgb(248, 194, 145)\", \"rgb(106, 137, 204)\", \"rgb(130, 204, 221)\", \"rgb(184, 233, 148)\", \"rgb(246, 185, 59)\", \"rgb(229, 80, 57)\", \"rgb(74, 105, 189)\", \"rgb(96, 163, 188)\", \"rgb(120, 224, 143)\", \"rgb(250, 152, 58)\", \"rgb(235, 47, 6)\", \"rgb(30, 55, 153)\", \"rgb(60, 99, 130)\", \"rgb(56, 173, 169)\", \"rgb(229, 142, 38)\", \"rgb(183, 21, 64)\", \"rgb(12, 36, 97)\", \"rgb(10, 61, 98)\", \"rgb(7, 153, 146)\"],\r\n    FlatUI_German: [\"rgb(252, 92, 101)\", \"rgb(253, 150, 68)\", \"rgb(254, 211, 48)\", \"rgb(38, 222, 129)\", \"rgb(43, 203, 186)\", \"rgb(235, 59, 90)\", \"rgb(250, 130, 49)\", \"rgb(247, 183, 49)\", \"rgb(32, 191, 107)\", \"rgb(15, 185, 177)\", \"rgb(69, 170, 242)\", \"rgb(75, 123, 236)\", \"rgb(165, 94, 234)\", \"rgb(209, 216, 224)\", \"rgb(119, 140, 163)\", \"rgb(45, 152, 218)\", \"rgb(56, 103, 214)\", \"rgb(136, 84, 208)\", \"rgb(165, 177, 194)\", \"rgb(75, 101, 132)\"],\r\n    FlatUI_Indian: [\"rgb(254, 164, 127)\", \"rgb(37, 204, 247)\", \"rgb(234, 181, 67)\", \"rgb(85, 230, 193)\", \"rgb(202, 211, 200)\", \"rgb(249, 127, 81)\", \"rgb(27, 156, 252)\", \"rgb(248, 239, 186)\", \"rgb(88, 177, 159)\", \"rgb(44, 58, 71)\", \"rgb(179, 55, 113)\", \"rgb(59, 59, 152)\", \"rgb(253, 114, 114)\", \"rgb(154, 236, 219)\", \"rgb(214, 162, 232)\", \"rgb(109, 33, 79)\", \"rgb(24, 44, 97)\", \"rgb(252, 66, 123)\", \"rgb(189, 197, 129)\", \"rgb(130, 88, 159)\"],\r\n    FlatUI_Russian: [\"rgb(243, 166, 131)\", \"rgb(247, 215, 148)\", \"rgb(119, 139, 235)\", \"rgb(231, 127, 103)\", \"rgb(207, 106, 135)\", \"rgb(241, 144, 102)\", \"rgb(245, 205, 121)\", \"rgb(84, 109, 229)\", \"rgb(225, 95, 65)\", \"rgb(196, 69, 105)\", \"rgb(120, 111, 166)\", \"rgb(248, 165, 194)\", \"rgb(99, 205, 218)\", \"rgb(234, 134, 133)\", \"rgb(89, 98, 117)\", \"rgb(87, 75, 144)\", \"rgb(247, 143, 179)\", \"rgb(61, 193, 211)\", \"rgb(230, 103, 103)\", \"rgb(48, 57, 82)\"],\r\n    FlatUI_Spanish: [\"rgb(64, 64, 122)\", \"rgb(112, 111, 211)\", \"rgb(247, 241, 227)\", \"rgb(52, 172, 224)\", \"rgb(51, 217, 178)\", \"rgb(44, 44, 84)\", \"rgb(71, 71, 135)\", \"rgb(170, 166, 157)\", \"rgb(34, 112, 147)\", \"rgb(33, 140, 116)\", \"rgb(255, 82, 82)\", \"rgb(255, 121, 63)\", \"rgb(209, 204, 192)\", \"rgb(255, 177, 66)\", \"rgb(255, 218, 121)\", \"rgb(179, 57, 57)\", \"rgb(205, 97, 51)\", \"rgb(132, 129, 122)\", \"rgb(204, 142, 53)\", \"rgb(204, 174, 98)\"],\r\n    FlatUI_Swedish: [\"rgb(239, 87, 119)\", \"rgb(87, 95, 207)\", \"rgb(75, 207, 250)\", \"rgb(52, 231, 228)\", \"rgb(11, 232, 129)\", \"rgb(245, 59, 87)\", \"rgb(60, 64, 198)\", \"rgb(15, 188, 249)\", \"rgb(0, 216, 214)\", \"rgb(5, 196, 107)\", \"rgb(255, 192, 72)\", \"rgb(255, 221, 89)\", \"rgb(255, 94, 87)\", \"rgb(210, 218, 226)\", \"rgb(72, 84, 96)\", \"rgb(255, 168, 1)\", \"rgb(255, 211, 42)\", \"rgb(255, 63, 52)\", \"rgb(128, 142, 155)\", \"rgb(30, 39, 46)\"],\r\n    FlatUI_Turkish: [\"rgb(205, 132, 241)\", \"rgb(255, 204, 204)\", \"rgb(255, 77, 77)\", \"rgb(255, 175, 64)\", \"rgb(255, 250, 101)\", \"rgb(197, 108, 240)\", \"rgb(255, 184, 184)\", \"rgb(255, 56, 56)\", \"rgb(255, 159, 26)\", \"rgb(255, 242, 0)\", \"rgb(50, 255, 126)\", \"rgb(126, 255, 245)\", \"rgb(24, 220, 255)\", \"rgb(125, 95, 255)\", \"rgb(75, 75, 75)\", \"rgb(58, 227, 116)\", \"rgb(103, 230, 220)\", \"rgb(23, 192, 235)\", \"rgb(113, 88, 226)\", \"rgb(61, 61, 61)\"]\r\n};\r\nconst flatuiOrdinal = Object.keys(flatuiSchemes);\r\n\r\nconst ordinalCache = {};\r\n\r\nexport function fetchOrdinalItem(id?, colors?) {\r\n    if (!id) return palette_ordinal();\r\n    let retVal = ordinalCache[id];\r\n    if (!retVal) {\r\n        retVal = palette_ordinal(id, colors);\r\n        ordinalCache[id] = retVal;\r\n    }\r\n    return retVal;\r\n}\r\n\r\nfunction palette_ordinal(id?, colors?): any {\r\n    if (!id) return [\"default\"].concat(d3Ordinal.concat(brewerOrdinal).concat(hpccOrdinal).concat(flatuiOrdinal));\r\n    let scale = null;\r\n\r\n    if (colors) {\r\n        scale = d3ScaleOrdinal().range(colors);\r\n    } else {\r\n        if (d3Ordinal.indexOf(id) >= 0) {\r\n            scale = d3ScaleOrdinal(d3Schemes[id]);\r\n        } else if (flatuiOrdinal.indexOf(id) >= 0) {\r\n            scale = d3ScaleOrdinal().range(flatuiSchemes[id]);\r\n        } else if (hpccOrdinal.indexOf(id) >= 0) {\r\n            let newColors = [];\r\n            switch (id) {\r\n                case \"hpcc10\":\r\n                    const defColors = palette_ordinal(\"default\").colors();\r\n                    newColors = defColors.filter(function (_item, idx) {\r\n                        if (idx % 2) {\r\n                            return true;\r\n                        }\r\n                        return false;\r\n                    });\r\n                    break;\r\n                case \"hpcc20\":\r\n                    newColors = palette_ordinal(\"category10\").colors().concat(palette_ordinal(\"hpcc10\").colors());\r\n                    break;\r\n            }\r\n            scale = d3ScaleOrdinal().range(newColors);\r\n        } else if (brewerOrdinal.indexOf(id) > 0) {\r\n            let largestPalette = 12;\r\n            while (largestPalette > 0) {\r\n                if (m_colorbrewer[id][largestPalette]) {\r\n                    scale = d3ScaleOrdinal().range(m_colorbrewer[id][largestPalette]);\r\n                    break;\r\n                }\r\n                --largestPalette;\r\n            }\r\n        }\r\n        if (!scale) {\r\n            //  Default to Category20  ---\r\n            scale = d3ScaleOrdinal(d3SchemeCategory20);\r\n        }\r\n        colors = scale.range();\r\n    }\r\n    const ordinal: any = function (_) {\r\n        return scale(_);\r\n    };\r\n    ordinal.type = function () {\r\n        return \"ordinal\";\r\n    };\r\n    ordinal.id = function (_) {\r\n        if (!arguments.length) return id;\r\n        id = _;\r\n        return ordinal;\r\n    };\r\n    ordinal.colors = function (_) {\r\n        if (!arguments.length) return colors;\r\n        colors = _;\r\n        return ordinal;\r\n    };\r\n    ordinal.clone = function (newID) {\r\n        ordinalCache[newID] = palette_ordinal(newID, this.colors());\r\n        return ordinalCache[newID];\r\n\r\n    };\r\n    ordinal.cloneNotExists = function (newID) {\r\n        if (ordinalCache[newID]) {\r\n            return ordinalCache[newID];\r\n        }\r\n        return this.clone(newID);\r\n    };\r\n    ordinal.switch = function (_id, _colors) {\r\n        if (id === _id) {\r\n            return this;\r\n        }\r\n        return arguments.length ? fetchOrdinalItem(_id, _colors) : fetchOrdinalItem();\r\n    };\r\n\r\n    return ordinal;\r\n}\r\n\r\nconst rainbowCache = {};\r\nexport function fetchRainbowItem(id?, colors?, steps?) {\r\n    if (!id) return palette_rainbow();\r\n    let retVal = rainbowCache[id];\r\n    if (!retVal) {\r\n        retVal = palette_rainbow(id, colors, steps);\r\n        rainbowCache[id] = retVal;\r\n    }\r\n    return retVal;\r\n}\r\n\r\nfunction palette_rainbow(id?, _colors?, _steps?) {\r\n    if (!arguments.length) {\r\n        const retVal = [\"default\"];\r\n        for (const key in m_colorbrewer) {\r\n            if (brewerOrdinal.indexOf(key) === -1) {\r\n                retVal.push(key);\r\n            }\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    let scale = null;\r\n    let colors = _colors;\r\n\r\n    const _custom = function (colors, steps?) {\r\n        steps = steps || 32;\r\n        const subPaletteSize = Math.ceil(steps / (colors.length - 1));\r\n        const range = [];\r\n        let prevColor = null;\r\n        colors.forEach(function (color) {\r\n            if (prevColor) {\r\n                const scale = d3ScaleLinear()\r\n                    .domain([0, subPaletteSize])\r\n                    .range([prevColor, color])\r\n                    .interpolate(d3InterpolateLab as any)\r\n                    ;\r\n                for (let i = 0; i < subPaletteSize; ++i) {\r\n                    range.push(scale(i));\r\n                }\r\n            }\r\n            prevColor = color;\r\n        });\r\n        scale = d3ScaleQuantize().domain([0, 100]).range(range);\r\n        return scale;\r\n    };\r\n\r\n    if (_colors) {\r\n        scale = _custom(_colors, _steps);\r\n    } else {\r\n        if (m_colorbrewer[id]) {\r\n            let largestPalette = 12;\r\n            while (largestPalette > 0) {\r\n                if (m_colorbrewer[id][largestPalette]) {\r\n                    scale = _custom(m_colorbrewer[id][largestPalette]);\r\n                    break;\r\n                }\r\n                --largestPalette;\r\n            }\r\n        }\r\n        if (m_d3[id]) {\r\n            scale = d3ScaleSequential(m_d3[id]).domain([0, 100]);\r\n        }\r\n        if (!scale) {\r\n            scale = _custom(m_colorbrewer.RdYlGn[11]);\r\n        }\r\n        colors = scale.range ? scale.range() : scale;\r\n\r\n    }\r\n    const rainbow: any = function (x, low, high) {\r\n        if (low === high) {\r\n            return scale.domain([low - 1, high + 1])(x);\r\n        }\r\n        return scale.domain([low, high])(x);\r\n    };\r\n    rainbow.type = function () {\r\n        return \"rainbow\";\r\n    };\r\n    rainbow.id = function (_) {\r\n        if (!arguments.length) return id;\r\n        id = _;\r\n        return rainbow;\r\n    };\r\n    rainbow.colors = function (_) {\r\n        if (!arguments.length) return colors;\r\n        colors = _;\r\n        return rainbow;\r\n    };\r\n    rainbow.clone = function (newID) {\r\n        rainbowCache[newID] = palette_rainbow(newID, this.colors());\r\n        return rainbowCache[newID];\r\n    };\r\n    rainbow.cloneNotExists = function (newID) {\r\n        if (rainbowCache[newID]) {\r\n            return rainbowCache[newID];\r\n        }\r\n        return this.clone(newID);\r\n    };\r\n    rainbow.switch = function (_id, _colors) {\r\n        if (id === _id) {\r\n            return this;\r\n        }\r\n        return arguments.length ? fetchRainbowItem(_id, _colors) : fetchRainbowItem();\r\n    };\r\n\r\n    return rainbow;\r\n}\r\n\r\nexport function test(ordinalDivID, brewerDivID, customDivID, customArr, steps) {\r\n    d3Select(ordinalDivID)\r\n        .selectAll(\".palette\")\r\n        .data(palette_ordinal(), function (d: any) { return d; })\r\n        .enter().append(\"span\")\r\n        .attr(\"class\", \"palette\")\r\n        .attr(\"title\", function (d: any) { return d; })\r\n        .on(\"click\", function (d: any) {\r\n            console.log(d3Values(d.value).map(JSON.stringify as any).join(\"\\n\"));\r\n        })\r\n        .selectAll(\".swatch\").data(function (d) { return palette_ordinal(d).colors(); })\r\n        .enter().append(\"span\")\r\n        .attr(\"class\", \"swatch\")\r\n        .style(\"background-color\", function (d: any) { return d; });\r\n\r\n    d3Select(brewerDivID)\r\n        .selectAll(\".palette\")\r\n        .data(palette_rainbow(), function (d: any) { return d; })\r\n        .enter().append(\"span\")\r\n        .attr(\"class\", \"palette\")\r\n        .attr(\"title\", function (d: any) { return d; })\r\n        .on(\"click\", function (d: any) {\r\n            console.log(d3Values(d.value).map(JSON.stringify as any).join(\"\\n\"));\r\n        })\r\n        .selectAll(\".swatch2\").data(function (d) { return palette_rainbow(d).colors(); })\r\n        .enter().append(\"span\")\r\n        .attr(\"class\", \"swatch2\")\r\n        .style(\"height\", (256 / 32) + \"px\")\r\n        .style(\"background-color\", function (d: any) { return d; });\r\n\r\n    const palette = { id: customArr.join(\"_\") + steps, scale: palette_rainbow(\"custom\", customArr, steps) };\r\n    d3Select(customDivID)\r\n        .selectAll(\".palette\")\r\n        .data([palette], function (d: any) { return d.id; })\r\n        .enter().append(\"span\")\r\n        .attr(\"class\", \"palette\")\r\n        .attr(\"title\", function () { return \"aaa\"; /*d.from + \"->\" + d.to;*/ })\r\n        .on(\"click\", function (d) {\r\n            console.log(d3Values(d.id).map(JSON.stringify as any).join(\"\\n\"));\r\n        })\r\n        .selectAll(\".swatch2\").data(function () {\r\n            const retVal = [];\r\n            for (let i = 0; i <= 255; ++i) {\r\n                retVal.push(palette.scale(i, 0, 255));\r\n            }\r\n            return retVal;\r\n        })\r\n        .enter().append(\"span\")\r\n        .attr(\"class\", \"swatch2\")\r\n        .style(\"background-color\", function (d) { return d; });\r\n}\r\n\r\nm_colorbrewer.RdWhGr = {\r\n    3: [\"red\", \"white\", \"green\"]\r\n};\r\n\r\nexport const ordinal = fetchOrdinalItem;\r\nexport const rainbow = fetchRainbowItem;\r\nexport function textColor(backgroundColor: string): string {\r\n    const rgb = d3RGB(backgroundColor);\r\n    return ((rgb.r * 0.299 + rgb.g * 0.587 + rgb.b * 0.114) > 149) ? \"black\" : \"white\";\r\n}\r\n","import { select as d3Select } from \"d3-selection\";\r\nimport { SVGWidget } from \"./SVGWidget\";\r\n\r\nimport \"../src/Shape.css\";\r\n\r\nexport class Shape extends SVGWidget {\r\n    protected _tooltipElement;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    contains(point) {\r\n        switch (this.shape()) {\r\n            case \"circle\":\r\n                return this.containsCircle(this.radius(), point);\r\n        }\r\n        return SVGWidget.prototype.intersection.apply(this, arguments);\r\n    }\r\n\r\n    intersection(pointA, pointB) {\r\n        switch (this.shape()) {\r\n            case \"circle\":\r\n                return this.intersectCircle(this.radius(), pointA, pointB);\r\n        }\r\n        return SVGWidget.prototype.intersection.apply(this, arguments);\r\n    }\r\n\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n        delete this._prevHash;\r\n    }\r\n\r\n    _prevHash;\r\n    update(_domNode, element) {\r\n        const shape = element.selectAll(\"rect,circle,ellipse,path\").data([this.shape()], function (d) { return d; });\r\n        const hash = this.hashSum();\r\n        if (this._prevHash !== hash) {\r\n            this._prevHash = hash;\r\n\r\n            const context = this;\r\n            shape.enter().append(this.getShapeElementTag(this.shape()))\r\n                .attr(\"class\", \"common_Shape\")\r\n                .each(function () {\r\n                    const element2 = d3Select(this);\r\n                    context._tooltipElement = element2.append(\"title\");\r\n                })\r\n                .on(\"click\", () => {\r\n                    this.click();\r\n                })\r\n                .on(\"dblclick\", () => {\r\n                    this.dblclick();\r\n                })\r\n                .merge(shape)\r\n                .style(\"fill\", this.colorFill())\r\n                .style(\"stroke\", this.colorStroke())\r\n                .each(function () {\r\n                    const element2 = d3Select(this);\r\n                    context._tooltipElement.text(context.tooltip());\r\n                    switch (context.shape()) {\r\n                        case \"circle\":\r\n                            const radius = context.radius();\r\n                            element2\r\n                                .attr(\"r\", radius)\r\n                                ;\r\n                            break;\r\n                        case \"square\":\r\n                            const width = Math.max(context.width(), context.height());\r\n                            element2\r\n                                .attr(\"x\", -width / 2)\r\n                                .attr(\"y\", -width / 2)\r\n                                .attr(\"rx\", context.cornerRadius())\r\n                                .attr(\"ry\", context.cornerRadius())\r\n                                .attr(\"width\", width)\r\n                                .attr(\"height\", width)\r\n                                ;\r\n                            break;\r\n                        case \"rect\":\r\n                            element2\r\n                                .attr(\"x\", -context.width() / 2)\r\n                                .attr(\"y\", -context.height() / 2)\r\n                                .attr(\"rx\", context.cornerRadius())\r\n                                .attr(\"ry\", context.cornerRadius())\r\n                                .attr(\"width\", context.width())\r\n                                .attr(\"height\", context.height())\r\n                                ;\r\n                            break;\r\n                        case \"ellipse\":\r\n                            element2\r\n                                .attr(\"rx\", context.width() / 2)\r\n                                .attr(\"ry\", context.height() / 2)\r\n                                ;\r\n                            break;\r\n                        case \"pin\":\r\n                            element2\r\n                                .attr(\"d\", context.pinPath())\r\n                                ;\r\n                            break;\r\n                    }\r\n                })\r\n                ;\r\n            shape.exit().remove();\r\n        }\r\n    }\r\n    getShapeElementTag(_shape) {\r\n        switch (_shape) {\r\n            case \"square\":\r\n                return \"rect\";\r\n            case \"pin\":\r\n                return \"path\";\r\n        }\r\n        return _shape;\r\n    }\r\n    pinPath() {\r\n        const radius = this.cornerRadius();\r\n        const arrow_h = this.arrowHeight();\r\n        const arrow_w = this.arrowWidth();\r\n        const width = this.width();\r\n        const height = this.height() - arrow_h;\r\n        const x = 0 - width / 2;\r\n        const y = 0 - height;\r\n        const arrow_b = (width - radius * 2 - arrow_w) / 2;\r\n        return \"M\" + x + \",\" + y +\r\n            \"a\" + -radius + \",\" + -radius + \" 0 0 1 \" + radius + \",\" + -radius +\r\n            \"h\" + (width + -radius * 2) +\r\n            \"a\" + radius + \",\" + radius + \" 0 0 1 \" + radius + \",\" + radius +\r\n            \"v\" + (height + -radius * 2) +\r\n            \"a\" + radius + \",\" + radius + \" 0 0 1 \" + -radius + \",\" + radius +\r\n            \"h\" + -arrow_b +\r\n            \"l\" + -arrow_w / 2 + \",\" + arrow_h +\r\n            \"l\" + -arrow_w / 2 + \",\" + -arrow_h +\r\n            \"h\" + -arrow_b +\r\n            \"a\" + -radius + \",\" + -radius + \" 0 0 1 \" + -radius + \",\" + -radius +\r\n            \"z\";\r\n    }\r\n\r\n    click() {\r\n    }\r\n\r\n    dblclick() {\r\n    }\r\n\r\n}\r\nShape.prototype._class += \" common_Shape\";\r\n\r\nexport interface Shape {\r\n    shape(): string;\r\n    shape(_: string): this;\r\n    colorStroke(): string;\r\n    colorStroke(_: string): this;\r\n    colorFill(): string;\r\n    colorFill(_: string): this;\r\n    colorFill_exists(): boolean;\r\n    radius(): number;\r\n    radius(_: number): this;\r\n    cornerRadius(): number;\r\n    cornerRadius(_: number): this;\r\n    arrowHeight(): number;\r\n    arrowHeight(_: number): this;\r\n    arrowWidth(): number;\r\n    arrowWidth(_: number): this;\r\n    tooltip(): string;\r\n    tooltip(_: string): this;\r\n}\r\n\r\nShape.prototype.publish(\"shape\", \"circle\", \"set\", \"Shape Type\", [\"circle\", \"square\", \"rect\", \"ellipse\", \"pin\"], { tags: [\"Private\"] });\r\nShape.prototype.publish(\"width\", 24, \"number\", \"Width\", null, { tags: [\"Private\"] });\r\nShape.prototype.publish(\"height\", 24, \"number\", \"Height\", null, { tags: [\"Private\"] });\r\nShape.prototype.publish(\"colorStroke\", null, \"html-color\", \"Stroke Color\", null, { optional: true });\r\nShape.prototype.publish(\"colorFill\", null, \"html-color\", \"Fill Color\", null, { optional: true });\r\nShape.prototype.publish(\"radius\", null, \"number\", \"Radius\", null, { tags: [\"Private\"] });\r\nShape.prototype.publish(\"cornerRadius\", 3, \"number\", \"cornerRadius\");\r\nShape.prototype.publish(\"arrowHeight\", 5, \"number\", \"arrowHeight\");\r\nShape.prototype.publish(\"arrowWidth\", 10, \"number\", \"arrowWidth\");\r\nShape.prototype.publish(\"tooltip\", \"\", \"string\", \"Tooltip\", null, { tags: [\"Private\"] });\r\n\r\nconst _origRadius = Shape.prototype.radius;\r\nShape.prototype.radius = function (_?) {\r\n    const retVal = _origRadius.apply(this, arguments);\r\n    if (arguments.length) {\r\n        this.width(_);\r\n        this.height(_);\r\n        return retVal;\r\n    }\r\n    return Math.max(this.width(), this.height()) / 2;\r\n};\r\n","import { FAChar } from \"./FAChar\";\r\nimport { textColor } from \"./Palette\";\r\nimport { Shape } from \"./Shape\";\r\nimport { SVGWidget } from \"./SVGWidget\";\r\n\r\nimport \"../src/Icon.css\";\r\n\r\nexport class Icon extends SVGWidget {\r\n\r\n    protected _shapeWidget;\r\n    protected _faChar;\r\n    protected _defs;\r\n    protected _root;\r\n    protected _tooltipElement;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._shapeWidget = new Shape();\r\n        this._faChar = new FAChar();\r\n    }\r\n\r\n    getBBox(refresh = false, round = false) {\r\n        const diameter = this.diameter();\r\n        return {\r\n            x: - diameter / 2,\r\n            y: - diameter / 2,\r\n            width: diameter,\r\n            height: diameter\r\n        };\r\n    }\r\n\r\n    contains(point) {\r\n        return this._shapeWidget.contains(point);\r\n    }\r\n\r\n    intersection(pointA, pointB) {\r\n        return this._shapeWidget.intersection(pointA, pointB);\r\n    }\r\n\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n        delete this._prevHash;\r\n        this._defs = element.append(\"defs\");\r\n        this._defs.append(\"clipPath\")\r\n            .attr(\"id\", \"clip_\" + this.id() + \"_circle\")\r\n            .append(\"circle\")\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", 0)\r\n            ;\r\n        this._defs.append(\"clipPath\")\r\n            .attr(\"id\", \"clip_\" + this.id() + \"_square\")\r\n            .append(\"rect\")\r\n            ;\r\n        this._root = element.append(\"g\");\r\n        this._shapeWidget\r\n            .target(this._root.node())\r\n            ;\r\n        this._faChar\r\n            .target(element.node())\r\n            ;\r\n        this._tooltipElement = element.append(\"title\");\r\n        const context = this;\r\n        element\r\n            .on(\"click\", function (el) {\r\n                context.click(el);\r\n            })\r\n            .on(\"dblclick\", function (el) {\r\n                context.dblclick(el);\r\n            })\r\n            ;\r\n    }\r\n\r\n    click(_domNode) {\r\n        console.log(\"Clicked the icon\");\r\n    }\r\n\r\n    dblclick(_domNode) {\r\n        console.log(\"Double clicked the icon\");\r\n    }\r\n\r\n    _prevHash;\r\n    update(domNode, element) {\r\n        super.update(domNode, element);\r\n        const hash = this.hashSum();\r\n        if (this._prevHash !== hash) {\r\n            this._prevHash = hash;\r\n\r\n            const diameter = this.diameter();\r\n            const radius = diameter / 2;\r\n            this._defs.select(\"circle\")\r\n                .attr(\"r\", radius)\r\n                ;\r\n            this._defs.select(\"rect\")\r\n                .attr(\"x\", -radius)\r\n                .attr(\"y\", -radius)\r\n                .attr(\"width\", diameter)\r\n                .attr(\"height\", diameter)\r\n                ;\r\n            this._faChar\r\n                .fontSize(diameter * (100 - this.paddingPercent()) / 100)\r\n                .render()\r\n                ;\r\n            this._shapeWidget\r\n                .shape(this.shape())\r\n                .width(diameter)\r\n                .height(diameter)\r\n                .render()\r\n                ;\r\n            const image = this._root.selectAll(\"image\").data(this.imageUrl() ? [this.imageUrl()] : [], function (d) { return d; });\r\n            image.enter()\r\n                .append(\"image\")\r\n                .attr(\"xlink:href\", this.imageUrl())\r\n                .merge(image)\r\n                .attr(\"clip-path\", \"url(#clip_\" + this.id() + \"_\" + this.shape() + \")\")\r\n                .attr(\"x\", -radius)\r\n                .attr(\"y\", -radius)\r\n                .attr(\"width\", diameter)\r\n                .attr(\"height\", diameter)\r\n                ;\r\n            if (this.shape_colorFill_exists() && !this.image_colorFill_exists()) {\r\n                this.image_colorFill(textColor(this.shape_colorFill()));\r\n            }\r\n            image.exit()\r\n                .remove()\r\n                ;\r\n            this._tooltipElement.text(this.tooltip());\r\n        }\r\n    }\r\n\r\n    exit(domNode, element) {\r\n        super.exit(domNode, element);\r\n        this._shapeWidget\r\n            .target(null)\r\n            ;\r\n        this._faChar\r\n            .target(null)\r\n            ;\r\n    }\r\n\r\n    shape: { (): string; (_: string): Icon; };\r\n    faChar: { (): string; (_: string): Icon; };\r\n    imageUrl: { (): string; (_: string): Icon; };\r\n    image_colorFill: { (): string; (_: string): Icon; };\r\n    image_colorFill_exists: () => boolean;\r\n    tooltip: { (): string; (_: string): Icon; };\r\n    diameter: { (): number; (_: number): Icon; };\r\n    paddingPercent: { (): number; (_: number): Icon; };\r\n    shape_colorFill: { (): string; (_: string): Icon; };\r\n    shape_colorFill_exists: () => boolean;\r\n    shape_colorStroke: { (): string; (_: string): Icon; };\r\n}\r\nIcon.prototype._class += \" common_Icon\";\r\n\r\nIcon.prototype.publish(\"shape\", \"circle\", \"set\", \"Shape Type\", [\"circle\", \"square\"], { tags: [\"Private\"] });\r\nIcon.prototype.publishProxy(\"faChar\", \"_faChar\", \"char\");\r\nIcon.prototype.publish(\"imageUrl\", null, \"string\", \"Image URL\", null, { optional: true });\r\nIcon.prototype.publishProxy(\"image_colorFill\", \"_faChar\", \"text_colorFill\");\r\nIcon.prototype.publish(\"tooltip\", \"\", \"string\", \"Tooltip\", null, { tags: [\"Private\"] });\r\nIcon.prototype.publish(\"diameter\", 24, \"number\", \"Diameter\", null, { tags: [\"Private\"] });\r\nIcon.prototype.publish(\"paddingPercent\", 45, \"number\", \"Padding Percent\", null, { tags: [\"Private\"] });\r\nIcon.prototype.publishProxy(\"shape_colorFill\", \"_shapeWidget\", \"colorFill\");\r\nIcon.prototype.publishProxy(\"shape_colorStroke\", \"_shapeWidget\", \"colorStroke\");\r\n","import { local as d3Local } from \"d3-selection\";\r\nimport { Icon } from \"./Icon\";\r\nimport { Shape } from \"./Shape\";\r\nimport { SVGWidget } from \"./SVGWidget\";\r\nimport { Text } from \"./Text\";\r\nimport { BBox, Widget } from \"./Widget\";\r\n\r\nexport interface IAnnotation {\r\n    faChar: string;\r\n    tooltip?: string;\r\n    shape_colorFill?: string;\r\n    shape_colorStroke?: string;\r\n    image_colorFill?: string;\r\n    shape?: string;\r\n}\r\n\r\nexport class Entity extends SVGWidget {\r\n    protected _icon_widget: Icon;\r\n    protected _background_widget: Shape;\r\n    protected _title_widget: Text;\r\n    protected _desc_widget: Text;\r\n    protected _annotation_widgets: { [idx: number]: { widget: SVGWidget, bbox: BBox } };\r\n    protected _element_anno;\r\n    protected _element_background;\r\n    protected _element_desc;\r\n    protected _element_icon;\r\n    protected _element_title;\r\n\r\n    private _annotationLocal = d3Local<Icon>();\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._background_widget = new Shape();\r\n        this._icon_widget = new Icon();\r\n        this._title_widget = new Text();\r\n        this._desc_widget = new Text();\r\n        this._annotation_widgets = {};\r\n    }\r\n    getAnnotationsBBox(): BBox {\r\n        let retVal: BBox;\r\n        for (const key in this._annotation_widgets) {\r\n            const bbox = this._annotation_widgets[key].bbox;\r\n            if (!retVal) {\r\n                retVal = bbox;\r\n            } else {\r\n                retVal.x = Math.min(retVal.x, bbox.x);\r\n                retVal.y = Math.min(retVal.y, bbox.y);\r\n                retVal.width = Math.max(retVal.width, bbox.width);\r\n                retVal.height = Math.max(retVal.height, bbox.height);\r\n            }\r\n        }\r\n        return retVal || { x: 0, y: 0, width: 0, height: 0 };\r\n    }\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n        element\r\n            .on(\"mouseover\", () => {\r\n                element.classed(\"hovering\", true);\r\n                this.render();\r\n            })\r\n            .on(\"mouseout\", () => {\r\n                element.classed(\"hovering\", false);\r\n                this.render();\r\n            })\r\n            ;\r\n\r\n        this._element_background = element.append(\"g\").attr(\"class\", \"entity_shape\");\r\n        this._element_icon = element.append(\"g\").attr(\"class\", \"entity_icon\");\r\n        this._element_title = element.append(\"g\").attr(\"class\", \"entity_title\");\r\n        this._element_desc = element.append(\"g\").attr(\"class\", \"entity_desc\");\r\n        this._element_anno = element.append(\"g\").attr(\"class\", \"entity_anno\");\r\n\r\n        this._background_widget\r\n            .target(this._element_background.node());\r\n        this._icon_widget\r\n            .shape_colorFill(\"none\")\r\n            .shape_colorStroke(\"none\")\r\n            .target(this._element_icon.node());\r\n        this._title_widget\r\n            .target(this._element_title.node());\r\n        this._desc_widget\r\n            .target(this._element_desc.node());\r\n    }\r\n    update(domNode, element) {\r\n        super.update(domNode, element);\r\n        this._desc_widget\r\n            .fontSize(this.descriptionFontSize());\r\n        const context = this;\r\n        this._annotation_widgets = {};\r\n        let annoXPos = 0;\r\n        const annotations = this._element_anno.selectAll(\".annotation\").data([...this.annotationIcons()].reverse());\r\n        annotations.enter().append(\"g\")\r\n            .attr(\"class\", \"annotation\")\r\n            .each(function (this: SVGGElement, d, idx) {\r\n                const anno = new Icon()\r\n                    .diameter(context.annotationDiameter())\r\n                    .paddingPercent(context.annotationPaddingPercent())\r\n                    .target(this)\r\n                    .shape(\"square\")\r\n                    ;\r\n                context._annotationLocal.set(this, anno);\r\n            })\r\n            .merge(annotations)\r\n            .each(function (this: SVGGElement, d, idx) {\r\n                const anno = context._annotationLocal.get(this);\r\n                if (typeof d.faChar !== \"undefined\") anno.faChar(d.faChar);\r\n                if (typeof d.shape !== \"undefined\") anno.shape(d.shape);\r\n                if (typeof d.image_colorFill !== \"undefined\") anno.image_colorFill(d.image_colorFill);\r\n                if (typeof d.shape_colorFill !== \"undefined\") anno.shape_colorFill(d.shape_colorFill);\r\n                if (typeof d.shape_colorStroke !== \"undefined\") anno.shape_colorStroke(d.shape_colorStroke);\r\n                const annoDiam = anno.diameter();\r\n                anno\r\n                    .x(annoXPos - annoDiam)\r\n                    .y(annoDiam / 2)\r\n                    .render()\r\n                    ;\r\n                annoXPos -= annoDiam + context.annotationSpacing();\r\n                context._annotation_widgets[idx] = {\r\n                    widget: anno,\r\n                    bbox: anno.getBBox(true)\r\n                };\r\n            });\r\n        annotations.exit()\r\n            .each(function (this: HTMLElement, d, idx) {\r\n                const anno = context._annotationLocal.get(this);\r\n                anno.target(null);\r\n            })\r\n            .remove();\r\n    }\r\n    exit(domNode, element) {\r\n        this._desc_widget.target(null);\r\n        this._title_widget.target(null);\r\n        this._icon_widget.target(null);\r\n        this._background_widget.target(null);\r\n        super.exit(domNode, element);\r\n    }\r\n    moveAnnotations(x_offset: number, y_offset: number) {\r\n        this._element_anno.attr(\"transform\", `translate(${x_offset}, ${y_offset})`);\r\n    }\r\n    render(callback?: (w: Widget) => void) {\r\n        return super.render(w => {\r\n            this._background_widget.render();\r\n            this._icon_widget.render();\r\n            this._title_widget.render();\r\n            this._desc_widget.render();\r\n            if (callback) {\r\n                callback(w);\r\n            }\r\n        });\r\n    }\r\n}\r\nEntity.prototype._class += \" common_Entity\";\r\n\r\nexport interface Entity {\r\n    arrowHeight(): number;\r\n    arrowHeight(_: number): this;\r\n    arrowWidth(): number;\r\n    arrowWidth(_: number): this;\r\n    cornerRadius(): number;\r\n    cornerRadius(_: number): this;\r\n    padding(): number;\r\n    padding(_: number): this;\r\n    paddingPercent(): number;\r\n    paddingPercent(_: number): this;\r\n\r\n    annotationIcons(): IAnnotation[];\r\n    annotationIcons(_: IAnnotation[]): this;\r\n    annotationDiameter(): number;\r\n    annotationDiameter(_: number): this;\r\n    annotationSpacing(): number;\r\n    annotationSpacing(_: number): this;\r\n    annotationPaddingPercent(): number;\r\n    annotationPaddingPercent(_: number): this;\r\n    icon(): string;\r\n    icon(_: string): this;\r\n    iconColor(): string;\r\n    iconColor(_: string): this;\r\n    iconDiameter(): number;\r\n    iconDiameter(_: number): this;\r\n    iconPaddingPercent(): number;\r\n    iconPaddingPercent(_: number): this;\r\n    description(): string;\r\n    description(_: string): this;\r\n    descriptionColor(): string;\r\n    descriptionColor(_: string): this;\r\n    descriptionFontFamily(): string;\r\n    descriptionFontFamily(_: string): this;\r\n    descriptionFontSize(): number;\r\n    descriptionFontSize(_: number): this;\r\n    title(): string;\r\n    title(_: string): this;\r\n    titleColor(): string;\r\n    titleColor(_: string): this;\r\n    titleFontFamily(): string;\r\n    titleFontFamily(_: string): this;\r\n    titleFontSize(): number;\r\n    titleFontSize(_: number): this;\r\n    backgroundShape(): string;\r\n    backgroundShape(_: string): this;\r\n    backgroundColorFill(): string;\r\n    backgroundColorFill(_: string): this;\r\n    backgroundColorStroke(): string;\r\n    backgroundColorStroke(_: string): this;\r\n}\r\n\r\nEntity.prototype.publish(\"padding\", 8, \"number\", \"padding\");\r\n\r\nEntity.prototype.publish(\"annotationPaddingPercent\", 38, \"number\", \"annotationPaddingPercent\");\r\nEntity.prototype.publish(\"annotationDiameter\", 14, \"number\", \"Annotation Diameter\");\r\nEntity.prototype.publish(\"annotationIcons\", [], \"array\", \"annotationIcons\"); // TODO: is this really used?\r\nEntity.prototype.publish(\"annotationSpacing\", 3, \"number\", \"annotationSpacing\");\r\n\r\nEntity.prototype.publishProxy(\"icon\", \"_icon_widget\", \"faChar\");\r\nEntity.prototype.publishProxy(\"iconColor\", \"_icon_widget\", \"image_colorFill\");\r\nEntity.prototype.publishProxy(\"iconDiameter\", \"_icon_widget\", \"diameter\");\r\nEntity.prototype.publishProxy(\"iconPaddingPercent\", \"_icon_widget\", \"paddingPercent\");\r\n\r\nEntity.prototype.publishProxy(\"title\", \"_title_widget\", \"text\");\r\nEntity.prototype.publishProxy(\"titleColor\", \"_title_widget\", \"colorFill\");\r\nEntity.prototype.publishProxy(\"titleFontFamily\", \"_title_widget\", \"fontFamily\");\r\nEntity.prototype.publishProxy(\"titleFontSize\", \"_title_widget\", \"fontSize\");\r\n\r\nEntity.prototype.publishProxy(\"description\", \"_desc_widget\", \"text\");\r\nEntity.prototype.publishProxy(\"descriptionColor\", \"_desc_widget\", \"colorFill\");\r\nEntity.prototype.publishProxy(\"descriptionFontFamily\", \"_desc_widget\", \"fontFamily\");\r\nEntity.prototype.publishProxy(\"descriptionFontSize\", \"_desc_widget\", \"fontSize\");\r\n\r\nEntity.prototype.publishProxy(\"backgroundShape\", \"_background_widget\", \"shape\");\r\nEntity.prototype.publishProxy(\"backgroundColorFill\", \"_background_widget\", \"colorFill\");\r\nEntity.prototype.publishProxy(\"backgroundColorStroke\", \"_background_widget\", \"colorStroke\");\r\n\r\nEntity.prototype.publishProxy(\"cornerRadius\", \"_background_widget\");\r\nEntity.prototype.publishProxy(\"arrowHeight\", \"_background_widget\");\r\nEntity.prototype.publishProxy(\"arrowWidth\", \"_background_widget\");\r\n","import { Entity } from \"./Entity\";\r\n\r\nexport class EntityCard extends Entity {\r\n    protected _element_textbox;\r\n    constructor() {\r\n        super();\r\n    }\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n    }\r\n    update() {\r\n        super.update.apply(this, arguments);\r\n\r\n        this._icon_widget.render();\r\n        this._title_widget.render();\r\n        this._desc_widget.render();\r\n        const icon_bbox = this._icon_widget.getBBox(true);\r\n        const title_bbox = this._title_widget.getBBox(true);\r\n        const desc_bbox = this._desc_widget.getBBox(true);\r\n\r\n        let anno_w = 0;\r\n        let anno_h = 0;\r\n        const anno_gap = this.annotationSpacing();\r\n        for (const i of Object.keys(this._annotation_widgets)) {\r\n            anno_w += this._annotation_widgets[i].bbox.width + anno_gap;\r\n            anno_h = anno_h > this._annotation_widgets[i].bbox.height ? anno_h : this._annotation_widgets[i].bbox.height;\r\n        }\r\n\r\n        const _background_h = this.fixedHeight() !== null ? this.fixedHeight() : Math.max(\r\n            title_bbox.height + desc_bbox.height + (this.padding() * 3),\r\n            anno_h + icon_bbox.height + (this.padding() * 3)\r\n        );\r\n        const _background_w = this.fixedWidth() !== null ? this.fixedWidth() : Math.max(\r\n            title_bbox.width + icon_bbox.width + (this.padding() * 3),\r\n            anno_w + desc_bbox.width + (this.padding() * 3)\r\n        );\r\n        this._background_widget\r\n            .height(_background_h)\r\n            .width(_background_w);\r\n\r\n        this._title_widget.move({\r\n            x: -(_background_w / 2) + (title_bbox.width / 2) + this.padding(),\r\n            y: -(_background_h / 2) + (title_bbox.height / 2) + this.padding()\r\n        });\r\n        this._icon_widget.move({\r\n            x: (_background_w / 2) - (icon_bbox.width / 2) - this.padding(),\r\n            y: -(_background_h / 2) + (icon_bbox.height / 2) + this.padding()\r\n        });\r\n        this._desc_widget.move({\r\n            x: -(_background_w / 2) + (desc_bbox.width / 2) + this.padding(),\r\n            y: (_background_h / 2) - (desc_bbox.height / 2) - this.padding()\r\n        });\r\n        this.moveAnnotations((_background_w / 2), (_background_h / 2) - anno_h - this.padding());\r\n    }\r\n}\r\nEntityCard.prototype._class += \" common_EntityCard\";\r\n\r\nexport interface EntityCard {\r\n    fixedWidth(): number;\r\n    fixedWidth(_: number): this;\r\n    fixedHeight(): number;\r\n    fixedHeight(_: number): this;\r\n}\r\n\r\nEntityCard.prototype.publish(\"fixedWidth\", null, \"number\", \"fixedWidth\");\r\nEntityCard.prototype.publish(\"fixedHeight\", null, \"number\", \"fixedHeight\");\r\n","import { Entity } from \"./Entity\";\r\n\r\nexport class EntityPin extends Entity {\r\n    protected _element_textbox;\r\n    constructor() {\r\n        super();\r\n    }\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n    }\r\n    update(domNode, element) {\r\n        super.update.apply(this, arguments);\r\n\r\n        const is_hovering = element.classed(\"hovering\");\r\n\r\n        this._icon_widget.render();\r\n        this._desc_widget.render();\r\n        this._title_widget.render();\r\n        const title_bbox = !this.titleOnlyShowOnHover() || is_hovering ? this._title_widget.getBBox(true) : { height: 0, width: 0 };\r\n        const icon_bbox = !this.iconOnlyShowOnHover() || is_hovering ? this._icon_widget.getBBox(true) : { height: 0, width: 0 };\r\n        const desc_bbox = !this.descriptionOnlyShowOnHover() || is_hovering ? this._desc_widget.getBBox(true) : { height: 0, width: 0 };\r\n        const _anno_h = !this.annotationOnlyShowOnHover() || is_hovering ? this.annotationIcons().length > 0 ? this.annotationDiameter() + this.padding() : 0 : 0;\r\n        const background_bbox = this.calcBackgroundBBox(is_hovering, title_bbox, icon_bbox, desc_bbox, _anno_h);\r\n\r\n        this._title_widget.display(!this.titleOnlyShowOnHover() || is_hovering);\r\n        this._icon_widget.display(!this.iconOnlyShowOnHover() || is_hovering);\r\n        this._desc_widget.display(!this.descriptionOnlyShowOnHover() || is_hovering);\r\n\r\n        this._background_widget\r\n            .height(background_bbox.height)\r\n            .width(background_bbox.width);\r\n        const icon_y = -background_bbox.height + icon_bbox.height + (this.padding() / 2);\r\n        const title_y = icon_y + (icon_bbox.height / 2) + (title_bbox.height / 2) + this.padding();\r\n        const desc_y = title_y + (title_bbox.height / 2) + (desc_bbox.height / 2) + this.padding();\r\n        const anno_y = desc_y + (desc_bbox.height / 2) + this.padding();\r\n        this._title_widget.move({\r\n            x: 0,\r\n            y: title_y\r\n        });\r\n        this._desc_widget.move({\r\n            x: 0,\r\n            y: desc_y\r\n        });\r\n        this._icon_widget.move({\r\n            x: 0,\r\n            y: icon_y\r\n        });\r\n        this.moveAnnotations(background_bbox.width / 2, anno_y);\r\n\r\n    }\r\n    calcHeight() {\r\n        const is_hovering = true;\r\n        this._icon_widget.render();\r\n        this._desc_widget.render();\r\n        this._title_widget.render();\r\n        const title_bbox = !this.titleOnlyShowOnHover() || is_hovering ? this._title_widget.getBBox(true) : { height: 0, width: 0 };\r\n        const icon_bbox = !this.iconOnlyShowOnHover() || is_hovering ? this._icon_widget.getBBox(true) : { height: 0, width: 0 };\r\n        const desc_bbox = !this.descriptionOnlyShowOnHover() || is_hovering ? this._desc_widget.getBBox(true) : { height: 0, width: 0 };\r\n        const _anno_h = !this.annotationOnlyShowOnHover() || is_hovering ? this.annotationIcons().length > 0 ? this.annotationDiameter() + this.padding() : 0 : 0;\r\n        const background_bbox = this.calcBackgroundBBox(is_hovering, title_bbox, icon_bbox, desc_bbox, _anno_h);\r\n\r\n        return background_bbox.height;\r\n    }\r\n    calcBackgroundBBox(is_hovering, title_bbox, icon_bbox, desc_bbox, _anno_h) {\r\n        const content_width = Math.max(title_bbox.width, icon_bbox.width, desc_bbox.width);\r\n        const background_bbox = {\r\n            width: content_width + (this.padding() * 2),\r\n            height: icon_bbox.height + title_bbox.height + _anno_h + this.arrowHeight() + desc_bbox.height + (this.padding() * 5)\r\n        };\r\n        let remove_padding = 0;\r\n        if (this.titleOnlyShowOnHover() && !is_hovering) {\r\n            remove_padding += this.padding();\r\n        }\r\n        if (this.iconOnlyShowOnHover() && !is_hovering) {\r\n            remove_padding += this.padding();\r\n        }\r\n        if (this.descriptionOnlyShowOnHover() && !is_hovering) {\r\n            remove_padding += this.padding();\r\n        }\r\n        if (this.annotationIcons().length === 0 || this.annotationOnlyShowOnHover() && !is_hovering) {\r\n            remove_padding += this.padding();\r\n        }\r\n        background_bbox.height -= remove_padding;\r\n        return background_bbox;\r\n    }\r\n}\r\nEntityPin.prototype._class += \" common_EntityPin\";\r\n\r\nexport interface EntityPin {\r\n    titleOnlyShowOnHover(): boolean;\r\n    titleOnlyShowOnHover(_: boolean): this;\r\n    iconOnlyShowOnHover(): boolean;\r\n    iconOnlyShowOnHover(_: boolean): this;\r\n    descriptionOnlyShowOnHover(): boolean;\r\n    descriptionOnlyShowOnHover(_: boolean): this;\r\n    annotationOnlyShowOnHover(): boolean;\r\n    annotationOnlyShowOnHover(_: boolean): this;\r\n}\r\n\r\nEntityPin.prototype.publish(\"titleOnlyShowOnHover\", false, \"boolean\", \"titleOnlyShowOnHover\");\r\nEntityPin.prototype.publish(\"iconOnlyShowOnHover\", false, \"boolean\", \"iconOnlyShowOnHover\");\r\nEntityPin.prototype.publish(\"descriptionOnlyShowOnHover\", false, \"boolean\", \"descriptionOnlyShowOnHover\");\r\nEntityPin.prototype.publish(\"annotationOnlyShowOnHover\", false, \"boolean\", \"annotationOnlyShowOnHover\");\r\n","import { local as d3Local, select as d3Select } from \"d3-selection\";\r\nimport { Entity } from \"./Entity\";\r\nimport { HTMLWidget } from \"./HTMLWidget\";\r\nimport { publish } from \"./PropertyExt\";\r\nimport * as Utility from \"./Utility\";\r\nimport { InputField } from \"./Widget\";\r\n\r\nimport \"../src/EntityRect.css\";\r\n\r\nexport class EntityRect extends Entity {\r\n    protected _element_textbox;\r\n    constructor() {\r\n        super();\r\n    }\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n    }\r\n    update(domNode, element) {\r\n        this._desc_widget.text(\"\");\r\n        super.update(domNode, element);\r\n    }\r\n    render(callback?: (w: EntityRect) => void) {\r\n        return super.render((w: EntityRect) => {\r\n            const icon_bbox = w.icon() === \"\" ? { width: 0, height: 0 } : this._icon_widget.getBBox(true);\r\n            const title_bbox = this._title_widget.getBBox(true);\r\n            const annotations_bbox = this.getAnnotationsBBox();\r\n\r\n            let width = this.fixedWidth();\r\n            if (!width) {\r\n                width = icon_bbox.width + title_bbox.width + annotations_bbox.width + this.padding() * 4;\r\n            }\r\n\r\n            let height = this.fixedHeight();\r\n            if (!height) {\r\n                height = Math.max(icon_bbox.height, title_bbox.height, annotations_bbox.height) + this.padding() * 2;\r\n            }\r\n\r\n            this._background_widget\r\n                .width(width)\r\n                .height(height)\r\n                .render()\r\n                ;\r\n\r\n            this._icon_widget.move({\r\n                x: -(width / 2) + (icon_bbox.width),\r\n                y: 0\r\n            });\r\n\r\n            this.moveAnnotations(width / 2, -annotations_bbox.height / 2);\r\n            const iconWidth = icon_bbox.width > 0 ? icon_bbox.width + this.padding() : 0;\r\n            const titleX = -(width / 2) + iconWidth + this.padding();\r\n            const annoWidth = this.padding() / 2 + annotations_bbox.width + this.padding();\r\n            const titleW = width - iconWidth - annoWidth;\r\n\r\n            this._title_widget\r\n                .move({\r\n                    x: titleX,\r\n                    y: 0\r\n                })\r\n                .anchor(\"start\")\r\n                .width(titleW)\r\n                .render()\r\n                ;\r\n\r\n            if (callback) {\r\n                callback(w);\r\n            }\r\n        });\r\n    }\r\n}\r\nEntityRect.prototype._class += \" common_EntityRect\";\r\n\r\nexport interface EntityRect {\r\n    fixedWidth(): number;\r\n    fixedWidth(_: number): this;\r\n    fixedHeight(): number;\r\n    fixedHeight(_: number): this;\r\n}\r\n\r\nEntityRect.prototype.publish(\"fixedWidth\", null, \"number\", \"fixedWidth\");\r\nEntityRect.prototype.publish(\"fixedHeight\", null, \"number\", \"fixedHeight\");\r\n\r\nexport class EntityRectList extends HTMLWidget {\r\n    static __inputs: InputField[] = [{\r\n        id: \"borderColor\",\r\n        type: \"string\"\r\n    }, {\r\n        id: \"icon\",\r\n        type: \"string\"\r\n    }, {\r\n        id: \"iconColor\",\r\n        type: \"string\"\r\n    }, {\r\n        id: \"title\",\r\n        type: \"string\"\r\n    }];\r\n\r\n    @publish(64, \"number\", \"fixedHeight\")\r\n    fixedHeight: publish<this, number>;\r\n    @publish(\"#f8f8f8\", \"string\", \"Default Background Color\", null, { inputType: \"html-color\" })\r\n    backgroundColor: publish<this, string>;\r\n    @publish(null, \"set\", \"Background Color Column\", function () { return this.columns(); }, { optional: true })\r\n    backgroundColorColumn: publish<this, string>;\r\n    @publish(\"black\", \"string\", \"Default Border Color\", null, { inputType: \"html-color\" })\r\n    borderColor: publish<this, string>;\r\n    @publish(null, \"set\", \"Border Color Column\", function () { return this.columns(); }, { optional: true })\r\n    borderColorColumn: publish<this, string>;\r\n    @publish(\"\", \"string\", \"Icon\")\r\n    icon: publish<this, string>;\r\n    @publish(null, \"set\", \"Icon Column\", function () { return this.columns(); }, { optional: true })\r\n    iconColumn: publish<this, string>;\r\n    @publish(\"red\", \"string\", \"Default Icon Color\", null, { inputType: \"html-color\" })\r\n    iconColor: publish<this, string>;\r\n    @publish(null, \"set\", \"Icon Color Column \", function () { return this.columns(); }, { optional: true })\r\n    iconColorColumn: publish<this, string>;\r\n    @publish(null, \"set\", \"Title Column\", function () { return this.columns(); }, { optional: true })\r\n    titleColumn: publish<this, string>;\r\n    @publish(\"black\", \"string\", \"Default Title Color\", null, { inputType: \"html-color\" })\r\n    titleColor: publish<this, string>;\r\n    @publish(null, \"set\", \"Title Color Column \", function () { return this.columns(); }, { optional: true })\r\n    titleColorColumn: publish<this, string>;\r\n    @publish(null, \"set\", \"Description Column\", function () { return this.columns(); }, { optional: true })\r\n    descriptionColumn: publish<this, string>;\r\n    @publish(\"black\", \"string\", \"Default Description Color\", null, { inputType: \"html-color\" })\r\n    descriptionColor: publish<this, string>;\r\n    @publish(null, \"set\", \"Description Color Column \", function () { return this.columns(); }, { optional: true })\r\n    descriptionColorColumn: publish<this, string>;\r\n\r\n    private _enityRectLocal = d3Local<EntityRect>();\r\n\r\n    constructor() {\r\n        super();\r\n        Utility.SimpleSelectionMixin.call(this, true);\r\n    }\r\n\r\n    entityRectData() {\r\n        const columns = this.columns();\r\n        const idxColumns = [\r\n            \"backgroundColor\",\r\n            \"borderColor\",\r\n            \"icon\",\r\n            \"iconColor\",\r\n            \"title\",\r\n            \"titleColor\",\r\n            \"description\",\r\n            \"descriptionColor\"\r\n        ];\r\n        const idxs = idxColumns.map(idxColumn => columns.indexOf(this[`${idxColumn}Column`]()));\r\n        return this.data().map(row => {\r\n            const retVal = {\r\n                origRow: row\r\n            };\r\n            for (let i = 0; i < idxColumns.length; ++i) {\r\n                retVal[idxColumns[i]] = idxs[i] >= 0 ? row[idxs[i]] : typeof this[`${idxColumns[i]}`] === \"function\" ? this[`${idxColumns[i]}`]() : \"\";\r\n            }\r\n            return retVal;\r\n        }, this);\r\n    }\r\n\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n        d3Select(domNode.parentNode)\r\n            .style(\"overflow-x\", \"hidden\")\r\n            .style(\"overflow-y\", \"scroll\")\r\n            ;\r\n        this._selection.widgetElement(element);\r\n    }\r\n\r\n    update(domNode, element) {\r\n        super.update(domNode, element);\r\n        const context = this;\r\n\r\n        const margin = { left: 8, top: 8, right: 8, bottom: 8 };\r\n        const width = this.width() - margin.left - margin.right - 20; //  -20 for VScroll (could do better)\r\n        const height = this.fixedHeight() - margin.top - margin.bottom;\r\n\r\n        const svg = element.selectAll(\"svg\").data(this.entityRectData());\r\n        svg.enter().append(\"svg\")\r\n            .attr(\"class\", \"entityRectItem\")\r\n            .call(this._selection.enter.bind(this._selection))\r\n            .on(\"click\", function (d) {\r\n                context.click(context.rowToObj(d.origRow), context.titleColumn(), context._selection.selected(this));\r\n            })\r\n            .on(\"dblclick\", function (d) {\r\n                context.dblclick(context.rowToObj(d.origRow), context.titleColumn(), context._selection.selected(this));\r\n            })\r\n            .each(function () {\r\n                const entityRect = new EntityRect()\r\n                    .target(this)\r\n                    ;\r\n                context._enityRectLocal.set(this, entityRect);\r\n            })\r\n            .merge(svg)\r\n            .style(\"border-color\", d => d.borderColor)\r\n            .each(function (d) {\r\n                context._enityRectLocal.get(this)\r\n                    .pos({ x: width / 2, y: height / 2 })\r\n                    .resize({ width, height })\r\n                    .fixedWidth(width)\r\n                    .fixedHeight(height)\r\n                    .backgroundShape(\"rect\")\r\n                    .backgroundColorFill(d.backgroundColor)\r\n                    .backgroundColorStroke(\"none\")\r\n                    .icon(d.icon)\r\n                    .iconColor(d.iconColor)\r\n                    .iconDiameter(height / 2.6666)\r\n                    .iconPaddingPercent(0)\r\n                    .title(d.title)\r\n                    .titleFontSize(height / 2.6666)\r\n                    .titleColor(d.titleColor)\r\n                    .description(d.description)\r\n                    .descriptionColor(d.descriptionColor)\r\n                    .render()\r\n                    ;\r\n            })\r\n            ;\r\n        svg.exit().remove();\r\n    }\r\n\r\n    exit(domNode, element) {\r\n        super.exit(domNode, element);\r\n    }\r\n\r\n    //  Events ---\r\n    click(row, column, selected) {\r\n        console.log(\"Click:  \" + JSON.stringify(row) + \", \" + column + \",\" + selected);\r\n    }\r\n\r\n    dblclick(row, column, selected) {\r\n        console.log(\"Double click:  \" + JSON.stringify(row) + \", \" + column + \",\" + selected);\r\n    }\r\n\r\n    //  SimpleSelectionMixin\r\n    _selection;\r\n}\r\nEntityRectList.prototype._class += \" common_EntityRectList\";\r\n","import { textColor } from \"./Palette\";\r\nimport { Shape } from \"./Shape\";\r\nimport { SVGWidget } from \"./SVGWidget\";\r\nimport { Text } from \"./Text\";\r\nimport { ISize } from \"./Widget\";\r\n\r\nimport \"../src/TextBox.css\";\r\n\r\nexport class TextBox extends SVGWidget {\r\n\r\n    protected _shape: Shape;\r\n    protected _text: Text;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._shape = new Shape()\r\n            .shape(\"rect\")\r\n            .on(\"click\", () => {\r\n                this.click();\r\n            })\r\n            .on(\"dblclick\", () => {\r\n                this.dblclick();\r\n            })\r\n            ;\r\n        this._text = new Text()\r\n            .on(\"click\", () => {\r\n                this.click();\r\n            })\r\n            .on(\"dblclick\", () => {\r\n                this.dblclick();\r\n            })\r\n            ;\r\n    }\r\n\r\n    padding(_) {\r\n        this.paddingLeft(_);\r\n        this.paddingRight(_);\r\n        this.paddingTop(_);\r\n        this.paddingBottom(_);\r\n        return this;\r\n    }\r\n\r\n    getTextX(width) {\r\n        switch (this.anchor()) {\r\n            case \"start\":\r\n                return -width / 2;\r\n            case \"end\":\r\n                return width / 2;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    getBBox(refresh = false, round = false) {\r\n        const textBBox = this._text.getBBox(true);\r\n        const width = this.fixedSize() ? this.fixedSize().width : textBBox.width + this.paddingLeft() + this.paddingRight();\r\n        const height = this.fixedSize() ? this.fixedSize().height : textBBox.height + this.paddingTop() + this.paddingBottom();\r\n        return {\r\n            x: -width - 2,\r\n            y: -height - 2,\r\n            width,\r\n            height\r\n        };\r\n    }\r\n\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n        delete this._prevHash;\r\n        this._shape\r\n            .target(domNode)\r\n            .tooltip(this.tooltip())\r\n            ;\r\n        this._text\r\n            .target(domNode)\r\n            ;\r\n    }\r\n\r\n    _prevHash;\r\n    update(domNode, element) {\r\n        super.update(domNode, element);\r\n        const hash = this.hashSum();\r\n        if (this._prevHash !== hash) {\r\n            this._prevHash = hash;\r\n\r\n            const textBBox = this._text.getBBox(true);\r\n            const size = {\r\n                width: this.fixedSize() ? this.fixedSize().width : textBBox.width + this.paddingLeft() + this.paddingRight(),\r\n                height: this.fixedSize() ? this.fixedSize().height : textBBox.height + this.paddingTop() + this.paddingBottom()\r\n            };\r\n\r\n            this._shape\r\n                .width(size.width)\r\n                .height(size.height)\r\n                .render()\r\n                ;\r\n\r\n            this._text\r\n                .x(this.getTextX(textBBox.width))\r\n                .colorFill_default(this._shape.colorFill_exists() ? textColor(this._shape.colorFill()) : undefined)\r\n                .render()\r\n                ;\r\n\r\n            if (this.fixedSize()) {\r\n                switch (this.anchor()) {\r\n                    case \"start\":\r\n                        this._text\r\n                            .x(-this.fixedSize().width / 2 + textBBox.width / 2 + (this.paddingLeft() + this.paddingRight()) / 2)\r\n                            .render()\r\n                            ;\r\n                        break;\r\n                    case \"end\":\r\n                        this._text\r\n                            .x(this.fixedSize().width / 2 - textBBox.width / 2 - (this.paddingLeft() + this.paddingRight()) / 2)\r\n                            .render()\r\n                            ;\r\n                        break;\r\n                }\r\n            }\r\n            this._text.visible(textBBox.width <= size.width && textBBox.height <= size.height);\r\n        }\r\n    }\r\n\r\n    exit(domNode, element) {\r\n        this._shape\r\n            .target(null)\r\n            ;\r\n        this._text\r\n            .target(null)\r\n            ;\r\n        super.exit(domNode, element);\r\n    }\r\n\r\n    click() {\r\n    }\r\n\r\n    dblclick() {\r\n    }\r\n\r\n    text: { (): string; (_: string): TextBox; };\r\n    fontSize: { (): number; (_: number): TextBox; };\r\n    shape_colorFill: { (): string; (_: string): TextBox; };\r\n    shape_colorStroke: { (): string; (_: string): TextBox; };\r\n    text_colorFill: { (): string; (_: string): TextBox; };\r\n    paddingLeft: { (): number; (_: number): TextBox; };\r\n    paddingRight: { (): number; (_: number): TextBox; };\r\n    paddingTop: { (): number; (_: number): TextBox; };\r\n    paddingBottom: { (): number; (_: number): TextBox; };\r\n    anchor: { (): \"start\" | \"middle\" | \"end\"; (_: \"start\" | \"middle\" | \"end\"): TextBox; };\r\n    fixedSize: { (): ISize; (_: ISize): TextBox; };\r\n    tooltip: { (): string; (_: string): TextBox; };\r\n}\r\nTextBox.prototype._class += \" common_TextBox\";\r\n\r\nTextBox.prototype.publishProxy(\"text\", \"_text\");\r\nTextBox.prototype.publishProxy(\"fontSize\", \"_text\", \"fontSize\");\r\nTextBox.prototype.publishProxy(\"shape_colorStroke\", \"_shape\", \"colorStroke\");\r\nTextBox.prototype.publishProxy(\"shape_colorFill\", \"_shape\", \"colorFill\");\r\nTextBox.prototype.publishProxy(\"text_colorFill\", \"_text\", \"colorFill\");\r\nTextBox.prototype.publish(\"paddingLeft\", 4, \"number\", \"Left padding (in pixels)\", null, { tags: [\"Private\"] });\r\nTextBox.prototype.publish(\"paddingRight\", 4, \"number\", \"Right padding (in pixels)\", null, { tags: [\"Private\"] });\r\nTextBox.prototype.publish(\"paddingTop\", 4, \"number\", \"Top padding (in pixels)\", null, { tags: [\"Private\"] });\r\nTextBox.prototype.publish(\"paddingBottom\", 4, \"number\", \"Bottom padding (in pixels)\", null, { tags: [\"Private\"] });\r\nTextBox.prototype.publishProxy(\"anchor\", \"_text\");\r\nTextBox.prototype.publish(\"fixedSize\", null);\r\n\r\nTextBox.prototype.publish(\"tooltip\", \"\", \"string\", \"Tooltip\", null, { tags: [\"Private\"] });\r\n","import { Entity } from \"./Entity\";\r\nimport { TextBox } from \"./TextBox\";\r\n\r\nexport class EntityVertex extends Entity {\r\n    protected _textbox_widget: TextBox;\r\n    protected _element_textbox;\r\n    constructor() {\r\n        super();\r\n        this._textbox_widget = new TextBox();\r\n    }\r\n    enter(domNode, element) {\r\n        this._element_textbox = element.append(\"g\").attr(\"class\", \"entity_textbox\");\r\n        super.enter(domNode, element);\r\n        this._textbox_widget.target(this._element_textbox.node());\r\n    }\r\n    update() {\r\n        super.update.apply(this, arguments);\r\n        this._textbox_widget\r\n            .text(this._title_widget.text());\r\n        this._icon_widget\r\n            .shape_colorFill(this.iconColorFill())\r\n            .shape_colorStroke(this.iconColorStroke());\r\n        this._background_widget\r\n            .colorFill(\"none\")\r\n            .colorStroke(\"none\");\r\n\r\n        this._icon_widget.render();\r\n        this._textbox_widget.render();\r\n        const icon_bbox = this._icon_widget.getBBox(true);\r\n        const text_bbox = this._textbox_widget.getBBox(true);\r\n        let _icon_x = 0;\r\n        let _icon_y = -(text_bbox.height / 2) - (icon_bbox.height / 3);\r\n        switch (this.iconAnchor()) {\r\n            case \"start\":\r\n                _icon_x = -(text_bbox.width / 2) + (icon_bbox.width / 3);\r\n                break;\r\n            case \"end\":\r\n                _icon_x = (text_bbox.width / 2) - (icon_bbox.width / 3);\r\n                break;\r\n            case \"left\":\r\n                _icon_x = -(text_bbox.width / 2) - (icon_bbox.width / 2);\r\n                _icon_y = 0;\r\n                break;\r\n        }\r\n        this._icon_widget.move({\r\n            x: _icon_x,\r\n            y: _icon_y\r\n        });\r\n        this.moveAnnotations(text_bbox.width / 2, text_bbox.height / 2);\r\n    }\r\n    exit(domNode, element) {\r\n        this._textbox_widget.target(null);\r\n        super.exit(domNode, element);\r\n    }\r\n}\r\nEntityVertex.prototype._class += \" common_EntityVertex\";\r\n\r\nexport interface EntityVertex {\r\n    iconAnchor(): string;\r\n    iconAnchor(_: string): this;\r\n    iconColorFill(): string;\r\n    iconColorFill(_: string): this;\r\n    iconColorStroke(): string;\r\n    iconColorStroke(_: string): this;\r\n    shape_colorStroke(): string;\r\n    shape_colorStroke(_: string): this;\r\n    shape_colorFill(): string;\r\n    shape_colorFill(_: string): this;\r\n    text_colorFill(): string;\r\n    text_colorFill(_: string): this;\r\n\r\n    textboxColorStroke(): string;\r\n    textboxColorStroke(_: string): this;\r\n    textboxColorFill(): string;\r\n    textboxColorFill(_: string): this;\r\n    textboxFontColor(): string;\r\n    textboxFontColor(_: string): this;\r\n}\r\n\r\nEntityVertex.prototype.publish(\"iconAnchor\", \"start\", \"set\", \"Horizontal anchor position of icon\", [\"\", \"start\", \"middle\", \"end\", \"left\"]);\r\nEntityVertex.prototype.publish(\"iconColorFill\", null, \"html-color\", \"iconColorFill\");\r\nEntityVertex.prototype.publish(\"iconColorStroke\", null, \"html-color\", \"iconColorStroke\");\r\n\r\nEntityVertex.prototype.publishProxy(\"textboxColorStroke\", \"_textbox_widget\", \"shape_colorStroke\");\r\nEntityVertex.prototype.publishProxy(\"textboxColorFill\", \"_textbox_widget\", \"shape_colorFill\");\r\nEntityVertex.prototype.publishProxy(\"textboxFontColor\", \"_textbox_widget\", \"text_colorFill\");\r\n","import { select as d3Select } from \"d3-selection\";\r\nimport { HTMLWidget } from \"./HTMLWidget\";\r\n\r\nexport class Image extends HTMLWidget {\r\n    private _imgElement;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n    }\r\n\r\n    update(domNode, element) {\r\n        super.update(domNode, element);\r\n        const context = this;\r\n        const img = element.selectAll(\"img\").data(this.source() ? [this.source()] : [], function (d) { return d; });\r\n        img.enter()\r\n            .append(\"img\")\r\n            .attr(\"src\", this.source())\r\n            .style(\"opacity\", 0)\r\n            .on(\"load\", function () {\r\n                context._imgElement = d3Select(this);\r\n                context.styleImageElement();\r\n                context._imgElement.style(\"opacity\", 1);\r\n            })\r\n            ;\r\n        this.styleImageElement();\r\n        img.exit()\r\n            .remove()\r\n            ;\r\n    }\r\n\r\n    styleImageElement() {\r\n        if (!this._imgElement) return;\r\n        switch (this.sizing()) {\r\n            case \"actual\":\r\n                this._imgElement.style(\"width\", \"auto\");\r\n                this._imgElement.style(\"height\", \"auto\");\r\n                break;\r\n            case \"fit\":\r\n                if (this.lockAspectRatio()) {\r\n                    this._imgElement.style(\"width\", \"auto\");\r\n                    this._imgElement.style(\"height\", \"auto\");\r\n                    const bbox = this._imgElement.node().getBoundingClientRect();\r\n                    const xScale = bbox.width / this.width();\r\n                    const yScale = bbox.height / this.height();\r\n                    if (xScale > yScale) {\r\n                        this._imgElement.style(\"width\", this.width() + \"px\");\r\n                        this._imgElement.style(\"height\", (bbox.height / xScale) + \"px\");\r\n                    } else {\r\n                        this._imgElement.style(\"width\", (bbox.width / yScale) + \"px\");\r\n                        this._imgElement.style(\"height\", this.height() + \"px\");\r\n                    }\r\n                } else {\r\n                    this._imgElement.style(\"width\", this.width() + \"px\");\r\n                    this._imgElement.style(\"height\", this.height() + \"px\");\r\n                }\r\n                break;\r\n            case \"custom\":\r\n                this._imgElement.style(\"width\", this.customWidth());\r\n                this._imgElement.style(\"height\", this.customHeight());\r\n                break;\r\n        }\r\n        switch (this.alignment()) {\r\n            case \"origin\":\r\n                break;\r\n            case \"center\":\r\n                const bbox = this._imgElement.node().getBoundingClientRect();\r\n                this._imgElement.style(\"margin-left\", `${(this.width() - bbox.width) / 2}px`);\r\n                this._imgElement.style(\"margin-top\", `${(this.height() - bbox.height) / 2}px`);\r\n                break;\r\n        }\r\n    }\r\n\r\n    exit(domNode, element) {\r\n        super.exit(domNode, element);\r\n    }\r\n\r\n    source: { (): string; (_: string): Image; };\r\n    sizing: { (): string; (_: string): Image; };\r\n    customWidth: { (): string; (_: string): Image; };\r\n    customHeight: { (): string; (_: string): Image; };\r\n    lockAspectRatio: { (): boolean; (_: boolean): Image; };\r\n    alignment: { (): string; (_: string): Image; };\r\n}\r\nImage.prototype._class += \" common_Image\";\r\n\r\nImage.prototype.publish(\"source\", null, \"string\", \"Image Source\", null, { tags: [\"Basic\"] });\r\nImage.prototype.publish(\"sizing\", \"actual\", \"set\", \"Controls sizing mode\", [\"actual\", \"fit\", \"custom\"], { tags: [\"Basic\"] });\r\nImage.prototype.publish(\"customWidth\", \"50%\", \"string\", \"Applies this width to IMG element if 'sizing' is set to 'custom' (user should set 'px' or 'em' etc.)\", null, { tags: [\"Basic\"], disable: (w) => w.sizing() !== \"custom\" });\r\nImage.prototype.publish(\"customHeight\", \"20%\", \"string\", \"Applies this height to IMG element if 'sizing' is set to 'custom' (user should set 'px' or 'em' etc.)\", null, { tags: [\"Basic\"], disable: (w) => w.sizing() !== \"custom\" });\r\nImage.prototype.publish(\"lockAspectRatio\", true, \"boolean\", \"Locks the aspect ratio when scaling/stretching\", null, { tags: [\"Basic\"], disable: (w) => w.sizing() !== \"fit\" });\r\nImage.prototype.publish(\"alignment\", \"center\", \"set\", \"Image Alignment\", [\"center\", \"origin\"], { tags: [\"Basic\"] });\r\n","import { IList } from \"./IList\";\r\nimport { SVGWidget } from \"./SVGWidget\";\r\nimport { TextBox } from \"./TextBox\";\r\n\r\nimport \"../src/List.css\";\r\n\r\nexport class List extends SVGWidget implements IList {\r\n\r\n    protected _listWidgets;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._listWidgets = {};\r\n    }\r\n\r\n    update(domNode, element) {\r\n        super.update(domNode, element);\r\n        const context = this;\r\n\r\n        const line = element.selectAll(\".line\").data(this.data(), function (d) { return d; });\r\n        const lineEnter = line.enter().append(\"g\")\r\n            .attr(\"class\", \"line\")\r\n            .each(function (d) {\r\n                const newTextBox = new TextBox()\r\n                    .target(this)\r\n                    .paddingTop(0)\r\n                    .paddingBottom(0)\r\n                    .paddingLeft(8)\r\n                    .paddingRight(8)\r\n                    .text(d)\r\n                    .render()\r\n                    ;\r\n                newTextBox.element()\r\n                    .on(\"click\", function (d2) {\r\n                        context.click(d2.text());\r\n                    })\r\n                    .on(\"dblclick\", function (d2) {\r\n                        context.dblclick(d2.text());\r\n                    })\r\n                    ;\r\n                context._listWidgets[d] = newTextBox;\r\n            })\r\n            ;\r\n\r\n        let listHeight = 0;\r\n        let listWidth = 0;\r\n        for (const key in this._listWidgets) {\r\n            if (!this._listWidgets.hasOwnProperty(key)) continue;\r\n            const bbox = this._listWidgets[key].getBBox();\r\n            listHeight += bbox.height;\r\n            if (listWidth < bbox.width)\r\n                listWidth = bbox.width;\r\n        }\r\n\r\n        let yPos = -listHeight / 2; // + lineHeight / 2;\r\n        lineEnter.merge(line).each(function (d) {\r\n            const widget = context._listWidgets[d];\r\n            const bbox = widget.getBBox();\r\n            widget\r\n                .pos({ x: 0, y: yPos + bbox.height / 2 })\r\n                .anchor(context.anchor())\r\n                .fixedSize({ width: listWidth, height: bbox.height })\r\n                .render()\r\n                ;\r\n            yPos += bbox.height;\r\n        });\r\n        line.exit()\r\n            .remove()\r\n            .each(function (d) {\r\n                context._listWidgets[d].target(null);\r\n                delete context._listWidgets[d];\r\n            })\r\n            ;\r\n    }\r\n\r\n    exit(domNode, element) {\r\n        for (const key in this._listWidgets) {\r\n            if (this._listWidgets.hasOwnProperty(key)) {\r\n                this._listWidgets[key].target(null);\r\n            }\r\n        }\r\n        super.exit(domNode, element);\r\n    }\r\n\r\n    //  Events  ---\r\n    click(d) {\r\n        console.log(\"Click:  \" + d);\r\n    }\r\n\r\n    dblclick(d) {\r\n        console.log(\"Double click:  \" + d);\r\n    }\r\n\r\n    anchor: { (): string; (_: string): List; };\r\n}\r\nList.prototype._class += \" common_List\";\r\n\r\nList.prototype.publish(\"anchor\", \"start\", \"set\", \"Anchor Position\", [\"\", \"start\", \"middle\", \"end\"], { tags: [\"Private\"] });\r\n","import { event as d3Event, select as d3Select } from \"d3-selection\";\r\nimport { Icon } from \"./Icon\";\r\nimport { IMenu } from \"./IMenu\";\r\nimport { List } from \"./List\";\r\nimport { SVGWidget } from \"./SVGWidget\";\r\n\r\nimport \"../src/Menu.css\";\r\n\r\nexport class Menu extends SVGWidget implements IMenu {\r\n    protected _icon = new Icon().shape(\"square\").diameter(14).paddingPercent(0);\r\n    protected _list = new List();\r\n    protected _open;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        const context = this;\r\n        this._list.click = function (d) {\r\n            d3Event.stopPropagation();\r\n            context.hideMenu();\r\n            context.click(d);\r\n        };\r\n        this._open = false;\r\n    }\r\n\r\n    toggleMenu() {\r\n        if (!this._open) {\r\n            this.showMenu();\r\n        } else {\r\n            this.hideMenu();\r\n        }\r\n    }\r\n\r\n    showMenu() {\r\n        this.preShowMenu();\r\n        this._open = true;\r\n        this._list\r\n            .data(this.data())\r\n            .render()\r\n            ;\r\n\r\n        const bbox = this._icon.getBBox(true);\r\n        const menuBBox = this._list.getBBox(true);\r\n        const pos = {\r\n            x: bbox.width / 2 - menuBBox.width / 2,\r\n            y: bbox.height / 2 + menuBBox.height / 2\r\n        };\r\n        this._list\r\n            .move(pos)\r\n            ;\r\n        const context = this;\r\n        d3Select(\"body\")\r\n            .on(\"click.\" + this._id, function () {\r\n                console.log(\"click:  body - \" + context._id);\r\n                if (context._open) {\r\n                    context.hideMenu();\r\n                }\r\n            })\r\n            ;\r\n    }\r\n\r\n    hideMenu() {\r\n        d3Select(\"body\")\r\n            .on(\"click.\" + this._id, null)\r\n            ;\r\n        this._open = false;\r\n        this._list\r\n            .data([])\r\n            .render()\r\n            ;\r\n        this.postHideMenu();\r\n    }\r\n\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n\r\n        this._icon\r\n            .target(domNode)\r\n            .render()\r\n            ;\r\n\r\n        this._list\r\n            .target(domNode)\r\n            .render()\r\n            ;\r\n\r\n        const context = this;\r\n        this._icon.element()\r\n            .on(\"click\", function () {\r\n                d3Event.stopPropagation();\r\n                context.toggleMenu();\r\n            })\r\n            ;\r\n    }\r\n\r\n    update(domNode, element) {\r\n        super.update(domNode, element);\r\n        element\r\n            .classed(\"disabled\", this.data().length === 0)\r\n            ;\r\n\r\n        this._icon\r\n            .faChar(this.faChar())\r\n            .paddingPercent(this.paddingPercent())\r\n            .render()\r\n            ;\r\n    }\r\n\r\n    exit(domNode, element) {\r\n        this._icon\r\n            .target(null)\r\n            ;\r\n\r\n        this._list\r\n            .target(null)\r\n            ;\r\n\r\n        super.exit(domNode, element);\r\n    }\r\n\r\n    //  Events  ---\r\n    click(d) {\r\n        console.log(\"Click:  \" + d);\r\n    }\r\n    preShowMenu() {\r\n        console.log(\"preShowMenu\");\r\n    }\r\n    postHideMenu() {\r\n        console.log(\"postHideMenu\");\r\n    }\r\n\r\n    faChar: { (): string; (_: string): Menu; };\r\n    paddingPercent: { (): number; (_: number): Menu; };\r\n}\r\nMenu.prototype._class += \" common_Menu\";\r\n\r\nMenu.prototype.publishProxy(\"faChar\", \"_icon\", null, \"\\uf0c9\");\r\nMenu.prototype.publishProxy(\"paddingPercent\", \"_icon\", null, 10);\r\n","import { PropertyExt, publish } from \"./PropertyExt\";\r\n\r\nexport class ProgressBar extends PropertyExt {\r\n\r\n    @publish(5000, \"number\", \"Half Life\")\r\n    halfLife: publish<this, number>;\r\n    @publish(1.2, \"number\", \"Decay\")\r\n    decay: publish<this, number>;\r\n    @publish(2, \"number\", \"Size\")\r\n    size: publish<this, number>;\r\n    @publish(\"#2ed573\", \"string\", \"Color\")\r\n    color: publish<this, string>;\r\n    @publish(true, \"boolean\", \"Bar Blur\")\r\n    blurBar: publish<this, boolean>;\r\n    @publish(50, \"number\", \"Blur Size\")\r\n    blurSize: publish<this, number>;\r\n    @publish(\"#7bed9f\", \"string\", \"Blur Color (hex)\", null, { optional: true })\r\n    blurColor: publish<this, string>;\r\n    @publish(0.35, \"number\", \"Blur Opacity\")\r\n    blurOpacity: publish<this, number>;\r\n\r\n    protected _elementID: string;\r\n    protected _running: boolean = false;\r\n    protected _style;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    calcCSS(halflife: number, perc: number) {\r\n        const bar_size = this.size();\r\n        const bar_color = this.color();\r\n        const blur_opacity = this.blurOpacity();\r\n        const blur_opacity_hex = blur_opacity * 255 >= 16 ? Math.floor(blur_opacity * 255).toString(16).slice(-2) : \"00\";\r\n        const blur_color = this.blurColor() || bar_color;\r\n        const blur_size = this.blurSize();\r\n        const blur_fx = this.blurBar() ? `background: radial-gradient(ellipse at 50% 50%, ${blur_color}${blur_opacity_hex}, ${blur_color}00, #00000000 ${blur_size}px);` : \"\";\r\n        return `\r\n            #${this._elementID}::before{\r\n                content:\" \";display:block;position:absolute;\r\n                height:${bar_size}px;width:${perc}%;\r\n                left:0;top:0;\r\n                background-color: ${bar_color};\r\n                transition: width ${(halflife / 1000)}s;\r\n            }\r\n            #${this._elementID}::after{\r\n                content:\" \";display:block;position:absolute;\r\n                height:${blur_size}px;width:${blur_size * 2}px;\r\n                left:calc(${perc}% - ${blur_size}px);\r\n                top:${-((blur_size / 2) - (bar_size / 2))}px;\r\n                background-color: ${bar_color};\r\n                transition: left ${(halflife / 1000)}s;\r\n                transform: rotate(1deg) translate(-${blur_size / 2.5}px,0px) scale(1.5,0.5);\r\n                ${blur_fx}\r\n            }\r\n        `;\r\n    }\r\n\r\n    start() {\r\n        this._running = true;\r\n        this.updateProgress(this.halfLife(), 10);\r\n    }\r\n\r\n    finish() {\r\n        this.updateProgress(100, 100);\r\n    }\r\n\r\n    enter(domNode, element) {\r\n        this._elementID = element.attr(\"id\");\r\n        if (!this._elementID) throw new Error(\"Target element requires an id attribute.\");\r\n        this._style = element.insert(\"style\");\r\n    }\r\n\r\n    exit(_domNode, _element) {\r\n        this._running = false;\r\n        if (this._style)\r\n            this._style.remove();\r\n        delete this._style;\r\n    }\r\n\r\n    protected updateProgress(halflife: number, perc: number) {\r\n        if (!this._running) return;\r\n        if (this._style) {\r\n            this._style.html(this.calcCSS(halflife, perc));\r\n        }\r\n\r\n        const percLimit = 95;\r\n        halflife *= this.decay();\r\n        perc = perc ? perc : 10;\r\n        if (perc < percLimit) {\r\n            setTimeout(() => {\r\n                const _remaining = 100 - perc;\r\n                this.updateProgress(halflife, perc + (_remaining / 2));\r\n            }, perc === 10 ? 100 : halflife);\r\n        } else if (perc === 100) {\r\n            setTimeout(() => {\r\n                this._running = false;\r\n                if (this._style) {\r\n                    this._style.html(\"\");\r\n                }\r\n            }, halflife);\r\n        }\r\n    }\r\n}\r\nProgressBar.prototype._class += \" common_ProgressBar\";\r\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag\";\nimport noevent, {nopropagation} from \"./noevent\";\nimport constant from \"./constant\";\nimport DragEvent from \"./event\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return \"ontouchstart\" in this;\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","import { select as d3Select } from \"d3-selection\";\r\nimport \"d3-transition\";\r\nimport { Icon } from \"./Icon\";\r\nimport { Menu } from \"./Menu\";\r\nimport { Shape } from \"./Shape\";\r\nimport { SVGWidget } from \"./SVGWidget\";\r\nimport { Text } from \"./Text\";\r\n\r\nimport \"../src/Surface.css\";\r\n\r\nexport class Surface extends SVGWidget {\r\n    _origMenuParam;\r\n    _origShowContent;\r\n\r\n    protected _iconWidget;\r\n    protected _containerWidget;\r\n    protected _titleRectWidget;\r\n    protected _textWidget;\r\n    _menuWidget;\r\n    protected _surfaceButtons;\r\n\r\n    protected _clipRect;\r\n    protected buttonContainer;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._iconWidget = new Icon()\r\n            .faChar(\"\\uf07b\")\r\n            .paddingPercent(50)\r\n            ;\r\n        this._containerWidget = new Shape()\r\n            .class(\"container\")\r\n            .shape(\"rect\")\r\n            ;\r\n        this._titleRectWidget = new Shape()\r\n            .class(\"title\")\r\n            .shape(\"rect\")\r\n            ;\r\n        this._textWidget = new Text()\r\n            .class(\"title\")\r\n            ;\r\n        this._menuWidget = new Menu()\r\n            .paddingPercent(0)\r\n            ;\r\n        const context = this;\r\n        this._menuWidget.preShowMenu = function () {\r\n            if (context.content() && context.content().hasOverlay()) {\r\n                context.content().visible(false);\r\n            }\r\n        };\r\n        this._menuWidget.postHideMenu = function () {\r\n            if (context.content() && context.content().hasOverlay()) {\r\n                context.content().visible(true);\r\n            }\r\n        };\r\n\r\n        this._surfaceButtons = [];\r\n    }\r\n\r\n    enter(_domNode, _element) {\r\n        super.enter(_domNode, _element);\r\n        const element = _element.append(\"g\").attr(\"class\", \"frame\");\r\n        const domNode = element.node();\r\n        this._clipRect = element.append(\"defs\").append(\"clipPath\")\r\n            .attr(\"id\", this.id() + \"_clip\")\r\n            .append(\"rect\")\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", 0)\r\n            .attr(\"width\", this._size.width)\r\n            .attr(\"height\", this._size.height)\r\n            ;\r\n        this._titleRectWidget\r\n            .target(domNode)\r\n            .render()\r\n            .display(this.showTitle() && this.showIcon())\r\n            ;\r\n        this._iconWidget\r\n            .target(domNode)\r\n            .render()\r\n            ;\r\n        this._menuWidget\r\n            .target(_domNode)\r\n            ;\r\n        this._textWidget\r\n            .target(domNode)\r\n            ;\r\n        this._containerWidget\r\n            .target(domNode)\r\n            ;\r\n        this.buttonContainer = d3Select(this._target).append(\"div\").attr(\"class\", \"svg-button-container\");\r\n    }\r\n\r\n    update(domNode, element) {\r\n        super.update(domNode, element);\r\n        const context = this;\r\n\r\n        let width = this.width() - 1;\r\n        const height = this.height() - 1;\r\n\r\n        this._iconWidget\r\n            .display(this.showTitle() && this.showIcon())\r\n            .shape(this.icon_shape())\r\n            .render()\r\n            ;\r\n        this._menuWidget\r\n            .render()\r\n            ;\r\n        this._textWidget\r\n            .text(this.title())\r\n            .display(this.showTitle())\r\n            .render()\r\n            ;\r\n\r\n        const surfaceButtons = this.buttonContainer.selectAll(\".surface-button\").data(this.buttonAnnotations());\r\n        surfaceButtons.enter().append(\"button\").attr(\"class\", \"surface-button\")\r\n            .each(function (button, idx) {\r\n                const el = context._surfaceButtons[idx] = d3Select(this)\r\n                    .attr(\"class\", \"surface-button \" + (button.class ? button.class : \"\"))\r\n                    .attr(\"id\", button.id)\r\n                    .style(\"padding\", button.padding)\r\n                    .style(\"width\", button.width)\r\n                    .style(\"height\", button.height)\r\n                    .style(\"cursor\", \"pointer\")\r\n                    .on(\"click\", function (d) { context.click(d); });\r\n                if (button.font === \"FontAwesome\") {\r\n                    el\r\n                        .append(\"i\")\r\n                        .attr(\"class\", \"fa\")\r\n                        .text(function () { return button.label; });\r\n                } else {\r\n                    el\r\n                        .text(function () { return button.label; });\r\n                }\r\n            })\r\n            ;\r\n        surfaceButtons.exit()\r\n            .each(function (_d, idx) {\r\n                const element2 = d3Select(this);\r\n                delete context._surfaceButtons[idx];\r\n                element2.remove();\r\n            })\r\n            ;\r\n\r\n        const buttonClientHeight = this.showTitle() ? Math.max.apply(null, this._surfaceButtons.map(function (d) { return d.node().offsetHeight; })) : 0;\r\n        const iconClientSize = this.showTitle() && this.showIcon() ? this._iconWidget.getBBox(true) : { width: 0, height: 0 };\r\n        const textClientSize = this._textWidget.getBBox(true);\r\n        const menuClientSize = this._menuWidget.getBBox(true);\r\n        const _titleRegionHeight = Math.max(iconClientSize.height, textClientSize.height, menuClientSize.height, buttonClientHeight);\r\n        const titleRegionHeight = this.showTitle() ? _titleRegionHeight : 0;\r\n        const yTitle = (-height + _titleRegionHeight) / 2;\r\n\r\n        const titleTextHeight = this.showTitle() ? Math.max(textClientSize.height, menuClientSize.height, buttonClientHeight) : 0;\r\n        const titleTextWidth = this.showTitle() ? textClientSize.width + menuClientSize.width : 0;\r\n        if (titleTextWidth > width) {\r\n            width = titleTextWidth;\r\n        }\r\n\r\n        const topMargin = titleRegionHeight <= titleTextHeight ? 0 : (titleRegionHeight - titleTextHeight) / 2;\r\n        const leftMargin = topMargin;\r\n\r\n        this._titleRectWidget\r\n            .pos({ x: leftMargin, y: yTitle })\r\n            .width(width - leftMargin * 2)\r\n            .height(titleTextHeight)\r\n            .display(this.showTitle())\r\n            .render()\r\n            ;\r\n        this._iconWidget\r\n            .move({ x: -width / 2 + iconClientSize.width / 2, y: yTitle })\r\n            ;\r\n        this._menuWidget\r\n            .move({ x: width / 2 - menuClientSize.width / 2 - this.menuPadding(), y: yTitle })\r\n            ;\r\n        this._textWidget\r\n            .move({ x: (iconClientSize.width / 2 - menuClientSize.width / 2) / 2, y: yTitle })\r\n            ;\r\n\r\n        const xPos = context._titleRectWidget.node().getBoundingClientRect().left + (context._size.width - leftMargin * 2) - context.buttonGutter() - this.buttonContainer.node().offsetWidth;\r\n        const yPos = context._titleRectWidget.node().getBoundingClientRect().top + ((titleTextHeight - this.buttonContainer.node().offsetHeight) / 2);\r\n        if (!isNaN(xPos)) {\r\n            this.buttonContainer.style(\"left\", xPos + \"px\");\r\n        }\r\n        if (!isNaN(yPos)) {\r\n            this.buttonContainer.style(\"top\", yPos + \"px\");\r\n        }\r\n\r\n        if (this.showTitle()) {\r\n            this._containerWidget\r\n                .pos({ x: leftMargin / 2, y: titleRegionHeight / 2 - topMargin / 2 })\r\n                .width(width - leftMargin)\r\n                .height(height - titleRegionHeight + topMargin)\r\n                .render()\r\n                ;\r\n        } else {\r\n            this._containerWidget\r\n                .pos({ x: 0, y: 0 })\r\n                .width(width)\r\n                .height(height)\r\n                .render()\r\n                ;\r\n        }\r\n\r\n        if (this.showContent()) {\r\n            const xOffset = leftMargin;\r\n            const yOffset = titleRegionHeight - topMargin;\r\n\r\n            const content = element.selectAll(\".content\").data(this.content() ? [this.content()] : [], function (d) { return d._id; });\r\n            content.enter().append(\"g\")\r\n                .attr(\"class\", \"content\")\r\n                .attr(\"clip-path\", \"url(#\" + this.id() + \"_clip)\")\r\n                .each(function (d) {\r\n                    d.target(this);\r\n                })\r\n                .merge(content)\r\n                .attr(\"transform\", \"translate(\" + (leftMargin / 2) + \", \" + (titleRegionHeight / 2 - topMargin / 2) + \")\")\r\n                .each(function (d) {\r\n                    const padding = {\r\n                        left: 0,\r\n                        top: 0,\r\n                        right: 1,\r\n                        bottom: 1\r\n                    };\r\n                    d\r\n                        .resize({\r\n                            width: width - xOffset - (padding.left + padding.right),\r\n                            height: height - yOffset - (padding.top + padding.bottom)\r\n                        })\r\n                        ;\r\n                })\r\n                ;\r\n            if (this.content()) {\r\n                this._clipRect\r\n                    .attr(\"x\", -(width - xOffset) / 2)\r\n                    .attr(\"y\", -(height - yOffset) / 2)\r\n                    .attr(\"width\", width - xOffset)\r\n                    .attr(\"height\", height - yOffset)\r\n                    ;\r\n            }\r\n            content.exit().transition()\r\n                .each(function (d) { d.target(null); })\r\n                .remove()\r\n                ;\r\n        }\r\n\r\n        if (this._menuWidget.element() && this._menuWidget.element().node() && this._menuWidget.element().node().parentNode) {\r\n            this._menuWidget.element().node().parentNode.appendChild(this._menuWidget.element().node()); // Make sure menu is on top (Z-Order POV)\r\n        }\r\n    }\r\n\r\n    exit(domNode, element) {\r\n        this._titleRectWidget\r\n            .target(null)\r\n            ;\r\n        this._iconWidget\r\n            .target(null)\r\n            ;\r\n        this._menuWidget\r\n            .target(null)\r\n            ;\r\n        this._textWidget\r\n            .target(null)\r\n            ;\r\n        this._containerWidget\r\n            .target(null)\r\n            ;\r\n        if (this.content()) {\r\n            this.content().target(null);\r\n        }\r\n        super.exit(domNode, element);\r\n    }\r\n\r\n    intersection(pointA, pointB) {\r\n        const hits = [];\r\n        const i1 = this._iconWidget.intersection(pointA, pointB, this._pos);\r\n        if (i1) {\r\n            hits.push({ i: i1, d: this.distance(i1, pointB) });\r\n        }\r\n        const i2 = this._titleRectWidget.intersection(pointA, pointB);\r\n        if (i2) {\r\n            hits.push({ i: i2, d: this.distance(i2, pointB) });\r\n        }\r\n        const i3 = this._containerWidget.intersection(pointA, pointB);\r\n        if (i3) {\r\n            hits.push({ i: i3, d: this.distance(i3, pointB) });\r\n        }\r\n        let nearest = null;\r\n        hits.forEach(function (item) {\r\n            if (nearest === null || nearest.d > item.d) {\r\n                nearest = item;\r\n            }\r\n        });\r\n        return nearest && nearest.i ? nearest.i : null;\r\n    }\r\n\r\n    click(d) {\r\n        console.log(\"Clicked: \" + d.id);\r\n    }\r\n\r\n    showTitle: { (): boolean; (_: boolean): Surface; };\r\n    title: { (): string; (_: string): Surface; };\r\n    titleFontSize: { (): string; (_: string): Surface; };\r\n    showIcon: { (): boolean; (_: boolean): Surface; };\r\n    icon_faChar: { (): string; (_: string): Surface; };\r\n    icon_shape: { (): string; (_: string): Surface; };\r\n    content: { (): any; (_: any): Surface; };\r\n    buttonAnnotations: { (): any[]; (_: any[]): Surface; };\r\n    buttonGutter: { (): number; (_: number): Surface; };\r\n    showContent: { (): boolean; (_: boolean): Surface; };\r\n    menu: { (): any[]; (_: any[]): Surface; };\r\n    menuPadding: { (): number; (_: number): Surface; };\r\n}\r\nSurface.prototype._class += \" common_Surface\";\r\n\r\nSurface.prototype.publish(\"showTitle\", true, \"boolean\", \"Show Title\", null, { tags: [\"Basic\"] });\r\nSurface.prototype.publish(\"title\", \"\", \"string\", \"Title\", null, { tags: [\"Basic\"] });\r\nSurface.prototype.publishProxy(\"titleFontSize\", \"_textWidget\", \"fontSize\");\r\nSurface.prototype.publish(\"showIcon\", true, \"boolean\", \"Show Title\", null, { tags: [\"Advanced\"] });\r\nSurface.prototype.publishProxy(\"icon_faChar\", \"_iconWidget\", \"faChar\");\r\nSurface.prototype.publishProxy(\"icon_shape\", \"_iconWidget\", \"shape\");\r\n\r\nSurface.prototype.publish(\"content\", null, \"widget\", \"Content\", null, { tags: [\"Private\"] });\r\n\r\nSurface.prototype.publish(\"buttonAnnotations\", [], \"array\", \"Button Array\", null, { tags: [\"Intermediate\"] });\r\nSurface.prototype.publish(\"buttonGutter\", 25, \"number\", \"Space Between Menu and Buttons\", null, { tags: [\"Intermediate\"] });\r\n\r\nSurface.prototype.publish(\"showContent\", true, \"boolean\", \"Show Content\", null, { tags: [\"Intermediate\"] });\r\nSurface.prototype.publish(\"menu\", [], \"array\", \"Menu List Data\", null, { tags: [\"Intermediate\"] });\r\nSurface.prototype.publish(\"menuPadding\", 2, \"number\", \"Menu Padding\", null, { tags: [\"Advanced\"] });\r\n\r\nSurface.prototype._origMenuParam = Surface.prototype.menu;\r\nSurface.prototype.menu = function (this: Surface, _?) {\r\n    Surface.prototype._origMenuParam.apply(this, arguments);\r\n    if (arguments.length) {\r\n        this._menuWidget.data(_);\r\n        return this;\r\n    }\r\n    return this._menuWidget.data();\r\n};\r\n\r\nSurface.prototype._origShowContent = Surface.prototype.showContent;\r\nSurface.prototype.showContent = function (_?) {\r\n    const retVal = Surface.prototype._origShowContent.apply(this, arguments);\r\n    if (arguments.length) {\r\n        if (this.content()) {\r\n            this.content().visible(this.showContent());\r\n        }\r\n    }\r\n    return retVal;\r\n};\r\n","import { dispatch as d3Dispatch } from \"d3-dispatch\";\r\nimport { drag as d3Drag } from \"d3-drag\";\r\nimport { event as d3Event, select as d3Select } from \"d3-selection\";\r\nimport { Surface } from \"./Surface\";\r\n\r\nimport \"../src/ResizeSurface.css\";\r\n\r\nexport class ResizeSurface extends Surface {\r\n\r\n    protected handleWidth;\r\n    protected handles;\r\n    protected dispatch;\r\n    protected drag;\r\n    protected _domNode;\r\n    protected _dragHandlePos;\r\n    protected _dragStartPos;\r\n    protected _dragStartSize;\r\n    protected _prevPosSize;\r\n    protected _textPosSize;\r\n    protected _iconPosSize;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.handleWidth = 8;\r\n        this.handles = [{ loc: \"NW\" }, { loc: \"N\" }, { loc: \"NE\" }, { loc: \"E\" }, { loc: \"SE\" }, { loc: \"S\" }, { loc: \"SW\" }, { loc: \"W\" }];\r\n\r\n        const context = this;\r\n        this.dispatch = d3Dispatch(\"sizestart\", \"size\", \"sizeend\");\r\n        this.drag = d3Drag()\r\n            .subject(function (d) { return d; })\r\n            ;\r\n        this.drag\r\n            .on(\"start\", function (d) {\r\n                context.dispatch.call(\"sizestart\", context, d.loc);\r\n                if (context.allowResize()) {\r\n                    d3Event.sourceEvent.stopPropagation();\r\n                    context._dragHandlePos = { x: d.x, y: d.y };\r\n                    context._dragStartPos = context.pos();\r\n                    context._dragStartSize = context.size();\r\n                    context._prevPosSize = {\r\n                        x: context._dragStartPos.x,\r\n                        y: context._dragStartPos.y,\r\n                        width: context._dragStartSize.width,\r\n                        height: context._dragStartSize.height\r\n                    };\r\n                    context._textPosSize = context._textWidget.getBBox(true);\r\n                    context._iconPosSize = context._iconWidget.getBBox(true);\r\n                    context.showContent(false);\r\n                }\r\n            })\r\n            .on(\"drag\", function (d) {\r\n                if (context.allowResize()) {\r\n                    d3Event.sourceEvent.stopPropagation();\r\n                    const _dx = d3Event.x - context._dragHandlePos.x;\r\n                    const _dy = d3Event.y - context._dragHandlePos.y;\r\n                    const delta = { x: 0, y: 0, w: 0, h: 0 };\r\n                    switch (d.loc) {\r\n                        case \"NW\":\r\n                            delta.x = _dx / 2;\r\n                            delta.w = -_dx;\r\n                        /* falls through */\r\n                        case \"N\":\r\n                            delta.y = _dy / 2;\r\n                            delta.h = -_dy;\r\n                            break;\r\n                        case \"NE\":\r\n                            delta.y = _dy / 2;\r\n                            delta.h = -_dy;\r\n                        /* falls through */\r\n                        case \"E\":\r\n                            delta.x = _dx / 2;\r\n                            delta.w = _dx;\r\n                            break;\r\n                        case \"SE\":\r\n                            delta.x = _dx / 2;\r\n                            delta.w = _dx;\r\n                        /* falls through */\r\n                        case \"S\":\r\n                            delta.y = _dy / 2;\r\n                            delta.h = _dy;\r\n                            break;\r\n                        case \"SW\":\r\n                            delta.y = _dy / 2;\r\n                            delta.h = _dy;\r\n                        /* falls through */\r\n                        case \"W\":\r\n                            delta.x = _dx / 2;\r\n                            delta.w = -_dx;\r\n                            break;\r\n                    }\r\n                    const posSize = {\r\n                        x: context._dragStartPos.x + delta.x,\r\n                        y: context._dragStartPos.y + delta.y,\r\n                        width: context._dragStartSize.width + delta.w,\r\n                        height: context._dragStartSize.height + delta.h\r\n                    };\r\n                    if (posSize.width < context._iconPosSize.width * 2 + context._textPosSize.width) {\r\n                        posSize.x = context._prevPosSize.x;\r\n                        posSize.width = context._prevPosSize.width;\r\n                    }\r\n                    if (posSize.height < context._textPosSize.height + 48) {\r\n                        posSize.y = context._prevPosSize.y;\r\n                        posSize.height = context._prevPosSize.height;\r\n                    }\r\n                    context\r\n                        .pos({ x: posSize.x, y: posSize.y })\r\n                        .size({ width: posSize.width, height: posSize.height })\r\n                        .render()\r\n                        .getBBox(true)\r\n                        ;\r\n                    context.dispatch.call(\"size\", context, d.loc);\r\n                    context._prevPosSize = posSize;\r\n                }\r\n            })\r\n            .on(\"end\", function (d) {\r\n                if (context.allowResize()) {\r\n                    d3Event.sourceEvent.stopPropagation();\r\n                    context\r\n                        .showContent(true)\r\n                        .render()\r\n                        ;\r\n                    context._containerWidget.getBBox(true);\r\n                    context._titleRectWidget.getBBox(true);\r\n                    context.dispatch.call(\"sizeend\", context, d.loc);\r\n                }\r\n            })\r\n            ;\r\n    }\r\n\r\n    move(_) {\r\n        const retVal = super.move.apply(this, arguments);\r\n        this.updateHandles(this._domNode, this._element);\r\n        return retVal;\r\n    }\r\n\r\n    update(domNode, element) {\r\n        super.update(domNode, element);\r\n        this.updateHandles(domNode, element);\r\n    }\r\n\r\n    updateHandles(_domNode, _element) {\r\n        const sizeHandles = this._placeholderElement.selectAll(\"rect\").data(this.handles, function (d) { return d.loc; });\r\n        const sizeHandlesEnter = sizeHandles.enter().append(\"rect\")\r\n            .attr(\"class\", function (d) { return \"resize\" + d.loc; })\r\n            .call(this.drag)\r\n            ;\r\n\r\n        const l = this._pos.x + this._containerWidget._pos.x - this._containerWidget.width() / 2;\r\n        const t = this._pos.y + this._titleRectWidget._pos.y - this._titleRectWidget.height() / 2;\r\n        const r = this._pos.x + this._containerWidget._pos.x + this._containerWidget.width() / 2;\r\n        const b = this._pos.y + this._containerWidget._pos.y + this._containerWidget.height() / 2;\r\n        const w = r - l;\r\n        const h = b - t;\r\n        const context = this;\r\n        sizeHandlesEnter.merge(sizeHandles)\r\n            .each(function (d) {\r\n                switch (d.loc) {\r\n                    case \"NW\":\r\n                        d.x = l - context.handleWidth / 2;\r\n                        d.y = t - context.handleWidth / 2;\r\n                        d.width = context.handleWidth;\r\n                        d.height = context.handleWidth;\r\n                        break;\r\n                    case \"N\":\r\n                        d.x = l + context.handleWidth / 2;\r\n                        d.y = t - context.handleWidth / 2;\r\n                        d.width = w - context.handleWidth;\r\n                        d.height = context.handleWidth;\r\n                        break;\r\n                    case \"NE\":\r\n                        d.x = r - context.handleWidth / 2;\r\n                        d.y = t - context.handleWidth / 2;\r\n                        d.width = context.handleWidth;\r\n                        d.height = context.handleWidth;\r\n                        break;\r\n                    case \"E\":\r\n                        d.x = r - context.handleWidth / 2;\r\n                        d.y = t + context.handleWidth / 2;\r\n                        d.width = context.handleWidth;\r\n                        d.height = h - context.handleWidth;\r\n                        break;\r\n                    case \"SE\":\r\n                        d.x = r - context.handleWidth / 2;\r\n                        d.y = b - context.handleWidth / 2;\r\n                        d.width = context.handleWidth;\r\n                        d.height = context.handleWidth;\r\n                        break;\r\n                    case \"S\":\r\n                        d.x = l + context.handleWidth / 2;\r\n                        d.y = b - context.handleWidth / 2;\r\n                        d.width = w - context.handleWidth;\r\n                        d.height = context.handleWidth;\r\n                        break;\r\n                    case \"SW\":\r\n                        d.x = l - context.handleWidth / 2;\r\n                        d.y = b - context.handleWidth / 2;\r\n                        d.width = context.handleWidth;\r\n                        d.height = context.handleWidth;\r\n                        break;\r\n                    case \"W\":\r\n                        d.x = l - context.handleWidth / 2;\r\n                        d.y = t + context.handleWidth / 2;\r\n                        d.width = context.handleWidth;\r\n                        d.height = h - context.handleWidth;\r\n                        break;\r\n                }\r\n                d3Select(this)\r\n                    .attr(\"x\", d.x)\r\n                    .attr(\"y\", d.y)\r\n                    .attr(\"width\", d.width)\r\n                    .attr(\"height\", d.height)\r\n                    ;\r\n            })\r\n            ;\r\n    }\r\n    allowResize: { (): boolean; (_: boolean): ResizeSurface; };\r\n}\r\nResizeSurface.prototype._class += \" common_ResizeSurface\";\r\n\r\nResizeSurface.prototype.publish(\"allowResize\", true, \"boolean\", \"Sets if surface can be resized\", null, { tags: [\"Private\", \"Shared\"] });\r\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(target, type, selection) {\n  this.target = target;\n  this.type = type;\n  this.selection = selection;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {customEvent, event, mouse, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant\";\nimport BrushEvent from \"./event\";\nimport noevent, {nopropagation} from \"./noevent\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nvar X = {\n  name: \"x\",\n  handles: [\"e\", \"w\"].map(type),\n  input: function(x, e) { return x && [[x[0], e[0][1]], [x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y && [[e[0][0], y[0]], [e[1][0], y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"].map(type),\n  input: function(xy) { return xy; },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      listeners = dispatch(brush, \"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\")\n        .on(\"mousedown.brush touchstart.brush\", started);\n  }\n\n  brush.move = function(group, selection) {\n    if (group.selection) {\n      group\n          .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n          .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && empty(selection1) ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 && selection1 ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 == null || empty(selection1) ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args) {\n    return that.__brush.emitter || new Emitter(that, args);\n  }\n\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function() {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      return this;\n    },\n    brush: function() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (event.touches) { if (event.changedTouches.length < event.touches.length) return noevent(); }\n    else if (touchending) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx,\n        dy,\n        moving,\n        shifting = signX && signY && event.shiftKey,\n        lockX,\n        lockY,\n        point0 = mouse(that),\n        point = point0,\n        emit = emitter(that, arguments).beforestart();\n\n    if (type === \"overlay\") {\n      state.selection = selection = [\n        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n        [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n      ];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      group\n          .on(\"touchmove.brush\", moved, true)\n          .on(\"touchend.brush touchcancel.brush\", ended, true);\n    } else {\n      var view = select(event.view)\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n\n      dragDisable(event.view);\n    }\n\n    nopropagation();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = mouse(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n        else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n\n    function move() {\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n          else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n          if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n          else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n          if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation();\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n        group.on(\"touchmove.brush touchend.brush touchcancel.brush\", null);\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n\n    function keyupped() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = extent.apply(this, arguments);\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function ZoomEvent(target, type, transform) {\n  this.target = target;\n  this.type = type;\n  this.transform = transform;\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  return node.__zoom || identity;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant\";\nimport ZoomEvent from \"./event\";\nimport {Transform, identity} from \"./transform\";\nimport noevent, {nopropagation} from \"./noevent\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this, w, h;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    w = e.width.baseVal.value;\n    h = e.height.baseVal.value;\n  } else {\n    w = e.clientWidth;\n    h = e.clientHeight;\n  }\n  return [[0, 0], [w, h]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta() {\n  return -event.deltaY * (event.deltaMode ? 120 : 1) / 500;\n}\n\nfunction defaultTouchable() {\n  return \"ontouchstart\" in this;\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      gestures = [],\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n            .start()\n            .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n            .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    });\n  };\n\n  zoom.scaleTo = function(selection, k) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = centroid(e),\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    });\n  };\n\n  zoom.translateBy = function(selection, x, y) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    });\n  };\n\n  zoom.translateTo = function(selection, x, y) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p = centroid(e);\n      return constrain(identity.translate(p[0], p[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    });\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, center) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args),\n              e = extent.apply(that, args),\n              p = center || centroid(e),\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args) {\n    for (var i = 0, n = gestures.length, g; i < n; ++i) {\n      if ((g = gestures[i]).that === that) {\n        return g;\n      }\n    }\n    return new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.index = -1;\n    this.active = 0;\n    this.extent = extent.apply(that, args);\n  }\n\n  Gesture.prototype = {\n    start: function() {\n      if (++this.active === 1) {\n        this.index = gestures.push(this) - 1;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        gestures.splice(this.index, 1);\n        this.index = -1;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function wheeled() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = mouse(this);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent();\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = mouse(this),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation();\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved() {\n      noevent();\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped() {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent();\n      g.end();\n    }\n  }\n\n  function dblclicked() {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = mouse(this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments), translateExtent);\n\n    noevent();\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);\n    else select(this).call(zoom.transform, t1);\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        started,\n        n = touches.length, i, t, p;\n\n    nopropagation();\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true;\n      else if (!g.touch1) g.touch1 = p;\n    }\n\n    // If this is a dbltap, reroute to the (optional) dblclick.zoom handler.\n    if (touchstarting) {\n      touchstarting = clearTimeout(touchstarting);\n      if (!g.touch1) {\n        g.end();\n        p = select(this).on(\"dblclick.zoom\");\n        if (p) p.apply(this, arguments);\n        return;\n      }\n    }\n\n    if (started) {\n      touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved() {\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent();\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended() {\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation();\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else g.end();\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  return zoom;\n}\n","import { event as d3Event } from \"d3-selection\";\r\nimport { HTMLWidget } from \"./HTMLWidget\";\r\nimport { Widget } from \"./Widget\";\r\n\r\nimport \"../src/TitleBar.css\";\r\n\r\n//  Lite button for titlebar  ---\r\nexport class Button extends HTMLWidget {\r\n    private _enabled = true;\r\n\r\n    constructor() {\r\n        super();\r\n        this._tag = \"a\";\r\n    }\r\n\r\n    enter(domNode: HTMLElement, element) {\r\n        super.enter(domNode, element);\r\n        const context = this;\r\n        element\r\n            .attr(\"href\", \"#\")\r\n            .on(\"click\", function () {\r\n                context.click();\r\n                d3Event.preventDefault();\r\n            })\r\n            .on(\"mousemove\", this.mouseMove)\r\n            .on(\"mouseout\", this.mouseOut)\r\n            .append(\"i\")\r\n            .attr(\"class\", `fa ${this.faChar()} fa-lg fa-fw`)\r\n            ;\r\n    }\r\n\r\n    update(domNode: HTMLElement, element) {\r\n        super.update(domNode, element);\r\n        element\r\n            .classed(\"disabled\", !this.enabled())\r\n            .attr(\"title\", this.tooltip())\r\n            ;\r\n    }\r\n\r\n    //  Events  ---\r\n    click() {\r\n    }\r\n\r\n    mouseMove(d, idx, groups) {\r\n    }\r\n\r\n    mouseOut(d, idx, groups) {\r\n    }\r\n\r\n    enabled(): boolean;\r\n    enabled(_: boolean): this;\r\n    enabled(_?: boolean): boolean | this {\r\n        if (!arguments.length) return this._enabled;\r\n        this._enabled = _;\r\n        return this;\r\n    }\r\n}\r\nButton.prototype._class += \" common_Button\";\r\nexport interface Button {\r\n    faChar(): string;\r\n    faChar(_: string): this;\r\n    tooltip(): string;\r\n    tooltip(_: string): this;\r\n}\r\nButton.prototype.publish(\"faChar\", \"\", \"string\", \"FontAwesome class\");\r\nButton.prototype.publish(\"tooltip\", \"\", \"string\", \"Displays as the button alt text attribute\");\r\n\r\n//  Sticky button  ---\r\nexport class StickyButton extends Button {\r\n\r\n    enter(domNode: HTMLElement, element) {\r\n        super.enter(domNode, element);\r\n    }\r\n\r\n    update(domNode: HTMLElement, element) {\r\n        super.update(domNode, element);\r\n        element.classed(\"selected\", this.selected());\r\n    }\r\n}\r\nStickyButton.prototype._class += \" common_StickyButton\";\r\nexport interface StickyButton {\r\n    selected(): boolean;\r\n    selected(_: boolean): this;\r\n}\r\nStickyButton.prototype.publish(\"selected\", false, \"boolean\");\r\n\r\n//  Toggle button  ---\r\nexport class ToggleButton extends StickyButton {\r\n\r\n    enter(domNode: HTMLElement, element) {\r\n        element.on(\"click.sel\", (d, idx, groups) => {\r\n            this\r\n                .selected(!this.selected())\r\n                .render()\r\n                ;\r\n            d3Event.preventDefault();\r\n        });\r\n        super.enter(domNode, element);\r\n    }\r\n}\r\nToggleButton.prototype._class += \" common_ToggleButton\";\r\n\r\n//  Spacer  ---\r\nexport class Spacer extends HTMLWidget {\r\n\r\n    enter(domNode: HTMLElement, element) {\r\n        super.enter(domNode, element);\r\n        element\r\n            .attr(\"class\", this.vline() ? \"spacer vline\" : \"spacer\")\r\n            .attr(\"href\", \"#\")\r\n            .append(\"i\")\r\n            ;\r\n    }\r\n}\r\nSpacer.prototype._class += \" common_Spacer\";\r\n\r\nexport interface Spacer {\r\n    vline(): boolean;\r\n    vline(_: boolean): this;\r\n}\r\nSpacer.prototype.publish(\"vline\", true, \"boolean\");\r\n\r\n//  IconBar  ---\r\nexport class IconBar extends HTMLWidget {\r\n    _divIconBar;\r\n    _buttons: Widget[] = [];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n        this._divIconBar = element.append(\"div\")\r\n            .attr(\"class\", \"icon-bar\")\r\n            ;\r\n    }\r\n\r\n    update(domNode, element) {\r\n        super.update(domNode, element);\r\n\r\n        let buttons = this.buttons().filter(button => this.hiddenButtons().indexOf(button) < 0);\r\n        buttons = buttons.reduce((prev, item, idx) => {\r\n            if (item instanceof Spacer) {\r\n                if ((prev.length === 0 || idx === buttons.length - 1)) {\r\n                    return prev;\r\n                } else if (buttons[idx + 1] instanceof Spacer) {\r\n                    return prev;\r\n                }\r\n            }\r\n            prev.push(item);\r\n            return prev;\r\n        }, []);\r\n        const icons = this._divIconBar.selectAll(\".icon-bar-item\").data(buttons, (d: Widget) => d.id());\r\n        icons.enter().append(\"div\")\r\n            .attr(\"class\", \"icon-bar-item\")\r\n            .each(function (this: HTMLElement, d: Widget) {\r\n                d.target(this);\r\n            })\r\n            .merge(icons)\r\n            .each(function (d: Widget) {\r\n                d.render();\r\n            })\r\n            ;\r\n        icons.exit()\r\n            .each(function (d: Widget) {\r\n                d.target(null);\r\n            })\r\n            .remove()\r\n            ;\r\n        icons.order();\r\n    }\r\n\r\n    exit(domNode, element) {\r\n        this.buttons().forEach(b => b.target(null));\r\n        super.exit(domNode, element);\r\n    }\r\n}\r\nIconBar.prototype._class += \" common_IconBar\";\r\n\r\nexport interface IconBar {\r\n    buttons(): Widget[];\r\n    buttons(_: Widget[]): this;\r\n    hiddenButtons(): Widget[];\r\n    hiddenButtons(_: Widget[]): this;\r\n}\r\nIconBar.prototype.publish(\"buttons\", [], \"widgetArray\", null, { internal: true });\r\nIconBar.prototype.publish(\"hiddenButtons\", [], \"widgetArray\", null, { internal: true });\r\n\r\n//  SelectionBar  ---\r\nexport class SelectionButton extends StickyButton {\r\n    _owner: SelectionBar;\r\n\r\n    enter(domNode: HTMLElement, element) {\r\n        element.on(\"click.sel\", (d, idx, groups) => {\r\n            this.selected(true).render();\r\n            d3Event.preventDefault();\r\n        });\r\n        super.enter(domNode, element);\r\n    }\r\n\r\n    selected(): boolean;\r\n    selected(_: boolean): this;\r\n    selected(_?: boolean): boolean | this {\r\n        const retVal = super.selected.apply(this, arguments);\r\n        if (_ && this._owner) {\r\n            this._owner.buttons().filter(sb => sb !== this && sb instanceof SelectionButton).forEach((sb: SelectionButton) => sb.selected(false).render());\r\n            this._owner.selected(this);\r\n        }\r\n        return retVal;\r\n    }\r\n}\r\nSelectionButton.prototype._class += \" common_SelectionButton\";\r\n\r\nexport class SelectionBar extends IconBar {\r\n\r\n    buttons(): Array<SelectionButton | Spacer>;\r\n    buttons(_: Array<SelectionButton | Spacer>): this;\r\n    buttons(_?: Array<SelectionButton | Spacer>): Array<SelectionButton | Spacer> | this {\r\n        const retVal = super.buttons.apply(this, arguments);\r\n        if (arguments.length) {\r\n            _.filter(b => b instanceof SelectionButton).forEach((sb: SelectionButton) => {\r\n                sb._owner = this;\r\n            });\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    //  Events ---\r\n    selected(row: SelectionButton) {\r\n    }\r\n}\r\nSelectionBar.prototype._class += \" common_SelectionBar\";\r\n\r\n//  Titlebar  ---\r\nexport class TitleBar extends IconBar {\r\n\r\n    _divTitle;\r\n    _divTitleIcon;\r\n    _divTitleText;\r\n    _divDescriptionText;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    enter(domNode, element) {\r\n        this._divTitle = element.append(\"div\")\r\n            .attr(\"class\", \"title-title\")\r\n            ;\r\n        this._divTitleIcon = this._divTitle.append(\"div\")\r\n            .attr(\"class\", \"title-icon\")\r\n            .style(\"font-family\", this.titleIconFont())\r\n            .style(\"font-size\", `${this.titleIconFontSize()}px`)\r\n            .style(\"width\", `${this.titleIconFontSize()}px`)\r\n            ;\r\n        this._divTitle.append(\"div\")\r\n            .attr(\"class\", \"data-count\")\r\n            ;\r\n        this._divTitleText = this._divTitle.append(\"div\")\r\n            .attr(\"class\", \"title-text\")\r\n            .style(\"font-family\", this.titleFont())\r\n            .style(\"font-size\", `${this.titleFontSize()}px`)\r\n            ;\r\n        this._divDescriptionText = this._divTitle.append(\"div\")\r\n            .attr(\"class\", \"description-text\")\r\n            .style(\"font-family\", this.descriptionFont())\r\n            ;\r\n\r\n        super.enter(domNode, element);\r\n    }\r\n\r\n    update(domNode, element) {\r\n        this._divTitleIcon\r\n            .text(this.titleIcon())\r\n            .style(\"display\", this.titleIcon() !== \"\" ? \"inline-block\" : \"none\")\r\n            ;\r\n        this._divTitleText\r\n            .text(this.title())\r\n            ;\r\n        this._divDescriptionText\r\n            .style(\"display\", this.description_exists() ? \"block\" : \"none\")\r\n            .style(\"font-size\", this.description_exists() ? `${this.descriptionFontSize()}px` : null)\r\n            .style(\"line-height\", this.description_exists() ? `${this.descriptionFontSize()}px` : null)\r\n            .text(this.description())\r\n            ;\r\n\r\n        super.update(domNode, element);\r\n    }\r\n}\r\nTitleBar.prototype._class += \" common_TitleBar\";\r\n\r\nexport interface TitleBar {\r\n    title(): string;\r\n    title(_: string): this;\r\n    titleIcon(): string;\r\n    titleIcon(_: string): this;\r\n    titleIconFont(): string;\r\n    titleIconFont(_: string): this;\r\n    titleFont(): string;\r\n    titleFont(_: string): this;\r\n    titleIconFontSize(): number;\r\n    titleIconFontSize(_: number): this;\r\n    titleFontSize(): number;\r\n    titleFontSize(_: number): this;\r\n    description(): string;\r\n    description(_: string): this;\r\n    description_exists(): boolean;\r\n    descriptionFont(): string;\r\n    descriptionFont(_: string): this;\r\n    descriptionFontSize(): number;\r\n    descriptionFontSize(_: number): this;\r\n}\r\nTitleBar.prototype.publish(\"titleIcon\", \"\", \"string\", \"Icon text\");\r\nTitleBar.prototype.publish(\"titleIconFont\", \"\", \"string\", \"Icon font-family\");\r\nTitleBar.prototype.publish(\"titleIconFontSize\", 28, \"number\", \"Icon font-size (pixels)\");\r\nTitleBar.prototype.publish(\"title\", \"\", \"string\", \"Title text\");\r\nTitleBar.prototype.publish(\"titleFont\", \"\", \"string\", \"Title font-family\");\r\nTitleBar.prototype.publish(\"titleFontSize\", 20, \"number\", \"Title font-size (pixels)\");\r\nTitleBar.prototype.publish(\"description\", null, \"string\", \"Description text\", null, { optional: true });\r\nTitleBar.prototype.publish(\"descriptionFont\", \"\", \"string\", \"Description font-family\");\r\nTitleBar.prototype.publish(\"descriptionFontSize\", 10, \"number\", \"Description font-size (pixels)\");\r\n","﻿import { brush as d3Brush } from \"d3-brush\";\r\nimport { event as d3Event, select as d3Select } from \"d3-selection\";\r\nimport { zoom as d3Zoom, zoomIdentity as d3ZoomIdentity } from \"d3-zoom\";\r\nimport { SVGWidget } from \"./SVGWidget\";\r\nimport { Button, IconBar, Spacer } from \"./TitleBar\";\r\n\r\nimport \"../src/SVGZoomWidget.css\";\r\n\r\nexport class SVGZoomWidget extends SVGWidget {\r\n\r\n    protected _renderElement;\r\n\r\n    private _currZoom;\r\n    protected _zoomScale = 1;\r\n    protected _zoomTranslate = [0, 0];\r\n    protected _zoomGrab;\r\n    protected _zoomG;\r\n    private _prevZoomable;\r\n\r\n    protected _brush;\r\n\r\n    protected _mouseCapture = false;\r\n    protected _mouseDownMode: \"zoom\" | \"selection\" = \"zoom\";\r\n    protected _mouseDownTransform;\r\n\r\n    protected _buttonToFit;\r\n    protected _buttonPlus;\r\n    protected _buttonMinus;\r\n    protected _buttonLast;\r\n\r\n    _iconBar = new IconBar()\r\n        .buttons([\r\n            new Button().faChar(\"fa-arrows-alt\").tooltip(\"Zoom to fit\")\r\n                .on(\"click\", () => {\r\n                    this.zoomToFit();\r\n                }),\r\n            new Spacer().vline(false),\r\n            new Button().faChar(\"fa-plus\").tooltip(\"Zoom in\")\r\n                .on(\"click\", () => {\r\n                    this.zoomPlus();\r\n                }),\r\n            new Button().faChar(\"fa-minus\").tooltip(\"Zoom out\")\r\n                .on(\"click\", () => {\r\n                    this.zoomMinus();\r\n                })\r\n        ])\r\n        ;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this._currZoom = d3Zoom()\r\n            .scaleExtent([0.05, 20])\r\n            .on(\"zoom end\", (evt) => {\r\n                this.onZoomed();\r\n            })\r\n            ;\r\n    }\r\n\r\n    getScreenBBox(target: any) {\r\n        let targetel = target;\r\n\r\n        while (targetel.getScreenCTM == null && targetel.parentNode == null) {\r\n            targetel = targetel.parentNode;\r\n        }\r\n\r\n        const bbox: any = {};\r\n        const matrix = targetel.getScreenCTM();\r\n        const tbbox = targetel.getBBox();\r\n        const width = tbbox.width;\r\n        const height = tbbox.height;\r\n        const x = tbbox.x;\r\n        const y = tbbox.y;\r\n        const point = this._placeholderElement.node().createSVGPoint();\r\n        point.x = x;\r\n        point.y = y;\r\n\r\n        bbox.nw = point.matrixTransform(matrix);\r\n        point.x += width;\r\n        bbox.ne = point.matrixTransform(matrix);\r\n        point.y += height;\r\n        bbox.se = point.matrixTransform(matrix);\r\n        point.x -= width;\r\n        bbox.sw = point.matrixTransform(matrix);\r\n        point.y -= height / 2;\r\n        bbox.w = point.matrixTransform(matrix);\r\n        point.x += width;\r\n        bbox.e = point.matrixTransform(matrix);\r\n        point.x -= width / 2;\r\n        point.y -= height / 2;\r\n        bbox.n = point.matrixTransform(matrix);\r\n        point.y += height;\r\n        bbox.s = point.matrixTransform(matrix);\r\n\r\n        return {\r\n            x: bbox.nw.x,\r\n            y: bbox.nw.y,\r\n            width: bbox.se.x - bbox.nw.x,\r\n            height: bbox.se.y - bbox.nw.y\r\n        };\r\n    }\r\n\r\n    zoomScale(): number {\r\n        return this._zoomScale;\r\n    }\r\n\r\n    zoomTranslate(): number[] {\r\n        return this._zoomTranslate;\r\n    }\r\n\r\n    zoomExtent(range): void {\r\n        this._currZoom.scaleExtent(range);\r\n    }\r\n\r\n    zoomTo(translate?, scale?, transitionDuration = 250) {\r\n        translate = translate || this._zoomTranslate;\r\n        scale = scale || this._zoomScale;\r\n        transitionDuration = transitionDuration === undefined ? this.zoomDuration() : transitionDuration;\r\n\r\n        this.element().transition().duration(transitionDuration)\r\n            .call(this._currZoom.transform, d3ZoomIdentity.translate(translate[0], translate[1]).scale(scale))\r\n            ;\r\n    }\r\n\r\n    zoomPlus() {\r\n        this.element().transition()\r\n            .call(this._currZoom.scaleBy, 1.33)\r\n            ;\r\n    }\r\n\r\n    zoomMinus() {\r\n        this.element().transition()\r\n            .call(this._currZoom.scaleBy, 1 / 1.33)\r\n            ;\r\n    }\r\n\r\n    centerOnBBox(bbox, transitionDuration?) {\r\n        if (bbox.width && bbox.height) {\r\n            const x = bbox.x + bbox.width / 2;\r\n            const y = bbox.y + bbox.height / 2;\r\n            const width = this.width();\r\n            const height = this.height();\r\n\r\n            const scale = this.zoomScale();\r\n            const translate = [width / 2 - scale * x, height / 2 - scale * y];\r\n            this.zoomTo(translate, scale, transitionDuration);\r\n        }\r\n    }\r\n\r\n    zoomToBBox(bbox, transitionDuration?, widthOnly: boolean = false, scale?: number) {\r\n        if (bbox.width && bbox.height) {\r\n            const x = bbox.x + bbox.width / 2;\r\n            const y = bbox.y + bbox.height / 2;\r\n            const dx = bbox.width;\r\n            const dy = bbox.height;\r\n            const width = this.width();\r\n            const height = this.height();\r\n\r\n            let newScale = scale || 1 / (widthOnly ? dx / width : Math.max(dx / width, dy / height));\r\n            if (this.zoomToFitLimit_exists() && newScale > this.zoomToFitLimit()) {\r\n                newScale = this.zoomToFitLimit();\r\n            }\r\n            const translate = [width / 2 - newScale * x, height / 2 - newScale * y];\r\n            this.zoomTo(translate, newScale, transitionDuration);\r\n        }\r\n    }\r\n\r\n    zoomToScale(scale, transitionDuration?) {\r\n        if (this._renderElement) {\r\n            const bbox = this._renderElement.node().getBBox();\r\n            this.zoomToBBox(bbox, transitionDuration, undefined, scale);\r\n        }\r\n    }\r\n\r\n    zoomToWidth(transitionDuration?) {\r\n        if (this._renderElement) {\r\n            const bbox = this._renderElement.node().getBBox();\r\n            this.zoomToBBox(bbox, transitionDuration, true);\r\n        }\r\n    }\r\n\r\n    zoomToFit(transitionDuration?) {\r\n        if (this._renderElement) {\r\n            const bbox = this._renderElement.node().getBBox();\r\n            this.zoomToBBox(bbox, transitionDuration);\r\n        }\r\n    }\r\n\r\n    onZoomed() {\r\n        if (d3Event && d3Event.transform && this._mouseDownMode === \"zoom\") {\r\n            this._zoomScale = d3Event.transform.k;\r\n            this._zoomTranslate = [d3Event.transform.x, d3Event.transform.y];\r\n            this._zoomG.attr(\"transform\", d3Event.transform);\r\n        }\r\n    }\r\n\r\n    enter(domNode, element) {\r\n        super.enter(domNode, element);\r\n        this._zoomGrab = element.append(\"rect\")\r\n            .attr(\"class\", \"zoomBackground\")\r\n            .attr(\"width\", this.width())\r\n            .attr(\"height\", this.height())\r\n            ;\r\n        this._zoomG = element.append(\"g\");\r\n        this._renderElement = this._zoomG.append(\"g\");\r\n\r\n        this._brush = d3Brush()\r\n            .on(\"start brush\", function () {\r\n            })\r\n            .on(\"end\", () => {\r\n                this._brush.move(element, null);\r\n            })\r\n            ;\r\n\r\n        element\r\n            .on(\"mousein mouseover\", () => {\r\n                this._mouseCapture = true;\r\n            })\r\n            .on(\"mouseout\", () => {\r\n                this._mouseCapture = false;\r\n            })\r\n            ;\r\n\r\n        d3Select(window)\r\n            .on(\"keydown\", () => {\r\n                if (this._mouseCapture && d3Event.ctrlKey) {\r\n                    /*  TODO:  GH-2555\r\n                    this._mouseDownMode = \"selection\";\r\n                    element.on(\".zoom\", null);\r\n                    element.select(\".overlay\")\r\n                        .attr(\"cursor\", \"crosshair\")\r\n                        ;\r\n                    element.call(this._brush);\r\n                    */\r\n                }\r\n            })\r\n            .on(\"keyup\", () => {\r\n                if (this._mouseDownMode === \"selection\") {\r\n                    this._mouseDownMode = \"zoom\";\r\n                    this._brush.move(element, null);\r\n                    element.on(\".brush\", null);\r\n                    element.select(\".overlay\")\r\n                        .attr(\"cursor\", null)\r\n                        .remove()\r\n                        ;\r\n                    element.select(\".selection\").remove();\r\n                    element.selectAll(\".handle\").remove();\r\n                    element.call(this._currZoom);\r\n                }\r\n            })\r\n            ;\r\n        if (this._prevZoomable !== this.zoomable()) {\r\n            if (this.zoomable()) {\r\n                element.call(this._currZoom);\r\n            } else {\r\n                element.on(\".zoom\", null);\r\n            }\r\n            this._prevZoomable = this.zoomable();\r\n        }\r\n\r\n        this._iconBar.target(element.node());\r\n    }\r\n\r\n    update(domNode, element) {\r\n        super.update(domNode, element);\r\n\r\n        this._zoomGrab\r\n            .attr(\"width\", this.width())\r\n            .attr(\"height\", this.height())\r\n            ;\r\n\r\n        this._iconBar\r\n            .visible(this.zoomable() && this.showToolbar())\r\n            .render((w: IconBar) => {\r\n                const bbox = w.getBBox();\r\n                w.reposition({ x: this.width() - bbox.width - 4, y: -4 });\r\n            })\r\n            ;\r\n    }\r\n\r\n    exit(domNode, element) {\r\n        this._iconBar.target(null);\r\n        super.exit(domNode, element);\r\n    }\r\n}\r\nSVGZoomWidget.prototype._class += \" common_SVGZoomWidget\";\r\n\r\nexport interface SVGZoomWidget {\r\n    showToolbar(): boolean;\r\n    showToolbar(_: boolean): this;\r\n    zoomable(): boolean;\r\n    zoomable(_: boolean): this;\r\n    zoomDuration(): number;\r\n    zoomDuration(_: number): this;\r\n    zoomToFitLimit(): number;\r\n    zoomToFitLimit(_: number): this;\r\n    zoomToFitLimit_exists(): boolean;\r\n}\r\nSVGZoomWidget.prototype.publish(\"showToolbar\", true, \"boolean\", \"Show Toolbar\");\r\nSVGZoomWidget.prototype.publish(\"zoomable\", true, \"boolean\", \"Enable/Disable Zooming\");\r\nSVGZoomWidget.prototype.publish(\"zoomDuration\", 250, \"number\", \"Transition Duration\");\r\nSVGZoomWidget.prototype.publish(\"zoomToFitLimit\", undefined, \"number\", \"Zoom to fit limit\", undefined, { optional: true });\r\n","import { publish } from \"./PropertyExt\";\r\nimport { Widget } from \"./Widget\";\r\n\r\nexport class WidgetArray extends Widget {\r\n\r\n    @publish([], \"widgetArray\", \"Widget Array\")\r\n    content: publish<this, Widget[]>;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\nWidgetArray.prototype._class += \" common_WidgetArray\";\r\n","export const PKG_NAME = \"@hpcc-js/common\";\r\nexport const PKG_VERSION = \"2.19.2\";\r\nexport const BUILD_VERSION = \"2.10.1\";\r\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/.test(value)) value = new Date(value);\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n","export function linear(t) {\n  return +t;\n}\n","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n","import {slice} from \"./array\";\nimport bisect from \"./bisect\";\nimport constant from \"./constant\";\nimport extent from \"./extent\";\nimport identity from \"./identity\";\nimport range from \"./range\";\nimport {tickStep} from \"./ticks\";\nimport sturges from \"./threshold/sturges\";\n\nexport default function() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = tickStep(x0, x1, tz);\n      tz = range(Math.ceil(x0 / tz) * tz, x1, tz); // exclusive\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisect(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","export default function(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n","import {hue} from \"./color\";\n\nexport default function(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","export default function(array, indexes) {\n  var i = indexes.length, permutes = new Array(i);\n  while (i--) permutes[i] = array[indexes[i]];\n  return permutes;\n}\n","export default function piecewise(interpolate, values) {\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","import {map} from \"./array\";\nimport {linearish} from \"./linear\";\nimport number from \"./number\";\n\nexport default function identity() {\n  var domain = [0, 1];\n\n  function scale(x) {\n    return +x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = map.call(_, number), scale) : domain.slice();\n  };\n\n  scale.copy = function() {\n    return identity().domain(domain);\n  };\n\n  return linearish(scale);\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [];\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      n = 1;\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {calendar} from \"./time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond} from \"d3-time\";\n\nexport default function() {\n  return calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n}\n","import ascending from \"./ascending\";\n\nexport default function(values, compare) {\n  if (!(n = values.length)) return;\n  var n,\n      i = 0,\n      j = 0,\n      xi,\n      xj = values[j];\n\n  if (compare == null) compare = ascending;\n\n  while (++i < n) {\n    if (compare(xi = values[i], xj) < 0 || compare(xj, xj) !== 0) {\n      xj = xi, j = i;\n    }\n  }\n\n  if (compare(xj, xj) === 0) return j;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","export default function(array, i0, i1) {\n  var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m + i0];\n    array[m + i0] = array[i + i0];\n    array[i + i0] = t;\n  }\n\n  return array;\n}\n","import {map} from \"../array\";\nimport ascending from \"../ascending\";\nimport number from \"../number\";\nimport quantile from \"../quantile\";\n\nexport default function(values, min, max) {\n  values = map.call(values, number).sort(ascending);\n  return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n}\n","import deviation from \"../deviation\";\n\nexport default function(values, min, max) {\n  return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","import transpose from \"./transpose\";\n\nexport default function() {\n  return transpose(arguments);\n}\n"]}